<ion-header>
  <ion-toolbar class="header-color">
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>Dashboard</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid style="margin: 15%;">
    <ion-row style="text-align: center;">
      <!-- <ion-col>
          <ion-label>Total Points Redeem</ion-label>
          <ion-input [(ngModel)]="dashboard.totalredeem" readonly></ion-input>  
      </ion-col> -->
      <ion-col>
        <ion-label>Total Paid Amount (in ₹)</ion-label>
        <ion-input [(ngModel)]="dashboard.totalpaid" readonly></ion-input>  
    </ion-col>
      <ion-col>
          <ion-label>Total Pending Amount (in ₹)</ion-label>
          <ion-input [(ngModel)]="dashboard.totalpending" readonly></ion-input>  
      </ion-col>
      </ion-row>
      <ion-row style="text-align: center;">
      
      <ion-col>
        <ion-label>Total Number of Cases</ion-label>
        <ion-input (click)="goto('totalcases')" [(ngModel)]="dashboard.totalcases" readonly></ion-input>  
    </ion-col>
    <ion-col>
      <ion-label>Total Invalid Cases</ion-label>
      <ion-input (click)="goto('invalidcases')" [(ngModel)]="dashboard.invalidcases" readonly></ion-input>  
  </ion-col>
    </ion-row>
  </ion-grid>

  <ion-item *ngIf="userRole == 'agent' && top5 == true">
    <ion-searchbar placeholder="Enter LAN Number" [(ngModel)]="searchInput" (keyup)="searchBusiness($event)"></ion-searchbar>
  </ion-item>
  <div></div>
  <div *ngIf="userRole == 'agent' && top5 == true">
    <ion-card *ngFor="let business of top5Records;">
      <ion-row>
        <ion-col size="8">{{business.name}}</ion-col>
        <ion-col size="4">₹ {{business.disbursedAmount}}</ion-col>
      </ion-row>
      <ion-row>
        <ion-col>Issued Date</ion-col>
        <ion-col>{{business.disburseDate}}</ion-col>
      </ion-row>
      <ion-row>
        <ion-col>LAN No</ion-col>
        <ion-col>{{business.lanNo}}</ion-col>
      </ion-row>
      <ion-row>
        <ion-col>Bank Name</ion-col>
        <ion-col>{{business.bankName}}</ion-col>
      </ion-row>
      <ion-row>
        <ion-col>Agent Pay</ion-col>
        <ion-col>{{business.amountToPayAgent}}</ion-col>
      </ion-row>
      <ion-row>
        <ion-col>Sub Agent Pay</ion-col>
        <ion-col>{{business.amountToPaySubAgent}}</ion-col>
      </ion-row>
      <ion-row>
        <ion-col>Qc Status</ion-col>
        <ion-col>{{business.approvedbyadmin == 'A'?'Approved':business.approvedbyadmin == 'R'?'Rejected':business.approvedbyadmin == 'H'?'Hold':business.approvedbyadmin == 'P'?"Pending":business.approvedbyadmin == 'Paid'?"Paid":"NA"}}</ion-col>
      </ion-row>
    </ion-card>
  </div>

  <!-- <h2>Member Dashboard</h2>
  <ion-item>
    <ion-label position="floating">Select Member</ion-label>
    <ion-select placeholder="Select member" interface="action-sheet">
      <ion-select-option value="all">All Members</ion-select-option>
      <ion-select-option value="m1">M1</ion-select-option>
      <ion-select-option value="m2">M2</ion-select-option>
    </ion-select>
  </ion-item>
  <ion-item>
    <ion-label position="floating">Select Date</ion-label>
    <ion-select placeholder="Select date">
      <ion-select-option value="all">All Members</ion-select-option>
    </ion-select>
  </ion-item>
  <br>
  <ion-grid>
    <ion-row>
      <ion-col>
        <ion-item>
          <ion-label>Lead Number</ion-label>
          <ion-input></ion-input>
        </ion-item>  
      </ion-col>
      <ion-col>
        <ion-item>
          <ion-label>Customer Name</ion-label>
          <ion-input></ion-input>
        </ion-item>  
      </ion-col>
    </ion-row>
    <div class="btnStyle">
      <ion-button class="btnStyleIn">Search</ion-button>
    </div>
  </ion-grid> -->
  <div class="btnStyle">
    <ion-button (click)="exportReport()" shape="round">Export to Exel</ion-button>
  </div>
</ion-content>
