"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9662],{9662:(T,l,u)=>{u.r(l),u.d(l,{AdminpendingbusinessPageModule:()=>P});var g=u(6895),b=u(4719),i=u(191),p=u(5181),m=u(5861),n=u(4650),A=u(1056),f=u(2796);function h(o,a){if(1&o){const e=n.EpF();n.TgZ(0,"ion-card")(1,"ion-row")(2,"ion-col",3),n._uU(3),n.qZA()(),n.TgZ(4,"ion-row")(5,"ion-col",4),n._uU(6),n.qZA(),n.TgZ(7,"ion-col",4),n._uU(8),n.qZA()(),n.TgZ(9,"ion-row")(10,"ion-col",4),n._uU(11),n.qZA(),n.TgZ(12,"ion-col",4),n._uU(13),n.qZA()(),n.TgZ(14,"ion-row")(15,"ion-col",3),n._uU(16),n.qZA()(),n.TgZ(17,"ion-row")(18,"ion-col",4)(19,"ion-button",5),n.NdJ("click",function(){const s=n.CHM(e),r=s.$implicit,c=s.index,d=n.oxw();return n.KtG(d.reject(r.id,c))}),n._uU(20,"Reject"),n.qZA()(),n.TgZ(21,"ion-col",4)(22,"ion-button",5),n.NdJ("click",function(){const s=n.CHM(e),r=s.$implicit,c=s.index,d=n.oxw();return n.KtG(d.approve(r.id,c))}),n._uU(23,"Approve"),n.qZA()()()()}if(2&o){const e=a.$implicit;n.xp6(3),n.hij(" ",e.name," "),n.xp6(3),n.hij(" LAN: ",e.lanNo," "),n.xp6(2),n.hij(" Created By: ",e.createdBy," "),n.xp6(3),n.hij(" Amount: ",e.disbursedAmount," "),n.xp6(2),n.hij(" Type: ",e.typeOfBorrow," "),n.xp6(3),n.hij(" Remark: ",e.remarks," ")}}const Z=[{path:"",component:(()=>{class o{constructor(e,t){this.commondataService=e,this.firestore=t}ngOnInit(){}ionViewWillEnter(){this.business=this.commondataService.allPendingBusiness,console.log(this.business)}reject(e,t){var s=this;return(0,m.Z)(function*(){console.log(e,t);for(var r=0;r<s.business.length;r++)s.business[r].id==e&&(yield s.firestore.collection("business").doc(e).update({approvedbyadmin:"R"}).catch(c=>{console.log(c),alert("Unable to process request")}).then(c=>{console.log(c),s.business.splice(t,1)}))})()}approve(e,t){var s=this;return(0,m.Z)(function*(){console.log(e,t);for(var r=0;r<s.business.length;r++)s.business[r].id==e&&(yield s.firestore.collection("business").doc(e).update({approvedbyadmin:"A"}).catch(c=>{console.log(c),alert("Unable to process request")}).then(c=>{console.log(c),s.business.splice(t,1)}))})()}}return o.\u0275fac=function(e){return new(e||o)(n.Y36(A.Y),n.Y36(f.ST))},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-adminpendingbusiness"]],decls:9,vars:1,consts:[[1,"header-color"],["slot","start"],[4,"ngFor","ngForOf"],[2,"text-align","center"],["size","6",2,"text-align","center"],[3,"click"]],template:function(e,t){1&e&&(n.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),n._UZ(3,"ion-back-button"),n.qZA(),n.TgZ(4,"ion-title"),n._uU(5,"Pending Business Requests"),n.qZA()()(),n.TgZ(6,"ion-content")(7,"ion-grid"),n.YNc(8,h,24,6,"ion-card",2),n.qZA()()),2&e&&(n.xp6(8),n.Q6J("ngForOf",t.business))},dependencies:[g.sg,i.oU,i.YG,i.Sm,i.PM,i.wI,i.W2,i.jY,i.Gu,i.Nd,i.wd,i.sr,i.cs]}),o})()}];let v=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[p.Bz.forChild(Z),p.Bz]}),o})(),P=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[g.ez,b.u5,i.Pc,v]}),o})()}}]);