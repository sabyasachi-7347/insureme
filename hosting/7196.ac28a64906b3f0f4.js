"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7196],{7196:(P,b,r)=>{r.r(b),r.d(b,{AdminbusinesseditPageModule:()=>f});var g=r(6895),d=r(4719),u=r(191),l=r(5181),_=r(5861),n=r(4650),c=r(2796);function p(i,a){if(1&i){const s=n.EpF();n.TgZ(0,"ion-row")(1,"ion-col"),n._uU(2,"Sub Agent Name"),n.qZA(),n.TgZ(3,"ion-col")(4,"ion-input",4),n.NdJ("ngModelChange",function(t){n.CHM(s);const o=n.oxw();return n.KtG(o.business.createdByName=t)}),n.qZA()()()}if(2&i){const s=n.oxw();n.xp6(4),n.Q6J("ngModel",s.business.createdByName)}}function m(i,a){if(1&i){const s=n.EpF();n.TgZ(0,"ion-row")(1,"ion-col"),n._uU(2,"Sub Agent Email"),n.qZA(),n.TgZ(3,"ion-col")(4,"ion-input",4),n.NdJ("ngModelChange",function(t){n.CHM(s);const o=n.oxw();return n.KtG(o.business.createdBy=t)}),n.qZA()()()}if(2&i){const s=n.oxw();n.xp6(4),n.Q6J("ngModel",s.business.createdBy)}}function A(i,a){if(1&i){const s=n.EpF();n.TgZ(0,"ion-row")(1,"ion-col"),n._uU(2,"Sub-Agent Points (in %)"),n.qZA(),n.TgZ(3,"ion-col")(4,"ion-input",6),n.NdJ("ngModelChange",function(t){n.CHM(s);const o=n.oxw();return n.KtG(o.business.points=t)})("keyup",function(){n.CHM(s);const t=n.oxw();return n.KtG(t.pointChange())}),n.qZA()()()}if(2&i){const s=n.oxw();n.xp6(4),n.Q6J("ngModel",s.business.points)}}function h(i,a){if(1&i&&(n.TgZ(0,"ion-select-option",18),n._uU(1),n.qZA()),2&i){const s=a.$implicit;n.s9C("value",s),n.xp6(1),n.Oqu(s)}}function Z(i,a){if(1&i){const s=n.EpF();n.TgZ(0,"ion-row")(1,"ion-col"),n._uU(2,"Sub-Agent Amount"),n.qZA(),n.TgZ(3,"ion-col")(4,"ion-input",14),n.NdJ("ngModelChange",function(t){n.CHM(s);const o=n.oxw();return n.KtG(o.business.amountToPaySubAgent=t)}),n.qZA()()()}if(2&i){const s=n.oxw();n.xp6(4),n.Q6J("ngModel",s.business.amountToPaySubAgent)}}const T=[{path:"",component:(()=>{class i{constructor(s,e,t){this.route=s,this.router=e,this.firestore=t,this.business="",this.banks=[],this.banks=JSON.parse(localStorage.banklist),this.route.queryParams.subscribe(o=>{this.router.getCurrentNavigation().extras.state&&(this.business=this.router.getCurrentNavigation().extras.state.business,this.business.agent==this.business.createdBy?(this.business.amountToPaySubAgent=0,this.business.points=0,this.business.amountToPayAgent=Number(this.business.disbursedAmount)*Number(this.business.pointsAgent)/100,console.log("test")):(this.business.amountToPaySubAgent=Number(this.business.disbursedAmount)*Number(this.business.points)/100,this.business.amountToPayAgent=Number(this.business.disbursedAmount)*Number(this.business.pointsAgent)/100,console.log("test")))})}pointChange(){this.business.amountToPaySubAgent=Number(this.business.disbursedAmount)*Number(this.business.points)/100,this.business.amountToPayAgent=Number(this.business.disbursedAmount)*Number(this.business.pointsAgent)/100}ngOnInit(){}goBack(){this.router.navigate(["admin"])}updateDetails(){var s=this;return(0,_.Z)(function*(){s.business.approvedbyadmin="A",yield s.firestore.collection("business").doc(s.business.id).update(s.business).catch(e=>{console.log(e),alert("Unable to process request")}).then(e=>{console.log(e),alert("Business Approved"),s.router.navigate(["admin"])})})()}hold(){var s=this;return(0,_.Z)(function*(){console.log(s.business.id),s.business.approvedbyadmin="H",yield s.firestore.collection("business").doc(s.business.id).update(s.business).catch(e=>{console.log(e),alert("Unable to process request")}).then(e=>{alert("Business is hold"),s.router.navigate(["admin"])})})()}reject(){var s=this;return(0,_.Z)(function*(){console.log(s.business.id),s.business.approvedbyadmin="R",yield s.firestore.collection("business").doc(s.business.id).update(s.business).catch(e=>{console.log(e),alert("Unable to process request")}).then(e=>{alert("Business is rejected"),s.router.navigate(["admin"])})})()}}return i.\u0275fac=function(s){return new(s||i)(n.Y36(l.gz),n.Y36(l.F0),n.Y36(c.ST))},i.\u0275cmp=n.Xpm({type:i,selectors:[["app-adminbusinessedit"]],decls:86,vars:17,consts:[[1,"header-color"],["slot","start"],[3,"ngModel","ngModelChange"],["disabled","",3,"ngModel","readonly","ngModelChange"],["readonly","","disabled","",3,"ngModel","ngModelChange"],[4,"ngIf"],["type","number",3,"ngModel","ngModelChange","keyup"],["placeholder","Type of Loans","interface","action-sheet",3,"ngModel","ngModelChange"],["value","home"],["value","personal"],["value","mortgage"],["value","business"],["placeholder","Select Bank","interface","action-sheet",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","number","disabled","",3,"ngModel","ngModelChange"],[2,"text-align","center"],[3,"click"],["size","6",2,"text-align","center"],[3,"value"]],template:function(s,e){1&s&&(n.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),n._UZ(3,"ion-back-button"),n.qZA(),n.TgZ(4,"ion-title"),n._uU(5,"Modify Business Details"),n.qZA()()(),n.TgZ(6,"ion-content")(7,"ion-grid")(8,"ion-row")(9,"ion-col"),n._uU(10,"Name"),n.qZA(),n.TgZ(11,"ion-col")(12,"ion-input",2),n.NdJ("ngModelChange",function(o){return e.business.name=o}),n.qZA()()(),n.TgZ(13,"ion-row")(14,"ion-col"),n._uU(15,"LAN"),n.qZA(),n.TgZ(16,"ion-col")(17,"ion-input",3),n.NdJ("ngModelChange",function(o){return e.business.lanNo=o}),n.qZA()()(),n.TgZ(18,"ion-row")(19,"ion-col"),n._uU(20,"Agent Name"),n.qZA(),n.TgZ(21,"ion-col")(22,"ion-input",4),n.NdJ("ngModelChange",function(o){return e.business.agentName=o}),n.qZA()()(),n.TgZ(23,"ion-row")(24,"ion-col"),n._uU(25,"Agent Email"),n.qZA(),n.TgZ(26,"ion-col")(27,"ion-input",4),n.NdJ("ngModelChange",function(o){return e.business.agent=o}),n.qZA()()(),n.YNc(28,p,5,1,"ion-row",5),n.YNc(29,m,5,1,"ion-row",5),n.TgZ(30,"ion-row")(31,"ion-col"),n._uU(32,"Agent Points (in %)"),n.qZA(),n.TgZ(33,"ion-col")(34,"ion-input",6),n.NdJ("ngModelChange",function(o){return e.business.pointsAgent=o})("keyup",function(){return e.pointChange()}),n.qZA()()(),n.YNc(35,A,5,1,"ion-row",5),n.TgZ(36,"ion-row")(37,"ion-col"),n._uU(38,"Amount"),n.qZA(),n.TgZ(39,"ion-col")(40,"ion-input",6),n.NdJ("ngModelChange",function(o){return e.business.disbursedAmount=o})("keyup",function(){return e.pointChange()}),n.qZA()()(),n.TgZ(41,"ion-row")(42,"ion-col"),n._uU(43,"Type of Loans"),n.qZA(),n.TgZ(44,"ion-col")(45,"ion-select",7),n.NdJ("ngModelChange",function(o){return e.business.typeOfBorrow=o}),n.TgZ(46,"ion-select-option",8),n._uU(47,"Home"),n.qZA(),n.TgZ(48,"ion-select-option",9),n._uU(49,"Personal"),n.qZA(),n.TgZ(50,"ion-select-option",10),n._uU(51,"Mortgage"),n.qZA(),n.TgZ(52,"ion-select-option",11),n._uU(53,"Business"),n.qZA()()()(),n.TgZ(54,"ion-row")(55,"ion-col"),n._uU(56,"Disbursed Date"),n.qZA(),n.TgZ(57,"ion-col")(58,"ion-input",2),n.NdJ("ngModelChange",function(o){return e.business.disburseDate=o}),n.qZA()()(),n.TgZ(59,"ion-row")(60,"ion-col"),n._uU(61,"Bank Name"),n.qZA(),n.TgZ(62,"ion-col")(63,"ion-select",12),n.NdJ("ngModelChange",function(o){return e.business.bankName=o}),n.YNc(64,h,2,2,"ion-select-option",13),n.qZA()()(),n.TgZ(65,"ion-row")(66,"ion-col"),n._uU(67,"Remark"),n.qZA(),n.TgZ(68,"ion-col")(69,"ion-input",2),n.NdJ("ngModelChange",function(o){return e.business.remarks=o}),n.qZA()()(),n.TgZ(70,"ion-row")(71,"ion-col"),n._uU(72,"Agent Amount"),n.qZA(),n.TgZ(73,"ion-col")(74,"ion-input",14),n.NdJ("ngModelChange",function(o){return e.business.amountToPayAgent=o}),n.qZA()()(),n.YNc(75,Z,5,1,"ion-row",5),n.TgZ(76,"ion-row")(77,"ion-col",15)(78,"ion-button",16),n.NdJ("click",function(){return e.reject()}),n._uU(79,"Reject"),n.qZA()(),n.TgZ(80,"ion-col",17)(81,"ion-button",16),n.NdJ("click",function(){return e.hold()}),n._uU(82,"Hold"),n.qZA()(),n.TgZ(83,"ion-col")(84,"ion-button",16),n.NdJ("click",function(){return e.updateDetails()}),n._uU(85,"Approve"),n.qZA()()()()()),2&s&&(n.xp6(12),n.Q6J("ngModel",e.business.name),n.xp6(5),n.Q6J("ngModel",e.business.lanNo)("readonly",!0),n.xp6(5),n.Q6J("ngModel",e.business.agentName),n.xp6(5),n.Q6J("ngModel",e.business.agent),n.xp6(1),n.Q6J("ngIf",e.business.agent!=e.business.createdBy),n.xp6(1),n.Q6J("ngIf",e.business.agent!=e.business.createdBy),n.xp6(5),n.Q6J("ngModel",e.business.pointsAgent),n.xp6(1),n.Q6J("ngIf",e.business.agent!=e.business.createdBy),n.xp6(5),n.Q6J("ngModel",e.business.disbursedAmount),n.xp6(5),n.Q6J("ngModel",e.business.typeOfBorrow),n.xp6(13),n.Q6J("ngModel",e.business.disburseDate),n.xp6(5),n.Q6J("ngModel",e.business.bankName),n.xp6(1),n.Q6J("ngForOf",e.banks),n.xp6(5),n.Q6J("ngModel",e.business.remarks),n.xp6(5),n.Q6J("ngModel",e.business.amountToPayAgent),n.xp6(1),n.Q6J("ngIf",e.business.agent!=e.business.createdBy))},dependencies:[g.sg,g.O5,d.JJ,d.On,u.oU,u.YG,u.Sm,u.wI,u.W2,u.jY,u.Gu,u.pK,u.Nd,u.t9,u.n0,u.wd,u.sr,u.as,u.QI,u.j9,u.cs]}),i})()}];let M=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=n.oAB({type:i}),i.\u0275inj=n.cJS({imports:[l.Bz.forChild(T),l.Bz]}),i})(),f=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=n.oAB({type:i}),i.\u0275inj=n.cJS({imports:[g.ez,d.u5,u.Pc,M]}),i})()}}]);