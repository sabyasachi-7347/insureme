"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9662],{9662:(y,g,u)=>{u.r(g),u.d(g,{AdminpendingbusinessPageModule:()=>v});var p=u(6895),m=u(4719),a=u(191),d=u(5181),l=u(5861),n=u(4650),b=u(1056),Z=u(2796);function f(s,c){if(1&s){const e=n.EpF();n.TgZ(0,"ion-card")(1,"ion-row")(2,"ion-col",3),n._uU(3),n.qZA()(),n.TgZ(4,"ion-row")(5,"ion-col",4),n._uU(6," LAN: "),n.qZA(),n.TgZ(7,"ion-col",4),n._uU(8),n.qZA()(),n.TgZ(9,"ion-row")(10,"ion-col",4),n._uU(11," Created By: "),n.qZA(),n.TgZ(12,"ion-col",4),n._uU(13),n.qZA()(),n.TgZ(14,"ion-row")(15,"ion-col",4),n._uU(16," Amount: "),n.qZA(),n.TgZ(17,"ion-col",4),n._uU(18),n.qZA()(),n.TgZ(19,"ion-row")(20,"ion-col",4),n._uU(21," Type: "),n.qZA(),n.TgZ(22,"ion-col",4),n._uU(23),n.qZA()(),n.TgZ(24,"ion-row")(25,"ion-col",4),n._uU(26," Remark: "),n.qZA(),n.TgZ(27,"ion-col",4),n._uU(28),n.qZA()(),n.TgZ(29,"ion-row")(30,"ion-col",4),n._uU(31," Disbursed Date: "),n.qZA(),n.TgZ(32,"ion-col",4),n._uU(33),n.qZA()(),n.TgZ(34,"ion-row")(35,"ion-col",4),n._uU(36," Bank Name: "),n.qZA(),n.TgZ(37,"ion-col",4),n._uU(38),n.qZA()(),n.TgZ(39,"ion-row")(40,"ion-col",4)(41,"ion-button",5),n.NdJ("click",function(){const o=n.CHM(e),i=o.$implicit,r=o.index,T=n.oxw();return n.KtG(T.modify(i.id,r))}),n._uU(42,"Modify"),n.qZA()()()()}if(2&s){const e=c.$implicit;n.xp6(3),n.hij(" ",e.name," "),n.xp6(5),n.hij(" ",e.lanNo," "),n.xp6(5),n.hij(" ",e.createdBy," "),n.xp6(5),n.hij(" ",e.disbursedAmount," "),n.xp6(5),n.hij(" ",e.typeOfBorrow," "),n.xp6(5),n.hij(" ",e.remarks," "),n.xp6(5),n.hij(" ",e.disburseDate," "),n.xp6(5),n.hij(" ",e.bankName," ")}}const h=[{path:"",component:(()=>{class s{constructor(e,t,o){this.commondataService=e,this.firestore=t,this.router=o}ngOnInit(){}ionViewWillEnter(){var e=this;return(0,l.Z)(function*(){e.business=e.commondataService.allPendingBusiness,console.log(e.business),yield e.firestore.collection("dropdown").doc("bankname").get().subscribe(t=>{console.log(t.data().bankname),localStorage.banklist=JSON.stringify(t.data().bankname)})})()}hold(e,t){var o=this;return(0,l.Z)(function*(){console.log(e,t);for(var i=0;i<o.business.length;i++)o.business[i].id==e&&(yield o.firestore.collection("business").doc(e).update({approvedbyadmin:"H"}).catch(r=>{console.log(r),alert("Unable to process request")}).then(r=>{console.log(r),o.business.splice(t,1)}))})()}reject(e,t){var o=this;return(0,l.Z)(function*(){console.log(e,t);for(var i=0;i<o.business.length;i++)o.business[i].id==e&&(yield o.firestore.collection("business").doc(e).update({approvedbyadmin:"R"}).catch(r=>{console.log(r),alert("Unable to process request")}).then(r=>{console.log(r),o.business.splice(t,1)}))})()}approve(e,t){var o=this;return(0,l.Z)(function*(){console.log(e,t);for(var i=0;i<o.business.length;i++)o.business[i].id==e&&(yield o.firestore.collection("business").doc(e).update({approvedbyadmin:"A"}).catch(r=>{console.log(r),alert("Unable to process request")}).then(r=>{console.log(r),o.business.splice(t,1)}))})()}modify(e,t){var o=this;return(0,l.Z)(function*(){for(var i=0;i<o.business.length;i++)o.business[i].id==e&&o.router.navigate(["adminbusinessedit"],{state:{business:o.business[i]}})})()}}return s.\u0275fac=function(e){return new(e||s)(n.Y36(b.Y),n.Y36(Z.ST),n.Y36(d.F0))},s.\u0275cmp=n.Xpm({type:s,selectors:[["app-adminpendingbusiness"]],decls:9,vars:1,consts:[[1,"header-color"],["slot","start"],[4,"ngFor","ngForOf"],[2,"text-align","center"],["size","6",2,"text-align","center"],[3,"click"]],template:function(e,t){1&e&&(n.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),n._UZ(3,"ion-back-button"),n.qZA(),n.TgZ(4,"ion-title"),n._uU(5,"Pending Business Requests"),n.qZA()()(),n.TgZ(6,"ion-content")(7,"ion-grid"),n.YNc(8,f,43,8,"ion-card",2),n.qZA()()),2&e&&(n.xp6(8),n.Q6J("ngForOf",t.business))},dependencies:[p.sg,a.oU,a.YG,a.Sm,a.PM,a.wI,a.W2,a.jY,a.Gu,a.Nd,a.wd,a.sr,a.cs]}),s})()}];let A=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=n.oAB({type:s}),s.\u0275inj=n.cJS({imports:[d.Bz.forChild(h),d.Bz]}),s})(),v=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=n.oAB({type:s}),s.\u0275inj=n.cJS({imports:[p.ez,m.u5,a.Pc,A]}),s})()}}]);