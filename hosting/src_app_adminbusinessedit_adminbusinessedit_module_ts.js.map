{"version":3,"file":"src_app_adminbusinessedit_adminbusinessedit_module_ts.js","mappings":"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","sources":["./src/app/adminbusinessedit/adminbusinessedit-routing.module.ts","./src/app/adminbusinessedit/adminbusinessedit.module.ts","./src/app/adminbusinessedit/adminbusinessedit.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AdminbusinesseditPage } from './adminbusinessedit.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AdminbusinesseditPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AdminbusinesseditPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AdminbusinesseditPageRoutingModule } from './adminbusinessedit-routing.module';\n\nimport { AdminbusinesseditPage } from './adminbusinessedit.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    AdminbusinesseditPageRoutingModule\n  ],\n  declarations: [AdminbusinesseditPage]\n})\nexport class AdminbusinesseditPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\nimport { ActivatedRoute, Router } from '@angular/router';\n\n@Component({\n  selector: 'app-adminbusinessedit',\n  templateUrl: './adminbusinessedit.page.html',\n  styleUrls: ['./adminbusinessedit.page.scss'],\n})\nexport class AdminbusinesseditPage implements OnInit {\n  business: any = \"\";\n  banks: any = [];\n  constructor(private route: ActivatedRoute, private router: Router,public firestore:AngularFirestore) { \n    \n    this.banks = JSON.parse(localStorage.banklist);\n    \n    this.route.queryParams.subscribe(params => {\n      if (this.router.getCurrentNavigation().extras.state) {\n         this.business = this.router.getCurrentNavigation().extras.state.business;  \n         if(this.business.agent == this.business.createdBy){\n          this.business.amountToPaySubAgent = 0;\n          this.business.points = 0;\n          this.business.amountToPayAgent = (Number(this.business.disbursedAmount) * Number(this.business.pointsAgent))/100;\n          console.log(\"test\");\n         }else{\n          this.business.amountToPaySubAgent = (Number(this.business.disbursedAmount) * Number(this.business.points))/100;\n          this.business.amountToPayAgent = (Number(this.business.disbursedAmount) * Number(this.business.pointsAgent))/100;\n          console.log(\"test\");\n         }\n               \n      }\n    });\n\n  }\npointChange(){\n  this.business.amountToPaySubAgent = (Number(this.business.disbursedAmount) * Number(this.business.points))/100;\n  this.business.amountToPayAgent = (Number(this.business.disbursedAmount) * Number(this.business.pointsAgent))/100;\n}\n ngOnInit() {\n  \n  }\n\n  goBack(){\n    this.router.navigate(['admin']);\n  }\n  async updateDetails(){\n    this.business.approvedbyadmin = \"A\";\n    await this.firestore.collection(\"business\").doc(this.business.id).update(\n      this.business\n               ).catch((error) => {\n                console.log(error);\n                alert(\"Unable to process request\");\n                return;\n               }).then((userResult) => {\n                console.log(userResult);\n                                // this.commondataService.allPendingAgents.splice(i,1)\n                //  this.goto('login');\n                alert(\"Business Approved\");\n                this.router.navigate(['admin']);\n                return;\n               })\n  }\n\n\n  async hold(){\n    // for(var j = 0;j<this.business.length;j++){\n    //   if(this.business[j].id == id){\n      console.log(this.business.id);\n      this.business.approvedbyadmin = \"H\";\n        await this.firestore.collection(\"business\").doc(this.business.id).update(\n          this.business\n                   ).catch((error) => {\n                    console.log(error);\n                    alert(\"Unable to process request\");\n                    return;\n                   }).then((userResult) => {\n                    alert(\"Business is hold\")\n                    this.router.navigate(['admin']);\n                    return;\n                   })\n    //   }\n    // }\n      }\n\n      async reject(){\n        // for(var j = 0;j<this.business.length;j++){\n        //   if(this.business[j].id == id){\n          console.log(this.business.id);\n          this.business.approvedbyadmin = \"R\";\n            await this.firestore.collection(\"business\").doc(this.business.id).update(\n              this.business\n                       ).catch((error) => {\n                        console.log(error);\n                        alert(\"Unable to process request\");\n                        return;\n                       }).then((userResult) => {\n                        alert(\"Business is rejected\")\n                        this.router.navigate(['admin']);\n                        return;\n                       })\n        //   }\n        // }\n          }\n}\n"],"names":["Component","AngularFirestore","ActivatedRoute","Router","AdminbusinesseditPage","constructor","route","router","firestore","banks","JSON","parse","localStorage","banklist","queryParams","subscribe","params","getCurrentNavigation","extras","state","business","agent","createdBy","amountToPaySubAgent","points","amountToPayAgent","Number","disbursedAmount","pointsAgent","console","log","pointChange","ngOnInit","goBack","navigate","updateDetails","approvedbyadmin","collection","doc","id","update","catch","error","alert","then","userResult","hold","reject","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}