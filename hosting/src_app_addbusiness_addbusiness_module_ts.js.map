{"version":3,"file":"src_app_addbusiness_addbusiness_module_ts.js","mappings":"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","sources":["./src/app/addbusiness/addbusiness-routing.module.ts","./src/app/addbusiness/addbusiness.module.ts","./src/app/addbusiness/addbusiness.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AddbusinessPage } from './addbusiness.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AddbusinessPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AddbusinessPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AddbusinessPageRoutingModule } from './addbusiness-routing.module';\n\nimport { AddbusinessPage } from './addbusiness.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    AddbusinessPageRoutingModule,\n    ReactiveFormsModule\n  ],\n  declarations: [AddbusinessPage]\n})\nexport class AddbusinessPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { AngularFireAuth } from '@angular/fire/compat/auth';\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\nimport { FormGroup, FormBuilder, Validators } from \"@angular/forms\";\n@Component({\n  selector: 'app-addbusiness',\n  templateUrl: './addbusiness.page.html',\n  styleUrls: ['./addbusiness.page.scss'],\n})\nexport class AddbusinessPage implements OnInit {\n  openDatetimeField: boolean = false;\n  selectedDate: any=\"\";\n  curentUser: any;\n  banks: any = [];\n\n  constructor(public formBuilder: FormBuilder,public auth:AngularFireAuth,public firestore:AngularFirestore,) { }\n  addBusinessForm = this.formBuilder.group({\n    typeOfBorrow: ['', [Validators.required]],\n    bankName: ['', [Validators.required]],\n    lanNo: ['', [Validators.required]],\n    name: ['', [Validators.required,Validators.pattern('^[a-zA-Z ]+$')]],\n    disburseDate: ['', [Validators.required]],\n    disbursedAmount: ['', [Validators.required,Validators.pattern('^[0-9]{1,7}')]],\n    // currentPoint:['', [Validators.required,Validators.pattern('^[0-9]{1,3}')]],\n    remarks:['', [Validators.required]]\n     });\n\n     public errorMessages = {\n      typeOfBorrow: [\n        { type: 'required', message: 'Please select type of borrow' },\n      ],\n      bankName: [\n        { type: 'required', message: 'Please select bank name' },\n      ],\n      lanNo: [\n        { type: 'required', message: 'Please enter LAN number' },\n      ],\n      name: [\n        { type: 'required', message: 'Please enter customer name' },\n        { type: 'pattern', message: 'Please enter valid name' }\n      ],\n      disburseDate: [\n        { type: 'required', message: 'please select disbursed date' }\n      ],\n      disbursedAmount: [\n        { type: 'required', message: 'Please enter disbursed amount' },\n        { type: 'pattern', message: 'Please enter valid amount' }\n      ],\n      // currentPoint: [\n      //   { type: 'required', message: 'Please enter current point' },\n      //   { type: 'pattern', message: 'Please enter valid percentage' }\n      // ],\n      remarks: [\n        { type: 'required', message: 'Please enter remarks' }\n      ]\n    }\n     get errorControl() {\n      return this.addBusinessForm.controls;\n    }\n    get typeOfBorrow() {\n      return this.addBusinessForm.get(\"typeOfBorrow\");\n    }\n    get bankName() {\n      return this.addBusinessForm.get(\"bankName\");\n    }\n    get lanNo() {\n      return this.addBusinessForm.get(\"lanNo\");\n    }\n    get name() {\n      return this.addBusinessForm.get(\"name\");\n    }\n    get disburseDate() {\n      return this.addBusinessForm.get(\"disburseDate\");\n    }\n    get disbursedAmount() {\n      return this.addBusinessForm.get(\"disbursedAmount\");\n    }\n    // get currentPoint() {\n    //   return this.addBusinessForm.get(\"currentPoint\");\n    // }\n    get remarks() {\n      return this.addBusinessForm.get(\"remarks\");\n    }\n\n async ngOnInit() {\n    await this.firestore.collection(\"dropdown\").doc('bankname').get().subscribe((doc:any)=>{\n      console.log(doc.data().bankname);\n      this.banks = doc.data().bankname;\n     })\n  }\n  openDatetime(){\n    this.openDatetimeField = true;\n  }\n  hideDatetime(){\n    this.openDatetimeField = false;\n    if(this.selectedDate){\n      this.selectedDate = this.selectedDate.split('T')[0];\n      var selectedDateTemp = this.selectedDate.split('-')[2]+'-'+this.selectedDate.split('-')[1]+'-'+this.selectedDate.split('-')[0];\n      this.selectedDate = selectedDateTemp;\n    }\n  }\n\n async addNewBusiness(){\n  this.curentUser = JSON.parse(localStorage.userData);\n    // this.auth.createUserWithEmailAndPassword(this.email.trim(),this.mobile.toString().trim()).then(async (data)=>{\n      // console.log(data);\n      // if(data.user.uid)\n      // {\n        await this.firestore.collection(\"business\").doc().set({\n\"typeOfBorrow\":this.addBusinessForm.value.typeOfBorrow.trim(),\n\"bankName\":this.addBusinessForm.value.bankName.trim(),\n\"lanNo\":this.addBusinessForm.value.lanNo.trim(),\n\"name\":this.addBusinessForm.value.name.trim(),\n\"disburseDate\":this.selectedDate.trim(),\n\"disbursedAmount\":this.addBusinessForm.value.disbursedAmount.trim(),\n\"approvedbyadmin\":'P',\n\"agentPaid\":'false',\n\"subAgentPaid\":\"false\",\n// \"currentPoint\":this.addBusinessForm.value.currentPoint.trim(),\n\"remarks\":this.addBusinessForm.value.remarks.trim(),\n\"createdBy\":this.curentUser.email,\n\"createdByName\":this.curentUser.name,\n\"agent\":this.curentUser.enrolledby,\n\"agentName\":this.curentUser.enrolledbyName\n       }).catch((error) => {\n        console.log(error);\n        alert(\"Unable to process request\");\n        return;\n       }).then((userResult) => {\n        console.log(userResult);\n        alert(\"Business added sucessfully\");\n        this.addBusinessForm.reset();\n        //  this.goto('login');\n        return;\n       })\n      // }\n    // })\n      // .catch((err) => {\n      //   console.log(err);\n      //   console.log(JSON.parse(JSON.stringify(err)));\n        \n      //   var errMsg:any = JSON.parse(JSON.stringify(err))\n      //   errMsg = errMsg.code;\n      //   if(errMsg == 'auth/email-already-in-use'){\n      //     alert(\"The email address is already in use by another account.\")\n      //   }\n      // })\n  }\n}\n"],"names":["Component","AngularFireAuth","AngularFirestore","FormBuilder","Validators","AddbusinessPage","constructor","formBuilder","auth","firestore","group","typeOfBorrow","required","bankName","lanNo","name","pattern","disburseDate","disbursedAmount","remarks","type","message","errorControl","addBusinessForm","controls","get","ngOnInit","collection","doc","subscribe","console","log","data","bankname","banks","openDatetime","openDatetimeField","hideDatetime","selectedDate","split","selectedDateTemp","addNewBusiness","curentUser","JSON","parse","localStorage","userData","set","value","trim","email","enrolledby","enrolledbyName","catch","error","alert","then","userResult","reset","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}