"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7196],{7196:(Z,b,a)=>{a.r(b),a.d(b,{AdminbusinesseditPageModule:()=>h});var p=a(6895),g=a(4719),u=a(191),r=a(5181),d=a(5861),e=a(4650),m=a(2796);function _(o,l){if(1&o&&(e.TgZ(0,"ion-select-option",16),e._uU(1),e.qZA()),2&o){const s=l.$implicit;e.s9C("value",s),e.xp6(1),e.Oqu(s)}}const c=[{path:"",component:(()=>{class o{constructor(s,n,t){this.route=s,this.router=n,this.firestore=t,this.business="",this.banks=[],this.banks=JSON.parse(localStorage.banklist),this.route.queryParams.subscribe(i=>{this.router.getCurrentNavigation().extras.state&&(this.business=this.router.getCurrentNavigation().extras.state.business,this.business.agent==this.business.createdBy?(this.business.amountToPaySubAgent=0,this.business.points=0,this.business.amountToPayAgent=Number(this.business.disbursedAmount)*Number(this.business.pointsAgent)/100,console.log("test")):(this.business.amountToPaySubAgent=Number(this.business.disbursedAmount)*Number(this.business.points)/100,this.business.amountToPayAgent=Number(this.business.disbursedAmount)*Number(this.business.pointsAgent)/100,console.log("test")))})}pointChange(){this.business.amountToPaySubAgent=Number(this.business.disbursedAmount)*Number(this.business.points)/100,this.business.amountToPayAgent=Number(this.business.disbursedAmount)*Number(this.business.pointsAgent)/100}ngOnInit(){}goBack(){this.router.navigate(["admin"])}updateDetails(){var s=this;return(0,d.Z)(function*(){s.business.approvedbyadmin="A",yield s.firestore.collection("business").doc(s.business.id).update(s.business).catch(n=>{console.log(n),alert("Unable to process request")}).then(n=>{console.log(n),alert("Business Approved"),s.router.navigate(["admin"])})})()}hold(){var s=this;return(0,d.Z)(function*(){console.log(s.business.id),s.business.approvedbyadmin="H",yield s.firestore.collection("business").doc(s.business.id).update(s.business).catch(n=>{console.log(n),alert("Unable to process request")}).then(n=>{alert("Business is hold"),s.router.navigate(["admin"])})})()}reject(){var s=this;return(0,d.Z)(function*(){console.log(s.business.id),s.business.approvedbyadmin="R",yield s.firestore.collection("business").doc(s.business.id).update(s.business).catch(n=>{console.log(n),alert("Unable to process request")}).then(n=>{alert("Business is rejected"),s.router.navigate(["admin"])})})()}}return o.\u0275fac=function(s){return new(s||o)(e.Y36(r.gz),e.Y36(r.F0),e.Y36(m.ST))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-adminbusinessedit"]],decls:102,vars:16,consts:[[1,"header-color"],["slot","start"],[3,"ngModel","ngModelChange"],["readonly","","disabled","",3,"ngModel","ngModelChange"],["type","number",3,"ngModel","ngModelChange","keyup"],["placeholder","Type of Loans","interface","action-sheet",3,"ngModel","ngModelChange"],["value","home"],["value","personal"],["value","mortgage"],["value","business"],["placeholder","Select Bank","interface","action-sheet",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","number",3,"ngModel","ngModelChange"],[2,"text-align","center"],[3,"click"],["size","6",2,"text-align","center"],[3,"value"]],template:function(s,n){1&s&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),e._UZ(3,"ion-back-button"),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"Modify Business Details"),e.qZA()()(),e.TgZ(6,"ion-content")(7,"ion-grid")(8,"ion-row")(9,"ion-col"),e._uU(10,"Name"),e.qZA(),e.TgZ(11,"ion-col")(12,"ion-input",2),e.NdJ("ngModelChange",function(i){return n.business.name=i}),e.qZA()()(),e.TgZ(13,"ion-row")(14,"ion-col"),e._uU(15,"LAN"),e.qZA(),e.TgZ(16,"ion-col")(17,"ion-input",2),e.NdJ("ngModelChange",function(i){return n.business.lanNo=i}),e.qZA()()(),e.TgZ(18,"ion-row")(19,"ion-col"),e._uU(20,"Agent Name"),e.qZA(),e.TgZ(21,"ion-col")(22,"ion-input",3),e.NdJ("ngModelChange",function(i){return n.business.agentName=i}),e.qZA()()(),e.TgZ(23,"ion-row")(24,"ion-col"),e._uU(25,"Agent Email"),e.qZA(),e.TgZ(26,"ion-col")(27,"ion-input",3),e.NdJ("ngModelChange",function(i){return n.business.agent=i}),e.qZA()()(),e.TgZ(28,"ion-row")(29,"ion-col"),e._uU(30,"Sub Agent Name"),e.qZA(),e.TgZ(31,"ion-col")(32,"ion-input",3),e.NdJ("ngModelChange",function(i){return n.business.createdByName=i}),e.qZA()()(),e.TgZ(33,"ion-row")(34,"ion-col"),e._uU(35,"Sub Agent Email"),e.qZA(),e.TgZ(36,"ion-col")(37,"ion-input",3),e.NdJ("ngModelChange",function(i){return n.business.createdBy=i}),e.qZA()()(),e.TgZ(38,"ion-row")(39,"ion-col"),e._uU(40,"Agent Points (in %)"),e.qZA(),e.TgZ(41,"ion-col")(42,"ion-input",4),e.NdJ("ngModelChange",function(i){return n.business.pointsAgent=i})("keyup",function(){return n.pointChange()}),e.qZA()()(),e.TgZ(43,"ion-row")(44,"ion-col"),e._uU(45,"Sub-Agent Points (in %)"),e.qZA(),e.TgZ(46,"ion-col")(47,"ion-input",4),e.NdJ("ngModelChange",function(i){return n.business.points=i})("keyup",function(){return n.pointChange()}),e.qZA()()(),e.TgZ(48,"ion-row")(49,"ion-col"),e._uU(50,"Amount"),e.qZA(),e.TgZ(51,"ion-col")(52,"ion-input",4),e.NdJ("ngModelChange",function(i){return n.business.disbursedAmount=i})("keyup",function(){return n.pointChange()}),e.qZA()()(),e.TgZ(53,"ion-row")(54,"ion-col"),e._uU(55,"Type of Loans"),e.qZA(),e.TgZ(56,"ion-col")(57,"ion-select",5),e.NdJ("ngModelChange",function(i){return n.business.typeOfBorrow=i}),e.TgZ(58,"ion-select-option",6),e._uU(59,"Home"),e.qZA(),e.TgZ(60,"ion-select-option",7),e._uU(61,"Personal"),e.qZA(),e.TgZ(62,"ion-select-option",8),e._uU(63,"Mortgage"),e.qZA(),e.TgZ(64,"ion-select-option",9),e._uU(65,"Business"),e.qZA()()()(),e.TgZ(66,"ion-row")(67,"ion-col"),e._uU(68,"Disbursed Date"),e.qZA(),e.TgZ(69,"ion-col")(70,"ion-input",2),e.NdJ("ngModelChange",function(i){return n.business.disburseDate=i}),e.qZA()()(),e.TgZ(71,"ion-row")(72,"ion-col"),e._uU(73,"Bank Name"),e.qZA(),e.TgZ(74,"ion-col")(75,"ion-select",10),e.NdJ("ngModelChange",function(i){return n.business.bankName=i}),e.YNc(76,_,2,2,"ion-select-option",11),e.qZA()()(),e.TgZ(77,"ion-row")(78,"ion-col"),e._uU(79,"Remark"),e.qZA(),e.TgZ(80,"ion-col")(81,"ion-input",2),e.NdJ("ngModelChange",function(i){return n.business.remarks=i}),e.qZA()()(),e.TgZ(82,"ion-row")(83,"ion-col"),e._uU(84,"Agent Amount"),e.qZA(),e.TgZ(85,"ion-col")(86,"ion-input",12),e.NdJ("ngModelChange",function(i){return n.business.amountToPayAgent=i}),e.qZA()()(),e.TgZ(87,"ion-row")(88,"ion-col"),e._uU(89,"Sub-Agent Amount"),e.qZA(),e.TgZ(90,"ion-col")(91,"ion-input",12),e.NdJ("ngModelChange",function(i){return n.business.amountToPaySubAgent=i}),e.qZA()()(),e.TgZ(92,"ion-row")(93,"ion-col",13)(94,"ion-button",14),e.NdJ("click",function(){return n.reject()}),e._uU(95,"Reject"),e.qZA()(),e.TgZ(96,"ion-col",15)(97,"ion-button",14),e.NdJ("click",function(){return n.hold()}),e._uU(98,"Hold"),e.qZA()(),e.TgZ(99,"ion-col")(100,"ion-button",14),e.NdJ("click",function(){return n.updateDetails()}),e._uU(101,"Approve"),e.qZA()()()()()),2&s&&(e.xp6(12),e.Q6J("ngModel",n.business.name),e.xp6(5),e.Q6J("ngModel",n.business.lanNo),e.xp6(5),e.Q6J("ngModel",n.business.agentName),e.xp6(5),e.Q6J("ngModel",n.business.agent),e.xp6(5),e.Q6J("ngModel",n.business.createdByName),e.xp6(5),e.Q6J("ngModel",n.business.createdBy),e.xp6(5),e.Q6J("ngModel",n.business.pointsAgent),e.xp6(5),e.Q6J("ngModel",n.business.points),e.xp6(5),e.Q6J("ngModel",n.business.disbursedAmount),e.xp6(5),e.Q6J("ngModel",n.business.typeOfBorrow),e.xp6(13),e.Q6J("ngModel",n.business.disburseDate),e.xp6(5),e.Q6J("ngModel",n.business.bankName),e.xp6(1),e.Q6J("ngForOf",n.banks),e.xp6(5),e.Q6J("ngModel",n.business.remarks),e.xp6(5),e.Q6J("ngModel",n.business.amountToPayAgent),e.xp6(5),e.Q6J("ngModel",n.business.amountToPaySubAgent))},dependencies:[p.sg,g.JJ,g.On,u.oU,u.YG,u.Sm,u.wI,u.W2,u.jY,u.Gu,u.pK,u.Nd,u.t9,u.n0,u.wd,u.sr,u.as,u.QI,u.j9,u.cs]}),o})()}];let A=(()=>{class o{}return o.\u0275fac=function(s){return new(s||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[r.Bz.forChild(c),r.Bz]}),o})(),h=(()=>{class o{}return o.\u0275fac=function(s){return new(s||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.ez,g.u5,u.Pc,A]}),o})()}}]);