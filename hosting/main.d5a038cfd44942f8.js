(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{440:(ln,pt,O)=>{"use strict";O.d(pt,{nm:()=>xi});var u=O(6351);O(4650),O(5867);var Dt=O(5861),bt=O(9681),Mt=O(4859),rt=O(2090),_t=O(1877);const Me=new Map,Ge={activated:!1,tokenObservers:[]},Ce={initialized:!1,enabled:!1};function ce(ct){return Me.get(ct)||Ge}function xe(ct,at){Me.set(ct,at)}function oe(){return Ce}class Ie{constructor(at,yt,jt,on,mn){if(this.operation=at,this.retryPolicy=yt,this.getWaitDuration=jt,this.lowerBound=on,this.upperBound=mn,this.pending=null,this.nextErrorWaitInterval=on,on>mn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(at){var yt=this;return(0,Dt.Z)(function*(){yt.stop();try{yt.pending=new rt.BH,yield function Ue(ct){return new Promise(at=>{setTimeout(at,ct)})}(yt.getNextRun(at)),yt.pending.resolve(),yield yt.pending.promise,yt.pending=new rt.BH,yield yt.operation(),yt.pending.resolve(),yield yt.pending.promise,yt.process(!0).catch(()=>{})}catch(jt){yt.retryPolicy(jt)?yt.process(!1).catch(()=>{}):yt.stop()}})()}getNextRun(at){if(at)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const yt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),yt}}}const nt=new rt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function gt(ct){if(!ce(ct).activated)throw nt.create("use-before-activation",{appName:ct.name})}function wn(ct,at){return An.apply(this,arguments)}function An(){return(An=(0,Dt.Z)(function*({url:ct,body:at},yt){var jt,on;const mn={"Content-Type":"application/json"},kn=yt.getImmediate({optional:!0});if(kn){const As=yield kn.getHeartbeatsHeader();As&&(mn["X-Firebase-Client"]=As)}const Ii={method:"POST",body:JSON.stringify(at),headers:mn};let Dr,ys;try{Dr=yield fetch(ct,Ii)}catch(As){throw nt.create("fetch-network-error",{originalErrorMessage:null===(jt=As)||void 0===jt?void 0:jt.message})}if(200!==Dr.status)throw nt.create("fetch-status-error",{httpStatus:Dr.status});try{ys=yield Dr.json()}catch(As){throw nt.create("fetch-parse-error",{originalErrorMessage:null===(on=As)||void 0===on?void 0:on.message})}const ji=ys.ttl.match(/^([\d.]+)(s)$/);if(!ji||!ji[2]||isNaN(Number(ji[1])))throw nt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${ys.ttl}`});const Gi=1e3*Number(ji[1]),bi=Date.now();return{token:ys.token,expireTimeMillis:bi+Gi,issuedAtTimeMillis:bi}})).apply(this,arguments)}function ri(ct,at){const{projectId:yt,appId:jt,apiKey:on}=ct.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${yt}/apps/${jt}:exchangeDebugToken?key=${on}`,body:{debug_token:at}}}const yn="firebase-app-check-store";let zt=null;function Ei(){return zt||(zt=new Promise((ct,at)=>{var yt;try{const jt=indexedDB.open("firebase-app-check-database",1);jt.onsuccess=on=>{ct(on.target.result)},jt.onerror=on=>{var mn;at(nt.create("storage-open",{originalErrorMessage:null===(mn=on.target.error)||void 0===mn?void 0:mn.message}))},jt.onupgradeneeded=on=>{0===on.oldVersion&&on.target.result.createObjectStore(yn,{keyPath:"compositeKey"})}}catch(jt){at(nt.create("storage-open",{originalErrorMessage:null===(yt=jt)||void 0===yt?void 0:yt.message}))}}),zt)}function Sr(){return(Sr=(0,Dt.Z)(function*(ct,at){const jt=(yield Ei()).transaction(yn,"readwrite"),mn=jt.objectStore(yn).put({compositeKey:ct,value:at});return new Promise((kn,Ii)=>{mn.onsuccess=Dr=>{kn()},jt.onerror=Dr=>{var ys;Ii(nt.create("storage-set",{originalErrorMessage:null===(ys=Dr.target.error)||void 0===ys?void 0:ys.message}))}})})).apply(this,arguments)}const Jn=new _t.Yd("@firebase/app-check");function $n(ct,at){return(0,rt.hl)()?function Tr(ct,at){return function Rr(ct,at){return Sr.apply(this,arguments)}(function br(ct){return`${ct.options.appId}-${ct.name}`}(ct),at)}(ct,at).catch(yt=>{Jn.warn(`Failed to write token to IndexedDB. Error: ${yt}`)}):Promise.resolve()}function Xr(){return oe().enabled}function qn(){return ot.apply(this,arguments)}function ot(){return(ot=(0,Dt.Z)(function*(){const ct=oe();if(ct.enabled&&ct.token)return ct.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Ze={error:"UNKNOWN_ERROR"};function et(ct){return rt.US.encodeString(JSON.stringify(ct),!1)}function st(ct){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,Dt.Z)(function*(ct,at=!1){const yt=ct.app;gt(yt);const jt=ce(yt);let mn,on=jt.token;if(!on){const Dr=yield jt.cachedTokenPromise;Dr&&cn(Dr)&&(on=Dr)}if(!at&&on&&cn(on))return{token:on.token};let Ii,kn=!1;if(Xr()){jt.exchangeTokenPromise||(jt.exchangeTokenPromise=wn(ri(yt,yield qn()),ct.heartbeatServiceProvider).then(ys=>(jt.exchangeTokenPromise=void 0,ys)),kn=!0);const Dr=yield jt.exchangeTokenPromise;return yield $n(yt,Dr),xe(yt,Object.assign(Object.assign({},jt),{token:Dr})),{token:Dr.token}}try{jt.exchangeTokenPromise||(jt.exchangeTokenPromise=jt.provider.getToken().then(Dr=>(jt.exchangeTokenPromise=void 0,Dr)),kn=!0),on=yield jt.exchangeTokenPromise}catch(Dr){"appCheck/throttled"===Dr.code?Jn.warn(Dr.message):Jn.error(Dr),mn=Dr}return on?(Ii={token:on.token},xe(yt,Object.assign(Object.assign({},jt),{token:on})),yield $n(yt,on)):Ii=jn(mn),kn&&tr(yt,Ii),Ii})).apply(this,arguments)}function gn(ct,at){const yt=ce(ct),jt=yt.tokenObservers.filter(on=>on.next!==at);0===jt.length&&yt.tokenRefresher&&yt.tokenRefresher.isRunning()&&yt.tokenRefresher.stop(),xe(ct,Object.assign(Object.assign({},yt),{tokenObservers:jt}))}function dr(ct){const{app:at}=ct,yt=ce(at);let jt=yt.tokenRefresher;jt||(jt=function zn(ct){const{app:at}=ct;return new Ie((0,Dt.Z)(function*(){let jt;if(jt=ce(at).token?yield st(ct,!0):yield st(ct),jt.error)throw jt.error}),()=>!0,()=>{const yt=ce(at);if(yt.token){let jt=yt.token.issuedAtTimeMillis+.5*(yt.token.expireTimeMillis-yt.token.issuedAtTimeMillis)+3e5;return jt=Math.min(jt,yt.token.expireTimeMillis-3e5),Math.max(0,jt-Date.now())}return 0},3e4,96e4)}(ct),xe(at,Object.assign(Object.assign({},yt),{tokenRefresher:jt}))),!jt.isRunning()&&yt.isTokenAutoRefreshEnabled&&jt.start()}function tr(ct,at){const yt=ce(ct).tokenObservers;for(const jt of yt)try{"EXTERNAL"===jt.type&&null!=at.error?jt.error(at.error):jt.next(at)}catch{}}function cn(ct){return ct.expireTimeMillis-Date.now()>0}function jn(ct){return{token:et(Ze),error:ct}}class Wr{constructor(at,yt){this.app=at,this.heartbeatServiceProvider=yt}_delete(){const{tokenObservers:at}=ce(this.app);for(const yt of at)gn(this.app,yt.next);return Promise.resolve()}}const Hi="app-check-internal";!function ns(){(0,bt._registerComponent)(new Mt.wA("app-check",ct=>function vr(ct,at){return new Wr(ct,at)}(ct.getProvider("app").getImmediate(),ct.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((ct,at,yt)=>{ct.getProvider(Hi).initialize()})),(0,bt._registerComponent)(new Mt.wA(Hi,ct=>function Dn(ct){return{getToken:at=>st(ct,at),addTokenListener:at=>function tn(ct,at,yt,jt){const{app:on}=ct,mn=ce(on),kn={next:yt,error:jt,type:at};if(xe(on,Object.assign(Object.assign({},mn),{tokenObservers:[...mn.tokenObservers,kn]})),mn.token&&cn(mn.token)){const Ii=mn.token;Promise.resolve().then(()=>{yt({token:Ii.token}),dr(ct)}).catch(()=>{})}mn.cachedTokenPromise.then(()=>dr(ct))}(ct,"INTERNAL",at),removeTokenListener:at=>gn(ct.app,at)}}(ct.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,bt.registerVersion)("@firebase/app-check","0.5.12")}();class xi{constructor(){return(0,u.vb)("app-check")}}typeof window<"u"&&window},4941:(ln,pt,O)=>{"use strict";O.d(pt,{zQ:()=>me,ww:()=>Re,rT:()=>oe,f7:()=>re,L6:()=>ce,_Q:()=>xe,lh:()=>Oe,Qv:()=>Ce,nw:()=>be});var u=O(4650),X=O(8929),W=O(1086),Be=O(6498),Ne=O(5254),J=O(6787),fe=O(2102),ve=O(7545),Ee=O(4850),ie=O(341),ae=O(2654),ne=O(5279),pe=O(5283);class He extends X.xQ{constructor(Ie=Number.POSITIVE_INFINITY,Ue=Number.POSITIVE_INFINITY,qe){super(),this.scheduler=qe,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=Ie<1?1:Ie,this._windowTime=Ue<1?1:Ue,Ue===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(Ie){if(!this.isStopped){const Ue=this._events;Ue.push(Ie),Ue.length>this._bufferSize&&Ue.shift()}super.next(Ie)}nextTimeWindow(Ie){this.isStopped||(this._events.push(new Qe(this._getNow(),Ie)),this._trimBufferThenGetEvents()),super.next(Ie)}_subscribe(Ie){const Ue=this._infiniteTimeWindow,qe=Ue?this._events:this._trimBufferThenGetEvents(),nt=this.scheduler,Rt=qe.length;let gt;if(this.closed)throw new ne.N;if(this.isStopped||this.hasError?gt=ae.w.EMPTY:(this.observers.push(Ie),gt=new pe.W(this,Ie)),nt&&Ie.add(Ie=new fe.ht(Ie,nt)),Ue)for(let Lt=0;Lt<Rt&&!Ie.closed;Lt++)Ie.next(qe[Lt]);else for(let Lt=0;Lt<Rt&&!Ie.closed;Lt++)Ie.next(qe[Lt].value);return this.hasError?Ie.error(this.thrownError):this.isStopped&&Ie.complete(),gt}_getNow(){return(this.scheduler||ie.c).now()}_trimBufferThenGetEvents(){const Ie=this._getNow(),Ue=this._bufferSize,qe=this._windowTime,nt=this._events,Rt=nt.length;let gt=0;for(;gt<Rt&&!(Ie-nt[gt].time<qe);)gt++;return Rt>Ue&&(gt=Math.max(gt,Rt-Ue)),gt>0&&nt.splice(0,gt),nt}}class Qe{constructor(Ie,Ue){this.time=Ie,this.value=Ue}}function Ve(ye,Ie,Ue){let qe;return qe=ye&&"object"==typeof ye?ye:{bufferSize:ye,windowTime:Ie,refCount:!1,scheduler:Ue},nt=>nt.lift(function ke({bufferSize:ye=Number.POSITIVE_INFINITY,windowTime:Ie=Number.POSITIVE_INFINITY,refCount:Ue,scheduler:qe}){let nt,gt,Rt=0,Lt=!1,pn=!1;return function(An){let Nn;Rt++,!nt||Lt?(Lt=!1,nt=new He(ye,Ie,qe),Nn=nt.subscribe(this),gt=An.subscribe({next(sr){nt.next(sr)},error(sr){Lt=!0,nt.error(sr)},complete(){pn=!0,gt=void 0,nt.complete()}}),pn&&(gt=void 0)):Nn=nt.subscribe(this),this.add(()=>{Rt--,Nn.unsubscribe(),Nn=void 0,gt&&!pn&&Ue&&0===Rt&&(gt.unsubscribe(),gt=void 0,nt=void 0)})}}(qe))}var ze=O(7224);function St(ye,Ie){return Ie?(0,ve.w)(()=>ye,Ie):(0,ve.w)(()=>ye)}var Se=O(8915),Dt=O(2198),bt=O(6351),Mt=O(2011),rt=O(6895),_t=O(440),Me=O(127);const Ce=new u.OlP("angularfire2.auth.use-emulator"),ce=new u.OlP("angularfire2.auth.settings"),xe=new u.OlP("angularfire2.auth.tenant-id"),oe=new u.OlP("angularfire2.auth.langugage-code"),Oe=new u.OlP("angularfire2.auth.use-device-language"),re=new u.OlP("angularfire.auth.persistence"),be=(ye,Ie,Ue,qe,nt,Rt,gt,Lt)=>(0,Mt.cc)(`${ye.name}.auth`,"AngularFireAuth",ye.name,()=>{const pn=Ie.runOutsideAngular(()=>ye.auth());if(Ue&&pn.useEmulator(...Ue),qe&&(pn.tenantId=qe),pn.languageCode=nt,Rt&&pn.useDeviceLanguage(),gt)for(const[wn,An]of Object.entries(gt))pn.settings[wn]=An;return Lt&&pn.setPersistence(Lt),pn},[Ue,qe,nt,Rt,gt,Lt]);let me=(()=>{class ye{constructor(Ue,qe,nt,Rt,gt,Lt,pn,wn,An,Nn,sr,ri){const zr=new X.xQ,Mr=(0,W.of)(void 0).pipe((0,fe.QV)(gt.outsideAngular),(0,ve.w)(()=>Rt.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,2476)))),(0,Ee.U)(()=>(0,Mt.on)(Ue,Rt,qe)),(0,Ee.U)(yn=>be(yn,Rt,Lt,wn,An,Nn,pn,sr)),Ve({bufferSize:1,refCount:!1}));if((0,rt.PM)(nt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,W.of)(null);else{Mr.pipe((0,ze.P)()).subscribe();const sn=Mr.pipe((0,ve.w)(Ln=>Ln.getRedirectResult().then(Tr=>Tr,()=>null)),bt.iC,Ve({bufferSize:1,refCount:!1})),zt=Mr.pipe((0,ve.w)(Ln=>new Be.y(Tr=>({unsubscribe:Rt.runOutsideAngular(()=>Ln.onAuthStateChanged(Fr=>Tr.next(Fr),Fr=>Tr.error(Fr),()=>Tr.complete()))})))),Ei=Mr.pipe((0,ve.w)(Ln=>new Be.y(Tr=>({unsubscribe:Rt.runOutsideAngular(()=>Ln.onIdTokenChanged(Fr=>Tr.next(Fr),Fr=>Tr.error(Fr),()=>Tr.complete()))}))));this.authState=sn.pipe(St(zt),(0,Se.R)(gt.outsideAngular),(0,fe.QV)(gt.insideAngular)),this.user=sn.pipe(St(Ei),(0,Se.R)(gt.outsideAngular),(0,fe.QV)(gt.insideAngular)),this.idToken=this.user.pipe((0,ve.w)(Ln=>Ln?(0,Ne.D)(Ln.getIdToken()):(0,W.of)(null))),this.idTokenResult=this.user.pipe((0,ve.w)(Ln=>Ln?(0,Ne.D)(Ln.getIdTokenResult()):(0,W.of)(null))),this.credential=(0,J.T)(sn,zr,this.authState.pipe((0,Dt.h)(Ln=>!Ln))).pipe((0,Ee.U)(Ln=>Ln?.user?Ln:null),(0,Se.R)(gt.outsideAngular),(0,fe.QV)(gt.insideAngular))}return(0,Mt.pX)(this,Mr,Rt,{spy:{apply:(yn,sn,zt)=>{(yn.startsWith("signIn")||yn.startsWith("createUser"))&&zt.then(Ei=>zr.next(Ei))}}})}}return ye.\u0275fac=function(Ue){return new(Ue||ye)(u.LFG(Mt.Dh),u.LFG(Mt.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(bt.HU),u.LFG(Ce,8),u.LFG(ce,8),u.LFG(xe,8),u.LFG(oe,8),u.LFG(Oe,8),u.LFG(re,8),u.LFG(_t.nm,8))},ye.\u0275prov=u.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"any"}),ye})(),Re=(()=>{class ye{constructor(){Me.Z.registerVersion("angularfire",bt.q4.full,"auth-compat")}}return ye.\u0275fac=function(Ue){return new(Ue||ye)},ye.\u0275mod=u.oAB({type:ye}),ye.\u0275inj=u.cJS({providers:[me]}),ye})()},2796:(ln,pt,O)=>{"use strict";O.d(pt,{ST:()=>$y,yb:()=>kv});var u=O(4650),X=O(353),W=O(6498),Be=O(5254),Ne=O(1086),J=O(6351),fe=O(1059),ve=O(3489);function Ee(){return i=>i.lift(new ie)}class ie{call(e,t){return t.subscribe(new ae(e))}}class ae extends ve.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}var Ge,ne=O(4850),pe=O(2014),He=O(5778),Qe=O(2198),Ve=O(2011),ke=O(6895),St=(O(2476),O(3942)),Se=O(5861),Dt=O(9681),bt=O(4859),Mt=O(1877),rt=O(2090),_t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Me={},Ce=Ce||{},ce=_t||self;function xe(){}function oe(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Oe(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var be="closure_uid_"+(1e9*Math.random()>>>0),me=0;function Re(i,e,t){return i.call.apply(i.bind,arguments)}function ye(i,e,t){if(!i)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var h=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(h,a),i.apply(e,h)}}return function(){return i.apply(e,arguments)}}function Ie(i,e,t){return(Ie=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Re:ye).apply(null,arguments)}function Ue(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var a=t.slice();return a.push.apply(a,arguments),i.apply(this,a)}}function qe(i,e){function t(){}t.prototype=e.prototype,i.X=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Vb=function(a,h,m){for(var w=Array(arguments.length-2),R=2;R<arguments.length;R++)w[R-2]=arguments[R];return e.prototype[h].apply(a,w)}}function nt(){this.s=this.s,this.o=this.o}var gt={};nt.prototype.s=!1,nt.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function re(i){return Object.prototype.hasOwnProperty.call(i,be)&&i[be]||(i[be]=++me)}(this);delete gt[i]}},nt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Lt=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function pn(i){const e=i.length;if(0<e){const t=Array(e);for(let a=0;a<e;a++)t[a]=i[a];return t}return[]}function wn(i,e){for(let t=1;t<arguments.length;t++){const a=arguments[t];if(oe(a)){const h=i.length||0,m=a.length||0;i.length=h+m;for(let w=0;w<m;w++)i[h+w]=a[w]}else i.push(a)}}function An(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}An.prototype.h=function(){this.defaultPrevented=!0};var Nn=function(){if(!ce.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{ce.addEventListener("test",xe,e),ce.removeEventListener("test",xe,e)}catch{}return i}();function sr(i){return/^[\s\xa0]*$/.test(i)}var ri=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function zr(i,e){return i<e?-1:i>e?1:0}function Mr(){var i=ce.navigator;return i&&(i=i.userAgent)?i:""}function yn(i){return-1!=Mr().indexOf(i)}function sn(i){return sn[" "](i),i}sn[" "]=xe;var En,i,Ei=yn("Opera"),Ln=yn("Trident")||yn("MSIE"),Tr=yn("Edge"),Fr=Tr||Ln,Cn=yn("Gecko")&&!(-1!=Mr().toLowerCase().indexOf("webkit")&&!yn("Edge"))&&!(yn("Trident")||yn("MSIE"))&&!yn("Edge"),Rr=-1!=Mr().toLowerCase().indexOf("webkit")&&!yn("Edge");function Sr(){var i=ce.document;return i?i.documentMode:void 0}e:{var In="",br=(i=Mr(),Cn?/rv:([^\);]+)(\)|;)/.exec(i):Tr?/Edge\/([\d\.]+)/.exec(i):Ln?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Rr?/WebKit\/(\S+)/.exec(i):Ei?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(br&&(In=br?br[1]:""),Ln){var Jn=Sr();if(null!=Jn&&Jn>parseFloat(In)){En=String(Jn);break e}}En=In}var Kn={};var Un=ce.document&&Ln&&(Sr()||parseInt(En,10))||void 0;function Xr(i,e){if(An.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,a=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Cn){e:{try{sn(e.nodeName);var h=!0;break e}catch{}h=!1}h||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,a?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:qn[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Xr.X.h.call(this)}}qe(Xr,An);var qn={2:"touch",3:"pen",4:"mouse"};Xr.prototype.h=function(){Xr.X.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var ot="closure_listenable_"+(1e6*Math.random()|0),tt=0;function Ze(i,e,t,a,h){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!a,this.ha=h,this.key=++tt,this.ba=this.ea=!1}function et(i){i.ba=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function st(i,e,t){for(const a in i)e.call(t,i[a],a,i)}function Wt(i){const e={};for(const t in i)e[t]=i[t];return e}const tn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gn(i,e){let t,a;for(let h=1;h<arguments.length;h++){for(t in a=arguments[h],a)i[t]=a[t];for(let m=0;m<tn.length;m++)t=tn[m],Object.prototype.hasOwnProperty.call(a,t)&&(i[t]=a[t])}}function dr(i){this.src=i,this.g={},this.h=0}function zn(i,e){var t=e.type;if(t in i.g){var m,a=i.g[t],h=Lt(a,e);(m=0<=h)&&Array.prototype.splice.call(a,h,1),m&&(et(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function tr(i,e,t,a){for(var h=0;h<i.length;++h){var m=i[h];if(!m.ba&&m.listener==e&&m.capture==!!t&&m.ha==a)return h}return-1}dr.prototype.add=function(i,e,t,a,h){var m=i.toString();(i=this.g[m])||(i=this.g[m]=[],this.h++);var w=tr(i,e,a,h);return-1<w?(e=i[w],t||(e.ea=!1)):((e=new Ze(e,this.src,m,!!a,h)).ea=t,i.push(e)),e};var cn="closure_lm_"+(1e6*Math.random()|0),jn={};function Wr(i,e,t,a,h){if(a&&a.once)return hr(i,e,t,a,h);if(Array.isArray(e)){for(var m=0;m<e.length;m++)Wr(i,e[m],t,a,h);return null}return t=_n(t),i&&i[ot]?i.N(e,t,Oe(a)?!!a.capture:!!a,h):vr(i,e,t,!1,a,h)}function vr(i,e,t,a,h,m){if(!e)throw Error("Invalid event type");var w=Oe(h)?!!h.capture:!!h,R=It(i);if(R||(i[cn]=R=new dr(i)),(t=R.add(e,t,a,w,m)).proxy)return t;if(a=function Dn(){const e=Le;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=a,a.src=i,a.listener=t,i.addEventListener)Nn||(h=w),void 0===h&&(h=!1),i.addEventListener(e.toString(),a,h);else if(i.attachEvent)i.attachEvent(We(e.toString()),a);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(a)}return t}function hr(i,e,t,a,h){if(Array.isArray(e)){for(var m=0;m<e.length;m++)hr(i,e[m],t,a,h);return null}return t=_n(t),i&&i[ot]?i.O(e,t,Oe(a)?!!a.capture:!!a,h):vr(i,e,t,!0,a,h)}function ii(i,e,t,a,h){if(Array.isArray(e))for(var m=0;m<e.length;m++)ii(i,e[m],t,a,h);else a=Oe(a)?!!a.capture:!!a,t=_n(t),i&&i[ot]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=tr(m=i.g[e],t,a,h))&&(et(m[t]),Array.prototype.splice.call(m,t,1),0==m.length&&(delete i.g[e],i.h--))):i&&(i=It(i))&&(e=i.g[e.toString()],i=-1,e&&(i=tr(e,t,a,h)),(t=-1<i?e[i]:null)&&Ye(t))}function Ye(i){if("number"!=typeof i&&i&&!i.ba){var e=i.src;if(e&&e[ot])zn(e.i,i);else{var t=i.type,a=i.proxy;e.removeEventListener?e.removeEventListener(t,a,i.capture):e.detachEvent?e.detachEvent(We(t),a):e.addListener&&e.removeListener&&e.removeListener(a),(t=It(e))?(zn(t,i),0==t.h&&(t.src=null,e[cn]=null)):et(i)}}}function We(i){return i in jn?jn[i]:jn[i]="on"+i}function Le(i,e){if(i.ba)i=!0;else{e=new Xr(e,this);var t=i.listener,a=i.ha||i.src;i.ea&&Ye(i),i=t.call(a,e)}return i}function It(i){return(i=i[cn])instanceof dr?i:null}var Ut="__closure_events_fn_"+(1e9*Math.random()>>>0);function _n(i){return"function"==typeof i?i:(i[Ut]||(i[Ut]=function(e){return i.handleEvent(e)}),i[Ut])}function Tn(){nt.call(this),this.i=new dr(this),this.P=this,this.I=null}function Rn(i,e){var t,a=i.I;if(a)for(t=[];a;a=a.I)t.push(a);if(i=i.P,a=e.type||e,"string"==typeof e)e=new An(e,i);else if(e instanceof An)e.target=e.target||i;else{var h=e;gn(e=new An(a,i),h)}if(h=!0,t)for(var m=t.length-1;0<=m;m--){var w=e.g=t[m];h=Cr(w,a,!0,e)&&h}if(h=Cr(w=e.g=i,a,!0,e)&&h,h=Cr(w,a,!1,e)&&h,t)for(m=0;m<t.length;m++)h=Cr(w=e.g=t[m],a,!1,e)&&h}function Cr(i,e,t,a){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var h=!0,m=0;m<e.length;++m){var w=e[m];if(w&&!w.ba&&w.capture==t){var R=w.listener,Y=w.ha||w.src;w.ea&&zn(i.i,w),h=!1!==R.call(Y,a)&&h}}return h&&!a.defaultPrevented}qe(Tn,nt),Tn.prototype[ot]=!0,Tn.prototype.removeEventListener=function(i,e,t,a){ii(this,i,e,t,a)},Tn.prototype.M=function(){if(Tn.X.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],a=0;a<t.length;a++)et(t[a]);delete i.g[e],i.h--}}this.I=null},Tn.prototype.N=function(i,e,t,a){return this.i.add(String(i),e,!1,t,a)},Tn.prototype.O=function(i,e,t,a){return this.i.add(String(i),e,!0,t,a)};var ci=ce.JSON.stringify;function Gn(){var i=Pr;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var hs,Yr=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new qi,i=>i.reset());class qi{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ei(i){ce.setTimeout(()=>{throw i},0)}function mr(i,e){hs||function Zi(){var i=ce.Promise.resolve(void 0);hs=function(){i.then(Ai)}}(),li||(hs(),li=!0),Pr.add(i,e)}var li=!1,Pr=new class Jr{constructor(){this.h=this.g=null}add(e,t){const a=Yr.get();a.set(e,t),this.h?this.h.next=a:this.g=a,this.h=a}};function Ai(){for(var i;i=Gn();){try{i.h.call(i.g)}catch(t){ei(t)}var e=Yr;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}li=!1}function Pn(i,e){Tn.call(this),this.h=i||1,this.g=e||ce,this.j=Ie(this.kb,this),this.l=Date.now()}function fi(i){i.ca=!1,i.R&&(i.g.clearTimeout(i.R),i.R=null)}function Hi(i,e,t){if("function"==typeof i)t&&(i=Ie(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Ie(i.handleEvent,i)}return 2147483647<Number(e)?-1:ce.setTimeout(i,e||0)}function ns(i){i.g=Hi(()=>{i.g=null,i.i&&(i.i=!1,ns(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}qe(Pn,Tn),(Ge=Pn.prototype).ca=!1,Ge.R=null,Ge.kb=function(){if(this.ca){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-i):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Rn(this,"tick"),this.ca&&(fi(this),this.start()))}},Ge.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ge.M=function(){Pn.X.M.call(this),fi(this),delete this.g};class Ss extends nt{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ns(this)}M(){super.M(),this.g&&(ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yi(i){nt.call(this),this.h=i,this.g={}}qe(yi,nt);var xi=[];function ue(i,e,t,a){Array.isArray(t)||(t&&(xi[0]=t.toString()),t=xi);for(var h=0;h<t.length;h++){var m=Wr(e,t[h],a||i.handleEvent,!1,i.h||i);if(!m)break;i.g[m.key]=m}}function De(i){st(i.g,function(e,t){this.g.hasOwnProperty(t)&&Ye(e)},i),i.g={}}function lt(){this.g=!0}function Ke(i,e,t,a){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Gt(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var a=t[i];if(!(2>a.length)){var h=a[1];if(Array.isArray(h)&&!(1>h.length)){var m=h[0];if("noop"!=m&&"stop"!=m&&"close"!=m)for(var w=1;w<h.length;w++)h[w]=""}}}return ci(t)}catch{return e}}(i,t)+(a?" "+a:"")})}yi.prototype.M=function(){yi.X.M.call(this),De(this)},yi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},lt.prototype.Aa=function(){this.g=!1},lt.prototype.info=function(){};var Ot={},Yt=null;function hn(){return Yt=Yt||new Tn}function Bn(i){An.call(this,Ot.Oa,i)}function Hn(i){const e=hn();Rn(e,new Bn(e,i))}function Or(i,e){An.call(this,Ot.STAT_EVENT,i),this.stat=e}function Zn(i){const e=hn();Rn(e,new Or(e,i))}function ct(i,e){An.call(this,Ot.Pa,i),this.size=e}function at(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return ce.setTimeout(function(){i()},e)}Ot.Oa="serverreachability",qe(Bn,An),Ot.STAT_EVENT="statevent",qe(Or,An),Ot.Pa="timingevent",qe(ct,An);var yt={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},jt={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function on(){}function kn(){}on.prototype.h=null;var ji,Ii={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function Dr(){An.call(this,"d")}function ys(){An.call(this,"c")}function Gi(){}function bi(i,e,t,a){this.l=i,this.j=e,this.m=t,this.U=a||1,this.S=new yi(this),this.O=go,this.T=new Pn(i=Fr?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new As}function As(){this.i=null,this.g="",this.h=!1}qe(Dr,An),qe(ys,An),qe(Gi,on),Gi.prototype.g=function(){return new XMLHttpRequest},Gi.prototype.i=function(){return{}},ji=new Gi;var go=45e3,Bs={},Bo={};function Kr(i,e,t){i.K=1,i.v=Ps(Ur(e)),i.s=t,i.P=!0,xs(i,null)}function xs(i,e){i.F=Date.now(),Ms(i),i.A=Ur(i.v);var t=i.A,a=i.U;Array.isArray(a)||(a=[String(a)]),vo(t.i,"t",a),i.C=0,t=i.l.H,i.h=new As,i.g=Bi(i.l,t?e:null,!i.s),0<i.N&&(i.L=new Ss(Ie(i.Ka,i,i.g),i.N)),ue(i.S,i.g,"readystatechange",i.hb),e=i.H?Wt(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.da(i.A,i.u,i.s,e)):(i.u="GET",i.g.da(i.A,i.u,null,e)),Hn(1),function ut(i,e,t,a,h,m){i.info(function(){if(i.g)if(m)for(var w="",R=m.split("&"),Y=0;Y<R.length;Y++){var Z=R[Y].split("=");if(1<Z.length){var Te=Z[0];Z=Z[1];var it=Te.split("_");w=2<=it.length&&"type"==it[1]?w+(Te+"=")+Z+"&":w+(Te+"=redacted&")}}else w=null;else w=m;return"XMLHTTP REQ ("+a+") [attempt "+h+"]: "+e+"\n"+t+"\n"+w})}(i.j,i.u,i.A,i.m,i.U,i.s)}function fs(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Da}function Vs(i,e,t){let h,a=!0;for(;!i.I&&i.C<t.length;){if(h=mo(i,t),h==Bo){4==e&&(i.o=4,Zn(14),a=!1),Ke(i.j,i.m,null,"[Incomplete Response]");break}if(h==Bs){i.o=4,Zn(15),Ke(i.j,i.m,t,"[Invalid Chunk]"),a=!1;break}Ke(i.j,i.m,h,null),rs(i,h)}fs(i)&&h!=Bo&&h!=Bs&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,Zn(16),a=!1),i.i=i.i&&a,a?0<t.length&&!i.$&&(i.$=!0,(e=i.l).g==i&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),$r(e),e.K=!0,Zn(11))):(Ke(i.j,i.m,t,"[Invalid Chunked Response]"),ui(i),Qi(i))}function mo(i,e){var t=i.C,a=e.indexOf("\n",t);return-1==a?Bo:(t=Number(e.substring(t,a)),isNaN(t)?Bs:(a+=1)+t>e.length?Bo:(e=e.substr(a,t),i.C=a+t,e))}function Ms(i){i.V=Date.now()+i.O,Rs(i,i.O)}function Rs(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=at(Ie(i.fb,i),e)}function Mi(i){i.B&&(ce.clearTimeout(i.B),i.B=null)}function Qi(i){0==i.l.G||i.I||gr(i.l,i)}function ui(i){Mi(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,fi(i.T),De(i.S),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function rs(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||jo(t.h,i)))if(!i.J&&jo(t.h,i)&&3==t.G){try{var a=t.Fa.g.parse(e)}catch{a=null}if(Array.isArray(a)&&3==a.length){var h=a;if(0==h[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<i.F))break e;ni(t),U(t)}jr(t),Zn(18)}}else t.Ba=h[1],0<t.Ba-t.T&&37500>h[2]&&t.L&&0==t.A&&!t.v&&(t.v=at(Ie(t.bb,t),6e3));if(1>=_r(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else ai(t,11)}else if((i.J||t.g==i)&&ni(t),!sr(e))for(h=t.Fa.g.parse(e),e=0;e<h.length;e++){let Z=h[e];if(t.T=Z[0],Z=Z[1],2==t.G)if("c"==Z[0]){t.I=Z[1],t.ka=Z[2];const Te=Z[3];null!=Te&&(t.ma=Te,t.j.info("VER="+t.ma));const it=Z[4];null!=it&&(t.Ca=it,t.j.info("SVER="+t.Ca));const kt=Z[5];null!=kt&&"number"==typeof kt&&0<kt&&(t.J=a=1.5*kt,t.j.info("backChannelRequestTimeoutMs_="+a)),a=t;const Kt=i.g;if(Kt){const Xt=Kt.g?Kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xt){var m=a.h;m.g||-1==Xt.indexOf("spdy")&&-1==Xt.indexOf("quic")&&-1==Xt.indexOf("h2")||(m.j=m.l,m.g=new Set,m.h&&(b(m,m.h),m.h=null))}if(a.D){const Mn=Kt.g?Kt.g.getResponseHeader("X-HTTP-Session-Id"):null;Mn&&(a.za=Mn,yr(a.F,a.D,Mn))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-i.F,t.j.info("Handshake RTT: "+t.P+"ms"));var w=i;if((a=t).sa=to(a,a.H?a.ka:null,a.V),w.J){z(a.h,w);var R=w,Y=a.J;Y&&R.setTimeout(Y),R.B&&(Mi(R),Ms(R)),a.g=w}else Qn(a);0<t.i.length&&Xe(t)}else"stop"!=Z[0]&&"close"!=Z[0]||ai(t,7);else 3==t.G&&("stop"==Z[0]||"close"==Z[0]?"stop"==Z[0]?ai(t,7):ee(t):"noop"!=Z[0]&&t.l&&t.l.wa(Z),t.A=0)}Hn(4)}catch{}}function ra(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(oe(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function zi(i){if(i.oa&&"function"==typeof i.oa)return i.oa();if(!i.W||"function"!=typeof i.W){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(oe(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const a in i)e[t++]=a;return e}}}(i),a=function Fi(i){if(i.W&&"function"==typeof i.W)return i.W();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(oe(i)){for(var e=[],t=i.length,a=0;a<t;a++)e.push(i[a]);return e}for(a in e=[],t=0,i)e[t++]=i[a];return e}(i),h=a.length,m=0;m<h;m++)e.call(void 0,a[m],t&&t[m],i)}(Ge=bi.prototype).setTimeout=function(i){this.O=i},Ge.hb=function(i){i=i.target;const e=this.L;e&&3==eo(i)?e.l():this.Ka(i)},Ge.Ka=function(i){try{if(i==this.g)e:{const Te=eo(this.g);var e=this.g.Ea();const it=this.g.aa();if(!(3>Te)&&(3!=Te||Fr||this.g&&(this.h.h||this.g.fa()||sa(this.g)))){this.I||4!=Te||7==e||Hn(8==e||0>=it?3:2),Mi(this);var t=this.g.aa();this.Y=t;t:if(fs(this)){var a=sa(this.g);i="";var h=a.length,m=4==eo(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ui(this),Qi(this);var w="";break t}this.h.i=new ce.TextDecoder}for(e=0;e<h;e++)this.h.h=!0,i+=this.h.i.decode(a[e],{stream:m&&e==h-1});a.splice(0,h),this.h.g+=i,this.C=0,w=this.h.g}else w=this.g.fa();if(this.i=200==t,function Pe(i,e,t,a,h,m,w){i.info(function(){return"XMLHTTP RESP ("+a+") [ attempt "+h+"]: "+e+"\n"+t+"\n"+m+" "+w})}(this.j,this.u,this.A,this.m,this.U,Te,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var R,Y=this.g;if((R=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!sr(R)){var Z=R;break t}}Z=null}if(!(t=Z)){this.i=!1,this.o=3,Zn(12),ui(this),Qi(this);break e}Ke(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,rs(this,t)}this.P?(Vs(this,Te,w),Fr&&this.i&&3==Te&&(ue(this.S,this.T,"tick",this.gb),this.T.start())):(Ke(this.j,this.m,w,null),rs(this,w)),4==Te&&ui(this),this.i&&!this.I&&(4==Te?gr(this.l,this):(this.i=!1,Ms(this)))}else 400==t&&0<w.indexOf("Unknown SID")?(this.o=3,Zn(12)):(this.o=0,Zn(13)),ui(this),Qi(this)}}}catch{}},Ge.gb=function(){if(this.g){var i=eo(this.g),e=this.g.fa();this.C<e.length&&(Mi(this),Vs(this,i,e),this.i&&4!=i&&Ms(this))}},Ge.cancel=function(){this.I=!0,ui(this)},Ge.fb=function(){this.B=null;const i=Date.now();0<=i-this.V?(function mt(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Hn(3),Zn(17)),ui(this),this.o=2,Qi(this)):Rs(this,this.V-i)};var Li=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qs(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Qs){this.h=void 0!==e?e:i.h,Ys(this,i.j),this.s=i.s,this.g=i.g,ps(this,i.m),this.l=i.l,e=i.i;var t=new Hr;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Xi(this,t),this.o=i.o}else i&&(t=String(i).match(Li))?(this.h=!!e,Ys(this,t[1]||"",!0),this.s=vs(t[2]||""),this.g=vs(t[3]||"",!0),ps(this,t[4]),this.l=vs(t[5]||"",!0),Xi(this,t[6]||"",!0),this.o=vs(t[7]||"")):(this.h=!!e,this.i=new Hr(null,this.h))}function Ur(i){return new Qs(i)}function Ys(i,e,t){i.j=t?vs(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function ps(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Xi(i,e,t){e instanceof Hr?(i.i=e,function pa(i,e){e&&!i.j&&(Vn(i),i.i=null,i.g.forEach(function(t,a){var h=a.toLowerCase();a!=h&&(yo(this,a),vo(this,h,t))},i)),i.j=e}(i.i,i.h)):(t||(e=gs(e,Os)),i.i=new Hr(e,i.h))}function yr(i,e,t){i.i.set(e,t)}function Ps(i){return yr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function vs(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function gs(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,Nr),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Nr(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Qs.prototype.toString=function(){var i=[],e=this.j;e&&i.push(gs(e,ss,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(gs(e,ss,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(gs(t,"/"==t.charAt(0)?Vo:Xs,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",gs(t,$o)),i.join("")};var ss=/[#\/\?@]/g,Xs=/[#\?:]/g,Vo=/[#\?]/g,Os=/[#\?@]/g,$o=/#/g;function Hr(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Vn(i){i.g||(i.g=new Map,i.h=0,i.i&&function Ws(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var a=i[t].indexOf("="),h=null;if(0<=a){var m=i[t].substring(0,a);h=i[t].substring(a+1)}else m=i[t];e(m,h?decodeURIComponent(h.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function yo(i,e){Vn(i),e=Js(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function Sa(i,e){return Vn(i),e=Js(i,e),i.g.has(e)}function vo(i,e,t){yo(i,e),0<t.length&&(i.i=null,i.g.set(Js(i,e),pn(t)),i.h+=t.length)}function Js(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Uo(i){this.l=i||Ho,i=ce.PerformanceNavigationTiming?0<(i=ce.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(ce.g&&ce.g.Ga&&ce.g.Ga()&&ce.g.Ga().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ge=Hr.prototype).add=function(i,e){Vn(this),this.i=null,i=Js(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},Ge.forEach=function(i,e){Vn(this),this.g.forEach(function(t,a){t.forEach(function(h){i.call(e,h,a,this)},this)},this)},Ge.oa=function(){Vn(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let a=0;a<e.length;a++){const h=i[a];for(let m=0;m<h.length;m++)t.push(e[a])}return t},Ge.W=function(i){Vn(this);let e=[];if("string"==typeof i)Sa(this,i)&&(e=e.concat(this.g.get(Js(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},Ge.set=function(i,e){return Vn(this),this.i=null,Sa(this,i=Js(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},Ge.get=function(i,e){return i&&0<(i=this.W(i)).length?String(i[0]):e},Ge.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var a=e[t];const m=encodeURIComponent(String(a)),w=this.W(a);for(a=0;a<w.length;a++){var h=m;""!==w[a]&&(h+="="+encodeURIComponent(String(w[a]))),i.push(h)}}return this.i=i.join("&")};var Ho=10;function qt(i){return!!i.h||!!i.g&&i.g.size>=i.j}function _r(i){return i.h?1:i.g?i.g.size:0}function jo(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function b(i,e){i.g?i.g.add(e):i.h=e}function z(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function E(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return pn(i.i)}function H(){}function _e(){this.g=new H}function Nt(i,e,t){const a=t||"";try{ra(i,function(h,m){let w=h;Oe(h)&&(w=ci(h)),e.push(a+m+"="+encodeURIComponent(w))})}catch(h){throw e.push(a+"type="+encodeURIComponent("_badmap")),h}}function V(i,e,t,a,h){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,h(a)}catch{}}function N(i){this.l=i.$b||null,this.j=i.ib||!1}function se(i,e){Tn.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=Ct,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Uo.prototype.cancel=function(){if(this.i=E(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},H.prototype.stringify=function(i){return ce.JSON.stringify(i,void 0)},H.prototype.parse=function(i){return ce.JSON.parse(i,void 0)},qe(N,on),N.prototype.g=function(){return new se(this.l,this.j)},N.prototype.i=function(i){return function(){return i}}({}),qe(se,Tn);var Ct=0;function Qt(i){i.j.read().then(i.Sa.bind(i)).catch(i.ga.bind(i))}function Wn(i){i.readyState=4,i.l=null,i.j=null,i.A=null,qr(i)}function qr(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Ge=se.prototype).open=function(i,e){if(this.readyState!=Ct)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,qr(this)},Ge.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||ce).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ga.bind(this))},Ge.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Wn(this)),this.readyState=Ct},Ge.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,qr(this)),this.g&&(this.readyState=3,qr(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if(typeof ce.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Qt(this)}else i.text().then(this.Ua.bind(this),this.ga.bind(this))},Ge.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Wn(this):qr(this),3==this.readyState&&Qt(this)}},Ge.Ua=function(i){this.g&&(this.response=this.responseText=i,Wn(this))},Ge.Ta=function(i){this.g&&(this.response=i,Wn(this))},Ge.ga=function(){this.g&&Wn(this)},Ge.setRequestHeader=function(i,e){this.v.append(i,e)},Ge.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Ge.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(se.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var vi=ce.JSON.parse;function wr(i){Tn.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=os,this.K=this.L=!1}qe(wr,Tn);var os="",_o=/^https?$/i,rc=["POST","PUT"];function Aa(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,xa(i),ia(i)}function xa(i){i.D||(i.D=!0,Rn(i,"complete"),Rn(i,"error"))}function Ha(i){if(i.h&&typeof Ce<"u"&&(!i.C[1]||4!=eo(i)||2!=i.aa()))if(i.v&&4==eo(i))Hi(i.Ha,0,i);else if(Rn(i,"readystatechange"),4==eo(i)){i.h=!1;try{const R=i.aa();e:switch(R){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var a;if(a=0===R){var h=String(i.H).match(Li)[1]||null;if(!h&&ce.self&&ce.self.location){var m=ce.self.location.protocol;h=m.substr(0,m.length-1)}a=!_o.test(h?h.toLowerCase():"")}t=a}if(t)Rn(i,"complete"),Rn(i,"success");else{i.m=6;try{var w=2<eo(i)?i.g.statusText:""}catch{w=""}i.j=w+" ["+i.aa()+"]",xa(i)}}finally{ia(i)}}}function ia(i,e){if(i.g){pl(i);const t=i.g,a=i.C[0]?xe:null;i.g=null,i.C=null,e||Rn(i,"ready");try{t.onreadystatechange=a}catch{}}}function pl(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(ce.clearTimeout(i.A),i.A=null)}function eo(i){return i.g?i.g.readyState:0}function sa(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case os:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function oa(i){let e="";return st(i,function(t,a){e+=a,e+=":",e+=t,e+="\r\n"}),e}function xo(i,e,t){e:{for(a in t){var a=!1;break e}a=!0}a||(t=oa(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):yr(i,e,t))}function aa(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function B(i){this.Ca=0,this.i=[],this.j=new lt,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=aa("failFast",!1,i),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=aa("baseRetryDelayMs",5e3,i),this.ab=aa("retryDelaySeedMs",1e4,i),this.Za=aa("forwardChannelMaxRetries",2,i),this.ta=aa("forwardChannelRequestTimeoutMs",2e4,i),this.ra=i&&i.xmlHttpFactory||void 0,this.Da=i&&i.Yb||!1,this.J=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.I="",this.h=new Uo(i&&i.concurrentRequestLimit),this.Fa=new _e,this.O=i&&i.fastHandshake||!1,this.N=i&&i.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=i&&i.Wb||!1,i&&i.Aa&&this.j.Aa(),i&&i.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&i&&i.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function ee(i){if(he(i),3==i.G){var e=i.U++,t=Ur(i.F);yr(t,"SID",i.I),yr(t,"RID",e),yr(t,"TYPE","terminate"),Jt(i,t),(e=new bi(i,i.j,e,void 0)).K=2,e.v=Ps(Ur(t)),t=!1,ce.navigator&&ce.navigator.sendBeacon&&(t=ce.navigator.sendBeacon(e.v.toString(),"")),!t&&ce.Image&&((new Image).src=e.v,t=!0),t||(e.g=Bi(e.l,null),e.g.da(e.v)),e.F=Date.now(),Ms(e)}wo(i)}function U(i){i.g&&($r(i),i.g.cancel(),i.g=null)}function he(i){U(i),i.u&&(ce.clearTimeout(i.u),i.u=null),ni(i),i.h.cancel(),i.m&&("number"==typeof i.m&&ce.clearTimeout(i.m),i.m=null)}function Xe(i){qt(i.h)||i.m||(i.m=!0,mr(i.Ja,i),i.C=0)}function At(i,e){var t;t=e?e.m:i.U++;const a=Ur(i.F);yr(a,"SID",i.I),yr(a,"RID",t),yr(a,"AID",i.T),Jt(i,a),i.o&&i.s&&xo(a,i.o,i.s),t=new bi(i,i.j,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.i=e.D.concat(i.i)),e=xr(i,t,1e3),t.setTimeout(Math.round(.5*i.ta)+Math.round(.5*i.ta*Math.random())),b(i.h,t),Kr(t,a,e)}function Jt(i,e){i.ia&&st(i.ia,function(t,a){yr(e,a,t)}),i.l&&ra({},function(t,a){yr(e,a,t)})}function xr(i,e,t){t=Math.min(i.i.length,t);var a=i.l?Ie(i.l.Qa,i.l,i):null;e:{var h=i.i;let m=-1;for(;;){const w=["count="+t];-1==m?0<t?(m=h[0].h,w.push("ofs="+m)):m=0:w.push("ofs="+m);let R=!0;for(let Y=0;Y<t;Y++){let Z=h[Y].h;const Te=h[Y].g;if(Z-=m,0>Z)m=Math.max(0,h[Y].h-100),R=!1;else try{Nt(Te,w,"req"+Z+"_")}catch{a&&a(Te)}}if(R){a=w.join("&");break e}}}return i=i.i.splice(0,t),e.D=i,a}function Qn(i){i.g||i.u||(i.Z=1,mr(i.Ia,i),i.A=0)}function jr(i){return!(i.g||i.u||3<=i.A||(i.Z++,i.u=at(Ie(i.Ia,i),fr(i,i.A)),i.A++,0))}function $r(i){null!=i.B&&(ce.clearTimeout(i.B),i.B=null)}function Ri(i){i.g=new bi(i,i.j,"rpc",i.Z),null===i.o&&(i.g.H=i.s),i.g.N=0;var e=Ur(i.sa);yr(e,"RID","rpc"),yr(e,"SID",i.I),yr(e,"CI",i.L?"0":"1"),yr(e,"AID",i.T),yr(e,"TYPE","xmlhttp"),Jt(i,e),i.o&&i.s&&xo(e,i.o,i.s),i.J&&i.g.setTimeout(i.J);var t=i.g;i=i.ka,t.K=1,t.v=Ps(Ur(e)),t.s=null,t.P=!0,xs(t,i)}function ni(i){null!=i.v&&(ce.clearTimeout(i.v),i.v=null)}function gr(i,e){var t=null;if(i.g==e){ni(i),$r(i),i.g=null;var a=2}else{if(!jo(i.h,e))return;t=e.D,z(i.h,e),a=1}if(0!=i.G)if(i.pa=e.Y,e.i)if(1==a){t=e.s?e.s.length:0,e=Date.now()-e.F;var h=i.C;Rn(a=hn(),new ct(a,t,e,h)),Xe(i)}else Qn(i);else if(3==(h=e.o)||0==h&&0<i.pa||!(1==a&&function Et(i,e){return!(_r(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.D.concat(i.i),0):1==i.G||2==i.G||i.C>=(i.Ya?0:i.Za)||(i.m=at(Ie(i.Ja,i,e),fr(i,i.C)),i.C++,0)))}(i,e)||2==a&&jr(i)))switch(t&&0<t.length&&(e=i.h,e.i=e.i.concat(t)),h){case 1:ai(i,5);break;case 4:ai(i,10);break;case 3:ai(i,6);break;default:ai(i,2)}}function fr(i,e){let t=i.Wa+Math.floor(Math.random()*i.ab);return i.l||(t*=2),t*e}function ai(i,e){if(i.j.info("Error code "+e),2==e){var t=null;i.l&&(t=null);var a=Ie(i.jb,i);t||(t=new Qs("//www.google.com/images/cleardot.gif"),ce.location&&"http"==ce.location.protocol||Ys(t,"https"),Ps(t)),function $(i,e){const t=new lt;if(ce.Image){const a=new Image;a.onload=Ue(V,t,a,"TestLoadImage: loaded",!0,e),a.onerror=Ue(V,t,a,"TestLoadImage: error",!1,e),a.onabort=Ue(V,t,a,"TestLoadImage: abort",!1,e),a.ontimeout=Ue(V,t,a,"TestLoadImage: timeout",!1,e),ce.setTimeout(function(){a.ontimeout&&a.ontimeout()},1e4),a.src=i}else e(!1)}(t.toString(),a)}else Zn(2);i.G=0,i.l&&i.l.va(e),wo(i),he(i)}function wo(i){if(i.G=0,i.la=[],i.l){const e=E(i.h);(0!=e.length||0!=i.i.length)&&(wn(i.la,e),wn(i.la,i.i),i.h.i.length=0,pn(i.i),i.i.length=0),i.l.ua()}}function to(i,e,t){var a=t instanceof Qs?Ur(t):new Qs(t,void 0);if(""!=a.g)e&&(a.g=e+"."+a.g),ps(a,a.m);else{var h=ce.location;a=h.protocol,e=e?e+"."+h.hostname:h.hostname,h=+h.port;var m=new Qs(null,void 0);a&&Ys(m,a),e&&(m.g=e),h&&ps(m,h),t&&(m.l=t),a=m}return e=i.za,(t=i.D)&&e&&yr(a,t,e),yr(a,"VER",i.ma),Jt(i,a),a}function Bi(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new wr(t&&i.Da&&!i.ra?new N({ib:!0}):i.ra)).L=i.H,e}function Eo(){}function Ks(){if(Ln&&!(10<=Number(Un)))throw Error("Environmental error: no available transport.")}function _s(i,e){Tn.call(this),this.g=new B(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.S=i,(i=e&&e.Xb)&&!sr(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!sr(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new ga(this)}function Wi(i){Dr.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function no(){ys.call(this),this.status=1}function ga(i){this.g=i}(Ge=wr.prototype).da=function(i,e,t,a){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ji.g(),this.C=function mn(i){return i.h||(i.h=i.i())}(this.u?this.u:ji),this.g.onreadystatechange=Ie(this.Ha,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(m){return void Aa(this,m)}if(i=t||"",t=new Map(this.headers),a)if(Object.getPrototypeOf(a)===Object.prototype)for(var h in a)t.set(h,a[h]);else{if("function"!=typeof a.keys||"function"!=typeof a.get)throw Error("Unknown input type for opt_headers: "+String(a));for(const m of a.keys())t.set(m,a.get(m))}a=Array.from(t.keys()).find(m=>"content-type"==m.toLowerCase()),h=ce.FormData&&i instanceof ce.FormData,!(0<=Lt(rc,e))||a||h||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[m,w]of t)this.g.setRequestHeader(m,w);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{pl(this),0<this.B&&((this.K=function Ua(i){return Ln&&function Ar(){return function zt(i){var e=Kn;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=ri(String(En)).split("."),t=ri("9").split("."),a=Math.max(e.length,t.length);for(let w=0;0==i&&w<a;w++){var h=e[w]||"",m=t[w]||"";do{if(h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],m=/(\d*)(\D*)(.*)/.exec(m)||["","","",""],0==h[0].length&&0==m[0].length)break;i=zr(0==h[1].length?0:parseInt(h[1],10),0==m[1].length?0:parseInt(m[1],10))||zr(0==h[2].length,0==m[2].length)||zr(h[2],m[2]),h=h[3],m=m[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ie(this.qa,this)):this.A=Hi(this.qa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(m){Aa(this,m)}},Ge.qa=function(){typeof Ce<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Rn(this,"timeout"),this.abort(8))},Ge.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Rn(this,"complete"),Rn(this,"abort"),ia(this))},Ge.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ia(this,!0)),wr.X.M.call(this)},Ge.Ha=function(){this.s||(this.F||this.v||this.l?Ha(this):this.eb())},Ge.eb=function(){Ha(this)},Ge.aa=function(){try{return 2<eo(this)?this.g.status:-1}catch{return-1}},Ge.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ge.Ra=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),vi(e)}},Ge.Ea=function(){return this.m},Ge.Na=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ge=B.prototype).ma=8,Ge.G=1,Ge.Ja=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;const h=new bi(this,this.j,i,void 0);let m=this.s;if(this.S&&(m?(m=Wt(m),gn(m,this.S)):m=this.S),null!==this.o||this.N||(h.H=m,m=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var a=this.i[t];if(void 0===(a="__data__"in a.g&&"string"==typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(e+=a)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=xr(this,h,e),yr(t=Ur(this.F),"RID",i),yr(t,"CVER",22),this.D&&yr(t,"X-HTTP-Session-Id",this.D),Jt(this,t),m&&(this.N?e="headers="+encodeURIComponent(String(oa(m)))+"&"+e:this.o&&xo(t,this.o,m)),b(this.h,h),this.Xa&&yr(t,"TYPE","init"),this.O?(yr(t,"$req",e),yr(t,"SID","null"),h.Z=!0,Kr(h,t,null)):Kr(h,t,e),this.G=2}}else 3==this.G&&(i?At(this,i):0==this.i.length||qt(this.h)||At(this))},Ge.Ia=function(){if(this.u=null,Ri(this),this.$&&!(this.K||null==this.g||0>=this.P)){var i=2*this.P;this.j.info("BP detection timer enabled: "+i),this.B=at(Ie(this.cb,this),i)}},Ge.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Zn(10),U(this),Ri(this))},Ge.bb=function(){null!=this.v&&(this.v=null,U(this),jr(this),Zn(19))},Ge.jb=function(i){i?(this.j.info("Successfully pinged google.com"),Zn(2)):(this.j.info("Failed to ping google.com"),Zn(1))},(Ge=Eo.prototype).xa=function(){},Ge.wa=function(){},Ge.va=function(){},Ge.ua=function(){},Ge.Qa=function(){},Ks.prototype.g=function(i,e){return new _s(i,e)},qe(_s,Tn),_s.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;Zn(0),i.V=e,i.ia=t||{},i.L=i.Y,i.F=to(i,null,i.V),Xe(i)},_s.prototype.close=function(){ee(this.g)},_s.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=ci(i),i=t);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.$a++,i)),3==e.G&&Xe(e)},_s.prototype.M=function(){this.g.l=null,delete this.j,ee(this.g),delete this.g,_s.X.M.call(this)},qe(Wi,Dr),qe(no,ys),qe(ga,Eo),ga.prototype.xa=function(){Rn(this.g,"a")},ga.prototype.wa=function(i){Rn(this.g,new Wi(i))},ga.prototype.va=function(i){Rn(this.g,new no(i))},ga.prototype.ua=function(){Rn(this.g,"b")},Ks.prototype.createWebChannel=Ks.prototype.g,_s.prototype.send=_s.prototype.u,_s.prototype.open=_s.prototype.m,_s.prototype.close=_s.prototype.close,yt.NO_ERROR=0,yt.TIMEOUT=8,yt.HTTP_ERROR=6,jt.COMPLETE="complete",kn.EventType=Ii,Ii.OPEN="a",Ii.CLOSE="b",Ii.ERROR="c",Ii.MESSAGE="d",Tn.prototype.listen=Tn.prototype.N,wr.prototype.listenOnce=wr.prototype.O,wr.prototype.getLastError=wr.prototype.Na,wr.prototype.getLastErrorCode=wr.prototype.Ea,wr.prototype.getStatus=wr.prototype.aa,wr.prototype.getResponseJson=wr.prototype.Ra,wr.prototype.getResponseText=wr.prototype.fa,wr.prototype.send=wr.prototype.da;var kl=Me.createWebChannelTransport=function(){return new Ks},iu=Me.getStatEventTarget=function(){return hn()},ja=Me.ErrorCode=yt,ic=Me.EventType=jt,Ga=Me.Event=Ot,za=Me.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Fl=Me.FetchXmlHttpFactory=N,Go=Me.WebChannel=kn,Gr=Me.XhrIo=wr;const as="@firebase/firestore";class Yi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yi.UNAUTHENTICATED=new Yi(null),Yi.GOOGLE_CREDENTIALS=new Yi("google-credentials-uid"),Yi.FIRST_PARTY=new Yi("first-party-uid"),Yi.MOCK_USER=new Yi("mock-user");let zo="9.10.0";const Pi=new Mt.Yd("@firebase/firestore");function Wo(){return Pi.logLevel}function rn(i,...e){if(Pi.logLevel<=Mt.in.DEBUG){const t=e.map($s);Pi.debug(`Firestore (${zo}): ${i}`,...t)}}function Zr(i,...e){if(Pi.logLevel<=Mt.in.ERROR){const t=e.map($s);Pi.error(`Firestore (${zo}): ${i}`,...t)}}function Oi(i,...e){if(Pi.logLevel<=Mt.in.WARN){const t=e.map($s);Pi.warn(`Firestore (${zo}): ${i}`,...t)}}function $s(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function On(i="Unexpected state"){const e=`FIRESTORE (${zo}) INTERNAL ASSERTION FAILED: `+i;throw Zr(e),new Error(e)}function or(i,e){i||On()}function bn(i,e){return i}const Vt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Zt extends rt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ws{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ca{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ll{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Yi.UNAUTHENTICATED))}shutdown(){}}class ma{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ml{constructor(e){this.t=e,this.currentUser=Yi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var a=this;let h=this.i;const m=Z=>this.i!==h?(h=this.i,t(Z)):Promise.resolve();let w=new ws;this.o=()=>{this.i++,this.currentUser=this.u(),w.resolve(),w=new ws,e.enqueueRetryable(()=>m(this.currentUser))};const R=()=>{const Z=w;e.enqueueRetryable((0,Se.Z)(function*(){yield Z.promise,yield m(a.currentUser)}))},Y=Z=>{rn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Z,this.auth.addAuthTokenListener(this.o),R()};this.t.onInit(Z=>Y(Z)),setTimeout(()=>{if(!this.auth){const Z=this.t.getImmediate({optional:!0});Z?Y(Z):(rn("FirebaseAuthCredentialsProvider","Auth not yet detected"),w.resolve(),w=new ws)}},0),R()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(a=>this.i!==e?(rn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(or("string"==typeof a.accessToken),new ca(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return or(null===e||"string"==typeof e),new Yi(e)}}class Ci{constructor(e,t,a,h){this.h=e,this.l=t,this.m=a,this.g=h,this.type="FirstParty",this.user=Yi.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(or(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Wa{constructor(e,t,a,h){this.h=e,this.l=t,this.m=a,this.g=h}getToken(){return Promise.resolve(new Ci(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Yi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ya{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yl{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const a=m=>{null!=m.error&&rn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${m.error.message}`);const w=m.token!==this.A;return this.A=m.token,rn("FirebaseAppCheckTokenProvider",`Received ${w?"new":"existing"} token.`),w?t(m.token):Promise.resolve()};this.o=m=>{e.enqueueRetryable(()=>a(m))};const h=m=>{rn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=m,this.appCheck.addTokenListener(this.o)};this.T.onInit(m=>h(m)),setTimeout(()=>{if(!this.appCheck){const m=this.T.getImmediate({optional:!0});m?h(m):rn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(or("string"==typeof t.token),this.A=t.token,new ya(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ho(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let a=0;a<i;a++)t[a]=Math.floor(256*Math.random());return t}class Ns{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let a="";for(;a.length<20;){const h=ho(40);for(let m=0;m<h.length;++m)a.length<20&&h[m]<t&&(a+=e.charAt(h[m]%e.length))}return a}}function cr(i,e){return i<e?-1:i>e?1:0}function ur(i,e,t){return i.length===e.length&&i.every((a,h)=>t(a,e[h]))}function Vl(i){return i+"\0"}class si{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Zt(Vt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Zt(Vt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Zt(Vt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Zt(Vt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return si.fromMillis(Date.now())}static fromDate(e){return si.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),a=Math.floor(1e6*(e-1e3*t));return new si(t,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?cr(this.nanoseconds,e.nanoseconds):cr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class nr{constructor(e){this.timestamp=e}static fromTimestamp(e){return new nr(e)}static min(){return new nr(new si(0,0))}static max(){return new nr(new si(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class pi{constructor(e,t,a){void 0===t?t=0:t>e.length&&On(),void 0===a?a=e.length-t:a>e.length-t&&On(),this.segments=e,this.offset=t,this.len=a}get length(){return this.len}isEqual(e){return 0===pi.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof pi?e.forEach(a=>{t.push(a)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,a=this.limit();t<a;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const a=Math.min(e.length,t.length);for(let h=0;h<a;h++){const m=e.get(h),w=t.get(h);if(m<w)return-1;if(m>w)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class pr extends pi{construct(e,t,a){return new pr(e,t,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const a of e){if(a.indexOf("//")>=0)throw new Zt(Vt.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);t.push(...a.split("/").filter(h=>h.length>0))}return new pr(t)}static emptyPath(){return new pr([])}}const va=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class di extends pi{construct(e,t,a){return new di(e,t,a)}static isValidIdentifier(e){return va.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),di.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new di(["__name__"])}static fromServerFormat(e){const t=[];let a="",h=0;const m=()=>{if(0===a.length)throw new Zt(Vt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(a),a=""};let w=!1;for(;h<e.length;){const R=e[h];if("\\"===R){if(h+1===e.length)throw new Zt(Vt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const Y=e[h+1];if("\\"!==Y&&"."!==Y&&"`"!==Y)throw new Zt(Vt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=Y,h+=2}else"`"===R?(w=!w,h++):"."!==R||w?(a+=R,h++):(m(),h++)}if(m(),w)throw new Zt(Vt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new di(t)}static emptyPath(){return new di([])}}class dn{constructor(e){this.path=e}static fromPath(e){return new dn(pr.fromString(e))}static fromName(e){return new dn(pr.fromString(e).popFirst(5))}static empty(){return new dn(pr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===pr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return pr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new dn(new pr(e.slice()))}}class Yo{constructor(e,t,a,h){this.indexId=e,this.collectionGroup=t,this.fields=a,this.indexState=h}}function Di(i){return i.fields.find(e=>2===e.kind)}function ro(i){return i.fields.filter(e=>2!==e.kind)}Yo.UNKNOWN_ID=-1;class oi{constructor(e,t){this.fieldPath=e,this.kind=t}}class $l{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new $l(0,qs.min())}}function Ka(i,e){const t=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,h=nr.fromTimestamp(1e9===a?new si(t+1,0):new si(t,a));return new qs(h,dn.empty(),e)}function vl(i){return new qs(i.readTime,i.key,-1)}class qs{constructor(e,t,a){this.readTime=e,this.documentKey=t,this.largestBatchId=a}static min(){return new qs(nr.min(),dn.empty(),-1)}static max(){return new qs(nr.max(),dn.empty(),-1)}}function Tc(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=dn.comparator(i.documentKey,e.documentKey),0!==t?t:cr(i.largestBatchId,e.largestBatchId))}const su="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ko{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ma(i){return qa.apply(this,arguments)}function qa(){return qa=(0,Se.Z)(function*(i){if(i.code!==Vt.FAILED_PRECONDITION||i.message!==su)throw i;rn("LocalStore","Unexpectedly lost primary lease")}),qa.apply(this,arguments)}class Tt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&On(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Tt((a,h)=>{this.nextCallback=m=>{this.wrapSuccess(e,m).next(a,h)},this.catchCallback=m=>{this.wrapFailure(t,m).next(a,h)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Tt?t:Tt.resolve(t)}catch(t){return Tt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Tt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Tt.reject(t)}static resolve(e){return new Tt((t,a)=>{t(e)})}static reject(e){return new Tt((t,a)=>{a(e)})}static waitFor(e){return new Tt((t,a)=>{let h=0,m=0,w=!1;e.forEach(R=>{++h,R.next(()=>{++m,w&&m===h&&t()},Y=>a(Y))}),w=!0,m===h&&t()})}static or(e){let t=Tt.resolve(!1);for(const a of e)t=t.next(h=>h?Tt.resolve(h):a());return t}static forEach(e,t){const a=[];return e.forEach((h,m)=>{a.push(t.call(this,h,m))}),this.waitFor(a)}static mapArray(e,t){return new Tt((a,h)=>{const m=e.length,w=new Array(m);let R=0;for(let Y=0;Y<m;Y++){const Z=Y;t(e[Z]).next(Te=>{w[Z]=Te,++R,R===m&&a(w)},Te=>h(Te))}})}static doWhile(e,t){return new Tt((a,h)=>{const m=()=>{!0===e()?t().next(()=>{m()},h):a()};m()})}}class Za{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new ws,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Qa(e,t.error)):this.P.resolve()},this.transaction.onerror=a=>{const h=Ro(a.target.error);this.P.reject(new Qa(e,h))}}static open(e,t,a,h){try{return new Za(t,e.transaction(h,a))}catch(m){throw new Qa(t,m)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(rn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Mo(t)}}class ls{constructor(e,t,a){this.name=e,this.version=t,this.S=a,12.2===ls.D((0,rt.z$)())&&Zr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return rn("SimpleDb","Removing database:",e),Io(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,rt.hl)())return!1;if(ls.N())return!0;const e=(0,rt.z$)(),t=ls.D(e),a=0<t&&t<10,h=ls.k(e),m=0<h&&h<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||a||m)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.M)}static O(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(a)}static k(e){const t=e.match(/Android ([\d.]+)/i),a=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(a)}F(e){var t=this;return(0,Se.Z)(function*(){return t.db||(rn("SimpleDb","Opening database:",t.name),t.db=yield new Promise((a,h)=>{const m=indexedDB.open(t.name,t.version);m.onsuccess=w=>{a(w.target.result)},m.onblocked=()=>{h(new Qa(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},m.onerror=w=>{const R=w.target.error;h("VersionError"===R.name?new Zt(Vt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===R.name?new Zt(Vt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+R):new Qa(e,R))},m.onupgradeneeded=w=>{rn("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',w.oldVersion),t.S.$(w.target.result,m.transaction,w.oldVersion,t.version).next(()=>{rn("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=a=>t.B(a)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,a,h){var m=this;return(0,Se.Z)(function*(){const w="readonly"===t;let R=0;for(;;){++R;try{m.db=yield m.F(e);const Y=Za.open(m.db,e,w?"readonly":"readwrite",a),Z=h(Y).next(Te=>(Y.V(),Te)).catch(Te=>(Y.abort(Te),Tt.reject(Te))).toPromise();return Z.catch(()=>{}),yield Y.v,Z}catch(Y){const Z=Y,Te="FirebaseError"!==Z.name&&R<3;if(rn("SimpleDb","Transaction failed with error:",Z.message,"Retrying:",Te),m.close(),!Te)return Promise.reject(Z)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Ul{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return Io(this.U.delete())}}class Qa extends Zt{constructor(e,t){super(Vt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ji(i){return"IndexedDbTransactionError"===i.name}class Mo{constructor(e){this.store=e}put(e,t){let a;return void 0!==t?(rn("SimpleDb","PUT",this.store.name,e,t),a=this.store.put(t,e)):(rn("SimpleDb","PUT",this.store.name,"<auto-key>",e),a=this.store.put(e)),Io(a)}add(e){return rn("SimpleDb","ADD",this.store.name,e,e),Io(this.store.add(e))}get(e){return Io(this.store.get(e)).next(t=>(void 0===t&&(t=null),rn("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return rn("SimpleDb","DELETE",this.store.name,e),Io(this.store.delete(e))}count(){return rn("SimpleDb","COUNT",this.store.name),Io(this.store.count())}W(e,t){const a=this.options(e,t);if(a.index||"function"!=typeof this.store.getAll){const h=this.cursor(a),m=[];return this.H(h,(w,R)=>{m.push(R)}).next(()=>m)}{const h=this.store.getAll(a.range);return new Tt((m,w)=>{h.onerror=R=>{w(R.target.error)},h.onsuccess=R=>{m(R.target.result)}})}}J(e,t){const a=this.store.getAll(e,null===t?void 0:t);return new Tt((h,m)=>{a.onerror=w=>{m(w.target.error)},a.onsuccess=w=>{h(w.target.result)}})}Y(e,t){rn("SimpleDb","DELETE ALL",this.store.name);const a=this.options(e,t);a.X=!1;const h=this.cursor(a);return this.H(h,(m,w,R)=>R.delete())}Z(e,t){let a;t?a=e:(a={},t=e);const h=this.cursor(a);return this.H(h,t)}tt(e){const t=this.cursor({});return new Tt((a,h)=>{t.onerror=m=>{const w=Ro(m.target.error);h(w)},t.onsuccess=m=>{const w=m.target.result;w?e(w.primaryKey,w.value).next(R=>{R?w.continue():a()}):a()}})}H(e,t){const a=[];return new Tt((h,m)=>{e.onerror=w=>{m(w.target.error)},e.onsuccess=w=>{const R=w.target.result;if(!R)return void h();const Y=new Ul(R),Z=t(R.primaryKey,R.value,Y);if(Z instanceof Tt){const Te=Z.catch(it=>(Y.done(),Tt.reject(it)));a.push(Te)}Y.isDone?h():null===Y.G?R.continue():R.continue(Y.G)}}).next(()=>Tt.waitFor(a))}options(e,t){let a;return void 0!==e&&("string"==typeof e?a=e:t=e),{index:a,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const a=this.store.index(e.index);return e.X?a.openKeyCursor(e.range,t):a.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Io(i){return new Tt((e,t)=>{i.onsuccess=a=>{e(a.target.result)},i.onerror=a=>{const h=Ro(a.target.error);t(h)}})}let Ra=!1;function Ro(i){const e=ls.D((0,rt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const a=new Zt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ra||(Ra=!0,setTimeout(()=>{throw a},0)),a}}return i}class Xa{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;rn("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Se.Z)(function*(){t.task=null;try{rn("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(a){Ji(a)?rn("IndexBackiller","Ignoring IndexedDB error during index backfill: ",a):yield Ma(a)}yield t.nt(6e4)}))}}class ou{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Se.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",a=>t.it(a,e))})()}it(e,t){const a=new Set;let h=t,m=!0;return Tt.doWhile(()=>!0===m&&h>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(w=>{if(null!==w&&!a.has(w))return rn("IndexBackiller",`Processing collection: ${w}`),this.rt(e,w,h).next(R=>{h-=R,a.add(w)});m=!1})).next(()=>t-h)}rt(e,t,a){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(h=>this.localStore.localDocuments.getNextDocuments(e,t,h,a).next(m=>{const w=m.changes;return this.localStore.indexManager.updateIndexEntries(e,w).next(()=>this.ot(h,m)).next(R=>(rn("IndexBackiller",`Updating offset: ${R}`),this.localStore.indexManager.updateCollectionGroup(e,t,R))).next(()=>w.size)}))}ot(e,t){let a=e;return t.changes.forEach((h,m)=>{const w=vl(m);Tc(w,a)>0&&(a=w)}),new qs(a.readTime,a.documentKey,Math.max(t.batchId,e.largestBatchId))}}class cs{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=a=>this.ut(a),this.ct=a=>t.writeSequenceNumber(a))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function qo(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Es(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Pa(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}cs.at=-1;class ti{constructor(e,t){this.comparator=e,this.root=t||Vi.EMPTY}insert(e,t){return new ti(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Vi.BLACK,null,null))}remove(e){return new ti(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const a=this.comparator(e,t.key);if(0===a)return t.value;a<0?t=t.left:a>0&&(t=t.right)}return null}indexOf(e){let t=0,a=this.root;for(;!a.isEmpty();){const h=this.comparator(e,a.key);if(0===h)return t+a.left.size;h<0?a=a.left:(t+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,a)=>(e(t,a),!1))}toString(){const e=[];return this.inorderTraversal((t,a)=>(e.push(`${t}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oa(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oa(this.root,e,this.comparator,!0)}}class Oa{constructor(e,t,a,h){this.isReverse=h,this.nodeStack=[];let m=1;for(;!e.isEmpty();)if(m=t?a(e.key,t):1,t&&h&&(m*=-1),m<0)e=this.isReverse?e.left:e.right;else{if(0===m){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vi{constructor(e,t,a,h,m){this.key=e,this.value=t,this.color=a??Vi.RED,this.left=h??Vi.EMPTY,this.right=m??Vi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,a,h,m){return new Vi(e??this.key,t??this.value,a??this.color,h??this.left,m??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,a){let h=this;const m=a(e,h.key);return h=m<0?h.copy(null,null,null,h.left.insert(e,t,a),null):0===m?h.copy(null,t,null,null,null):h.copy(null,null,null,null,h.right.insert(e,t,a)),h.fixUp()}removeMin(){if(this.left.isEmpty())return Vi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let a,h=this;if(t(e,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(e,t),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===t(e,h.key)){if(h.right.isEmpty())return Vi.EMPTY;a=h.right.min(),h=h.copy(a.key,a.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(e,t))}return h.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw On();const e=this.left.check();if(e!==this.right.check())throw On();return e+(this.isRed()?0:1)}}Vi.EMPTY=null,Vi.RED=!0,Vi.BLACK=!1,Vi.EMPTY=new class{constructor(){this.size=0}get key(){throw On()}get value(){throw On()}get color(){throw On()}get left(){throw On()}get right(){throw On()}copy(i,e,t,a,h){return this}insert(i,e,t){return new Vi(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class _i{constructor(e){this.comparator=e,this.data=new ti(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,a)=>(e(t),!1))}forEachInRange(e,t){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const h=a.getNext();if(this.comparator(h.key,e[1])>=0)return;t(h.key)}}forEachWhile(e,t){let a;for(a=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Sc(this.data.getIterator())}getIteratorFrom(e){return new Sc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(a=>{t=t.add(a)}),t}isEqual(e){if(!(e instanceof _i)||this.size!==e.size)return!1;const t=this.data.getIterator(),a=e.data.getIterator();for(;t.hasNext();){const h=t.getNext().key,m=a.getNext().key;if(0!==this.comparator(h,m))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new _i(this.comparator);return t.data=e,t}}class Sc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Hl(i){return i.hasNext()?i.getNext():void 0}class Ki{constructor(e){this.fields=e,e.sort(di.comparator)}static empty(){return new Ki([])}unionWith(e){let t=new _i(di.comparator);for(const a of this.fields)t=t.add(a);for(const a of e)t=t.add(a);return new Ki(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ur(this.fields,e.fields,(t,a)=>t.isEqual(a))}}class Ni{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Ni(t)}static fromUint8Array(e){const t=function(a){let h="";for(let m=0;m<a.length;++m)h+=String.fromCharCode(a[m]);return h}(e);return new Ni(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let a=0;a<e.length;a++)t[a]=e.charCodeAt(a);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return cr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ni.EMPTY_BYTE_STRING=new Ni("");const Ja=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zo(i){if(or(!!i),"string"==typeof i){let e=0;const t=Ja.exec(i);if(or(!!t),t[1]){let h=t[1];h=(h+"000000000").substr(0,9),e=Number(h)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:gi(i.seconds),nanos:gi(i.nanos)}}function gi(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function S(i){return"string"==typeof i?Ni.fromBase64String(i):Ni.fromUint8Array(i)}function A(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function I(i){const e=i.mapValue.fields.__previous_value__;return A(e)?I(e):e}function F(i){const e=Zo(i.mapValue.fields.__local_write_time__.timestampValue);return new si(e.seconds,e.nanos)}class G{constructor(e,t,a,h,m,w,R,Y){this.databaseId=e,this.appId=t,this.persistenceKey=a,this.host=h,this.ssl=m,this.forceLongPolling=w,this.autoDetectLongPolling=R,this.useFetchStreams=Y}}class le{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new le("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof le&&e.projectId===this.projectId&&e.database===this.database}}function je(i){return null==i}function Je(i){return 0===i&&1/i==-1/0}function Ht(i){return"number"==typeof i&&Number.isInteger(i)&&!Je(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const P={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},j={nullValue:"NULL_VALUE"};function te(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?A(i)?4:Po(i)?9007199254740991:10:On()}function Ae(i,e){if(i===e)return!0;const t=te(i);if(t!==te(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return F(i).isEqual(F(e));case 3:return function(a,h){if("string"==typeof a.timestampValue&&"string"==typeof h.timestampValue&&a.timestampValue.length===h.timestampValue.length)return a.timestampValue===h.timestampValue;const m=Zo(a.timestampValue),w=Zo(h.timestampValue);return m.seconds===w.seconds&&m.nanos===w.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return h=e,S(i.bytesValue).isEqual(S(h.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,h){return gi(a.geoPointValue.latitude)===gi(h.geoPointValue.latitude)&&gi(a.geoPointValue.longitude)===gi(h.geoPointValue.longitude)}(i,e);case 2:return function(a,h){if("integerValue"in a&&"integerValue"in h)return gi(a.integerValue)===gi(h.integerValue);if("doubleValue"in a&&"doubleValue"in h){const m=gi(a.doubleValue),w=gi(h.doubleValue);return m===w?Je(m)===Je(w):isNaN(m)&&isNaN(w)}return!1}(i,e);case 9:return ur(i.arrayValue.values||[],e.arrayValue.values||[],Ae);case 10:return function(a,h){const m=a.mapValue.fields||{},w=h.mapValue.fields||{};if(qo(m)!==qo(w))return!1;for(const R in m)if(m.hasOwnProperty(R)&&(void 0===w[R]||!Ae(m[R],w[R])))return!1;return!0}(i,e);default:return On()}var h}function ht(i,e){return void 0!==(i.values||[]).find(t=>Ae(t,e))}function xt(i,e){if(i===e)return 0;const t=te(i),a=te(e);if(t!==a)return cr(t,a);switch(t){case 0:case 9007199254740991:return 0;case 1:return cr(i.booleanValue,e.booleanValue);case 2:return function(h,m){const w=gi(h.integerValue||h.doubleValue),R=gi(m.integerValue||m.doubleValue);return w<R?-1:w>R?1:w===R?0:isNaN(w)?isNaN(R)?0:-1:1}(i,e);case 3:return $t(i.timestampValue,e.timestampValue);case 4:return $t(F(i),F(e));case 5:return cr(i.stringValue,e.stringValue);case 6:return function(h,m){const w=S(h),R=S(m);return w.compareTo(R)}(i.bytesValue,e.bytesValue);case 7:return function(h,m){const w=h.split("/"),R=m.split("/");for(let Y=0;Y<w.length&&Y<R.length;Y++){const Z=cr(w[Y],R[Y]);if(0!==Z)return Z}return cr(w.length,R.length)}(i.referenceValue,e.referenceValue);case 8:return function(h,m){const w=cr(gi(h.latitude),gi(m.latitude));return 0!==w?w:cr(gi(h.longitude),gi(m.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(h,m){const w=h.values||[],R=m.values||[];for(let Y=0;Y<w.length&&Y<R.length;++Y){const Z=xt(w[Y],R[Y]);if(Z)return Z}return cr(w.length,R.length)}(i.arrayValue,e.arrayValue);case 10:return function(h,m){if(h===P.mapValue&&m===P.mapValue)return 0;if(h===P.mapValue)return 1;if(m===P.mapValue)return-1;const w=h.fields||{},R=Object.keys(w),Y=m.fields||{},Z=Object.keys(Y);R.sort(),Z.sort();for(let Te=0;Te<R.length&&Te<Z.length;++Te){const it=cr(R[Te],Z[Te]);if(0!==it)return it;const kt=xt(w[R[Te]],Y[Z[Te]]);if(0!==kt)return kt}return cr(R.length,Z.length)}(i.mapValue,e.mapValue);default:throw On()}}function $t(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return cr(i,e);const t=Zo(i),a=Zo(e),h=cr(t.seconds,a.seconds);return 0!==h?h:cr(t.nanos,a.nanos)}function nn(i){return Yn(i)}function Yn(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(a){const h=Zo(a);return`time(${h.seconds},${h.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?S(i.bytesValue).toBase64():"referenceValue"in i?dn.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(a){let h="[",m=!0;for(const w of a.values||[])m?m=!1:h+=",",h+=Yn(w);return h+"]"}(i.arrayValue):"mapValue"in i?function(a){const h=Object.keys(a.fields||{}).sort();let m="{",w=!0;for(const R of h)w?w=!1:m+=",",m+=`${R}:${Yn(a.fields[R])}`;return m+"}"}(i.mapValue):On();var e}function ar(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function kr(i){return!!i&&"integerValue"in i}function Xn(i){return!!i&&"arrayValue"in i}function $i(i){return!!i&&"nullValue"in i}function Zs(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Is(i){return!!i&&"mapValue"in i}function Qo(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Es(i.mapValue.fields,(t,a)=>e.mapValue.fields[t]=Qo(a)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Qo(i.arrayValue.values[t]);return e}return Object.assign({},i)}function Po(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function _l(i){return"nullValue"in i?j:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?ar(le.empty(),dn.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:On()}function el(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?ar(le.empty(),dn.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?P:On()}function wl(i,e){const t=xt(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function tl(i,e){const t=xt(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class us{constructor(e){this.value=e}static empty(){return new us({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let a=0;a<e.length-1;++a)if(t=(t.mapValue.fields||{})[e.get(a)],!Is(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qo(t)}setAll(e){let t=di.emptyPath(),a={},h=[];e.forEach((w,R)=>{if(!t.isImmediateParentOf(R)){const Y=this.getFieldsMap(t);this.applyChanges(Y,a,h),a={},h=[],t=R.popLast()}w?a[R.lastSegment()]=Qo(w):h.push(R.lastSegment())});const m=this.getFieldsMap(t);this.applyChanges(m,a,h)}delete(e){const t=this.field(e.popLast());Is(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ae(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let a=0;a<e.length;++a){let h=t.mapValue.fields[e.get(a)];Is(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},t.mapValue.fields[e.get(a)]=h),t=h}return t.mapValue.fields}applyChanges(e,t,a){Es(t,(h,m)=>e[h]=m);for(const h of a)delete e[h]}clone(){return new us(Qo(this.value))}}function El(i){const e=[];return Es(i.fields,(t,a)=>{const h=new di([t]);if(Is(a)){const m=El(a.mapValue).fields;if(0===m.length)e.push(h);else for(const w of m)e.push(h.child(w))}else e.push(h)}),new Ki(e)}class Ti{constructor(e,t,a,h,m,w){this.key=e,this.documentType=t,this.version=a,this.readTime=h,this.data=m,this.documentState=w}static newInvalidDocument(e){return new Ti(e,0,nr.min(),nr.min(),us.empty(),0)}static newFoundDocument(e,t,a){return new Ti(e,1,t,nr.min(),a,0)}static newNoDocument(e,t){return new Ti(e,2,t,nr.min(),us.empty(),0)}static newUnknownDocument(e,t){return new Ti(e,3,t,nr.min(),us.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=us.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=us.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=nr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ti&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ti(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ih{constructor(e,t=null,a=[],h=[],m=null,w=null,R=null){this.path=e,this.collectionGroup=t,this.orderBy=a,this.filters=h,this.limit=m,this.startAt=w,this.endAt=R,this.ht=null}}function gp(i,e=null,t=[],a=[],h=null,m=null,w=null){return new ih(i,e,t,a,h,m,w)}function Gl(i){const e=bn(i);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(a=>{return(h=a).field.canonicalString()+h.op.toString()+nn(h.value);var h}).join(","),t+="|ob:",t+=e.orderBy.map(a=>{return(h=a).field.canonicalString()+h.dir;var h}).join(","),je(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(a=>nn(a)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(a=>nn(a)).join(",")),e.ht=t}return e.ht}function au(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let h=0;h<i.orderBy.length;h++)if(!Ac(i.orderBy[h],e.orderBy[h]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let h=0;h<i.filters.length;h++)if((t=i.filters[h]).op!==(a=e.filters[h]).op||!t.field.isEqual(a.field)||!Ae(t.value,a.value))return!1;var t,a;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!ff(i.startAt,e.startAt)&&ff(i.endAt,e.endAt)}function fd(i){return dn.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function pd(i,e){return i.filters.filter(t=>t instanceof Us&&t.field.isEqual(e))}function sh(i,e,t){let a=j,h=!0;for(const m of pd(i,e)){let w=j,R=!0;switch(m.op){case"<":case"<=":w=_l(m.value);break;case"==":case"in":case">=":w=m.value;break;case">":w=m.value,R=!1;break;case"!=":case"not-in":w=j}wl({value:a,inclusive:h},{value:w,inclusive:R})<0&&(a=w,h=R)}if(null!==t)for(let m=0;m<i.orderBy.length;++m)if(i.orderBy[m].field.isEqual(e)){const w=t.position[m];wl({value:a,inclusive:h},{value:w,inclusive:t.inclusive})<0&&(a=w,h=t.inclusive);break}return{value:a,inclusive:h}}function Lu(i,e,t){let a=P,h=!0;for(const m of pd(i,e)){let w=P,R=!0;switch(m.op){case">=":case">":w=el(m.value),R=!1;break;case"==":case"in":case"<=":w=m.value;break;case"<":w=m.value,R=!1;break;case"!=":case"not-in":w=P}tl({value:a,inclusive:h},{value:w,inclusive:R})>0&&(a=w,h=R)}if(null!==t)for(let m=0;m<i.orderBy.length;++m)if(i.orderBy[m].field.isEqual(e)){const w=t.position[m];tl({value:a,inclusive:h},{value:w,inclusive:t.inclusive})>0&&(a=w,h=t.inclusive);break}return{value:a,inclusive:h}}class Us extends class{}{constructor(e,t,a){super(),this.field=e,this.op=t,this.value=a}static create(e,t,a){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,a):new gd(e,t,a):"array-contains"===t?new jg(e,a):"in"===t?new Bu(e,a):"not-in"===t?new hf(e,a):"array-contains-any"===t?new oh(e,a):new Us(e,t,a)}static lt(e,t,a){return"in"===t?new md(e,a):new mp(e,a)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(xt(t,this.value)):null!==t&&te(this.value)===te(t)&&this.ft(xt(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return On()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class gd extends Us{constructor(e,t,a){super(e,t,a),this.key=dn.fromName(a.referenceValue)}matches(e){const t=dn.comparator(e.key,this.key);return this.ft(t)}}class md extends Us{constructor(e,t){super(e,"in",t),this.keys=lu(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class mp extends Us{constructor(e,t){super(e,"not-in",t),this.keys=lu(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function lu(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(a=>dn.fromName(a.referenceValue))}class jg extends Us{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Xn(t)&&ht(t.arrayValue,this.value)}}class Bu extends Us{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ht(this.value.arrayValue,t)}}class hf extends Us{constructor(e,t){super(e,"not-in",t)}matches(e){if(ht(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ht(this.value.arrayValue,t)}}class oh extends Us{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Xn(t)||!t.arrayValue.values)&&t.arrayValue.values.some(a=>ht(this.value.arrayValue,a))}}class _a{constructor(e,t){this.position=e,this.inclusive=t}}class sc{constructor(e,t="asc"){this.field=e,this.dir=t}}function Ac(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function yd(i,e,t){let a=0;for(let h=0;h<i.position.length;h++){const m=e[h],w=i.position[h];if(a=m.field.isKeyField()?dn.comparator(dn.fromName(w.referenceValue),t.key):xt(w,t.data.field(m.field)),"desc"===m.dir&&(a*=-1),0!==a)break}return a}function ff(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Ae(i.position[t],e.position[t]))return!1;return!0}class oc{constructor(e,t=null,a=[],h=[],m=null,w="F",R=null,Y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=a,this.filters=h,this.limit=m,this.limitType=w,this.startAt=R,this.endAt=Y,this._t=null,this.wt=null}}function cu(i,e,t,a,h,m,w,R){return new oc(i,e,t,a,h,m,w,R)}function ac(i){return new oc(i)}function vd(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function xc(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function uu(i){for(const e of i.filters)if(e.dt())return e.field;return null}function Mc(i){return null!==i.collectionGroup}function du(i){const e=bn(i);if(null===e._t){e._t=[];const t=uu(e),a=xc(e);if(null!==t&&null===a)t.isKeyField()||e._t.push(new sc(t)),e._t.push(new sc(di.keyField(),"asc"));else{let h=!1;for(const m of e.explicitOrderBy)e._t.push(m),m.field.isKeyField()&&(h=!0);if(!h){const m=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new sc(di.keyField(),m))}}}return e._t}function bo(i){const e=bn(i);if(!e.wt)if("F"===e.limitType)e.wt=gp(e.path,e.collectionGroup,du(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const m of du(e))t.push(new sc(m.field,"desc"===m.dir?"asc":"desc"));const a=e.endAt?new _a(e.endAt.position,e.endAt.inclusive):null,h=e.startAt?new _a(e.startAt.position,e.startAt.inclusive):null;e.wt=gp(e.path,e.collectionGroup,t,e.filters,e.limit,a,h)}return e.wt}function hu(i,e,t){return new oc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function fu(i,e){return au(bo(i),bo(e))&&i.limitType===e.limitType}function pf(i){return`${Gl(bo(i))}|lt:${i.limitType}`}function Na(i){return`Query(target=${function df(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(t=>{return`${(a=t).field.canonicalString()} ${a.op} ${nn(a.value)}`;var a}).join(", ")}]`),je(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(t=>{return`${(a=t).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(t=>nn(t)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(t=>nn(t)).join(",")),`Target(${e})`}(bo(i))}; limitType=${i.limitType})`}function Rc(i,e){return e.isFoundDocument()&&function(t,a){const h=a.key.path;return null!==t.collectionGroup?a.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(h):dn.isDocumentKey(t.path)?t.path.isEqual(h):t.path.isImmediateParentOf(h)}(i,e)&&function(t,a){for(const h of t.explicitOrderBy)if(!h.field.isKeyField()&&null===a.data.field(h.field))return!1;return!0}(i,e)&&function(t,a){for(const h of t.filters)if(!h.matches(a))return!1;return!0}(i,e)&&(a=e,!((t=i).startAt&&!function(h,m,w){const R=yd(h,m,w);return h.inclusive?R<=0:R<0}(t.startAt,du(t),a)||t.endAt&&!function(h,m,w){const R=yd(h,m,w);return h.inclusive?R>=0:R>0}(t.endAt,du(t),a)));var t,a}function ah(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function gf(i){return(e,t)=>{let a=!1;for(const h of du(i)){const m=Gg(h,e,t);if(0!==m)return m;a=a||h.field.isKeyField()}return 0}}function Gg(i,e,t){const a=i.field.isKeyField()?dn.comparator(e.key,t.key):function(h,m,w){const R=m.data.field(h),Y=w.data.field(h);return null!==R&&null!==Y?xt(R,Y):On()}(i.field,e,t);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return On()}}function mf(i,e){if(i.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Je(e)?"-0":e}}function yp(i){return{integerValue:""+i}}function vp(i,e){return Ht(e)?yp(e):mf(i,e)}class ka{constructor(){this._=void 0}}function _p(i,e,t){return i instanceof Oc?function(a,h){const m={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return h&&(m.fields.__previous_value__=h),{mapValue:m}}(t,e):i instanceof Fa?lh(i,e):i instanceof Oo?Il(i,e):function(a,h){const m=Pc(a,h),w=ch(m)+ch(a.yt);return kr(m)&&kr(a.yt)?yp(w):mf(a.It,w)}(i,e)}function yf(i,e,t){return i instanceof Fa?lh(i,e):i instanceof Oo?Il(i,e):t}function Pc(i,e){return i instanceof lc?kr(t=e)||(a=t)&&"doubleValue"in a?e:{integerValue:0}:null;var a,t}class Oc extends ka{}class Fa extends ka{constructor(e){super(),this.elements=e}}function lh(i,e){const t=Vu(e);for(const a of i.elements)t.some(h=>Ae(h,a))||t.push(a);return{arrayValue:{values:t}}}class Oo extends ka{constructor(e){super(),this.elements=e}}function Il(i,e){let t=Vu(e);for(const a of i.elements)t=t.filter(h=>!Ae(h,a));return{arrayValue:{values:t}}}class lc extends ka{constructor(e,t){super(),this.It=e,this.yt=t}}function ch(i){return gi(i.integerValue||i.doubleValue)}function Vu(i){return Xn(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class $u{constructor(e,t){this.field=e,this.transform=t}}class wp{constructor(e,t){this.version=e,this.transformResults=t}}class es{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new es}static exists(e){return new es(void 0,e)}static updateTime(e){return new es(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wa(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class bl{}function pu(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new uc(i.key,es.none()):new cc(i.key,i.data,es.none());{const t=i.data,a=us.empty();let h=new _i(di.comparator);for(let m of e.fields)if(!h.has(m)){let w=t.field(m);null===w&&m.length>1&&(m=m.popLast(),w=t.field(m)),null===w?a.delete(m):a.set(m,w),h=h.add(m)}return new zl(i.key,a,new Ki(h.toArray()),es.none())}}function zg(i,e,t){i instanceof cc?function(a,h,m){const w=a.value.clone(),R=Wl(a.fieldTransforms,h,m.transformResults);w.setAll(R),h.convertToFoundDocument(m.version,w).setHasCommittedMutations()}(i,e,t):i instanceof zl?function(a,h,m){if(!wa(a.precondition,h))return void h.convertToUnknownDocument(m.version);const w=Wl(a.fieldTransforms,h,m.transformResults),R=h.data;R.setAll(Ea(a)),R.setAll(w),h.convertToFoundDocument(m.version,R).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function gu(i,e,t,a){return i instanceof cc?function(h,m,w,R){if(!wa(h.precondition,m))return w;const Y=h.value.clone(),Z=vf(h.fieldTransforms,R,m);return Y.setAll(Z),m.convertToFoundDocument(m.version,Y).setHasLocalMutations(),null}(i,e,t,a):i instanceof zl?function(h,m,w,R){if(!wa(h.precondition,m))return w;const Y=vf(h.fieldTransforms,R,m),Z=m.data;return Z.setAll(Ea(h)),Z.setAll(Y),m.convertToFoundDocument(m.version,Z).setHasLocalMutations(),null===w?null:w.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(Te=>Te.field))}(i,e,t,a):(w=t,wa(i.precondition,m=e)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):w);var m,w}function uh(i,e){let t=null;for(const a of i.fieldTransforms){const h=e.data.field(a.field),m=Pc(a.transform,h||null);null!=m&&(null===t&&(t=us.empty()),t.set(a.field,m))}return t||null}function Uu(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(a=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===a||t&&a&&ur(t,a,(h,m)=>function Nc(i,e){return i.field.isEqual(e.field)&&(a=e.transform,(t=i.transform)instanceof Fa&&a instanceof Fa||t instanceof Oo&&a instanceof Oo?ur(t.elements,a.elements,Ae):t instanceof lc&&a instanceof lc?Ae(t.yt,a.yt):t instanceof Oc&&a instanceof Oc);var t,a}(h,m))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,a}class cc extends bl{constructor(e,t,a,h=[]){super(),this.key=e,this.value=t,this.precondition=a,this.fieldTransforms=h,this.type=0}getFieldMask(){return null}}class zl extends bl{constructor(e,t,a,h,m=[]){super(),this.key=e,this.data=t,this.fieldMask=a,this.precondition=h,this.fieldTransforms=m,this.type=1}getFieldMask(){return this.fieldMask}}function Ea(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const a=i.data.field(t);e.set(t,a)}}),e}function Wl(i,e,t){const a=new Map;or(i.length===t.length);for(let h=0;h<t.length;h++){const m=i[h],w=m.transform,R=e.data.field(m.field);a.set(m.field,yf(w,R,t[h]))}return a}function vf(i,e,t){const a=new Map;for(const h of i){const m=h.transform,w=t.data.field(h.field);a.set(h.field,_p(m,w,e))}return a}class uc extends bl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _d extends bl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class bs{constructor(e){this.count=e}}var Hs,hi;function mu(i){switch(i){default:return On();case Vt.CANCELLED:case Vt.UNKNOWN:case Vt.DEADLINE_EXCEEDED:case Vt.RESOURCE_EXHAUSTED:case Vt.INTERNAL:case Vt.UNAVAILABLE:case Vt.UNAUTHENTICATED:return!1;case Vt.INVALID_ARGUMENT:case Vt.NOT_FOUND:case Vt.ALREADY_EXISTS:case Vt.PERMISSION_DENIED:case Vt.FAILED_PRECONDITION:case Vt.ABORTED:case Vt.OUT_OF_RANGE:case Vt.UNIMPLEMENTED:case Vt.DATA_LOSS:return!0}}function Cl(i){if(void 0===i)return Zr("GRPC error has no .code"),Vt.UNKNOWN;switch(i){case Hs.OK:return Vt.OK;case Hs.CANCELLED:return Vt.CANCELLED;case Hs.UNKNOWN:return Vt.UNKNOWN;case Hs.DEADLINE_EXCEEDED:return Vt.DEADLINE_EXCEEDED;case Hs.RESOURCE_EXHAUSTED:return Vt.RESOURCE_EXHAUSTED;case Hs.INTERNAL:return Vt.INTERNAL;case Hs.UNAVAILABLE:return Vt.UNAVAILABLE;case Hs.UNAUTHENTICATED:return Vt.UNAUTHENTICATED;case Hs.INVALID_ARGUMENT:return Vt.INVALID_ARGUMENT;case Hs.NOT_FOUND:return Vt.NOT_FOUND;case Hs.ALREADY_EXISTS:return Vt.ALREADY_EXISTS;case Hs.PERMISSION_DENIED:return Vt.PERMISSION_DENIED;case Hs.FAILED_PRECONDITION:return Vt.FAILED_PRECONDITION;case Hs.ABORTED:return Vt.ABORTED;case Hs.OUT_OF_RANGE:return Vt.OUT_OF_RANGE;case Hs.UNIMPLEMENTED:return Vt.UNIMPLEMENTED;case Hs.DATA_LOSS:return Vt.DATA_LOSS;default:return On()}}(hi=Hs||(Hs={}))[hi.OK=0]="OK",hi[hi.CANCELLED=1]="CANCELLED",hi[hi.UNKNOWN=2]="UNKNOWN",hi[hi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hi[hi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hi[hi.NOT_FOUND=5]="NOT_FOUND",hi[hi.ALREADY_EXISTS=6]="ALREADY_EXISTS",hi[hi.PERMISSION_DENIED=7]="PERMISSION_DENIED",hi[hi.UNAUTHENTICATED=16]="UNAUTHENTICATED",hi[hi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hi[hi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hi[hi.ABORTED=10]="ABORTED",hi[hi.OUT_OF_RANGE=11]="OUT_OF_RANGE",hi[hi.UNIMPLEMENTED=12]="UNIMPLEMENTED",hi[hi.INTERNAL=13]="INTERNAL",hi[hi.UNAVAILABLE=14]="UNAVAILABLE",hi[hi.DATA_LOSS=15]="DATA_LOSS";class dc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),a=this.inner[t];if(void 0!==a)for(const[h,m]of a)if(this.equalsFn(h,e))return m}has(e){return void 0!==this.get(e)}set(e,t){const a=this.mapKeyFn(e),h=this.inner[a];if(void 0===h)return this.inner[a]=[[e,t]],void this.innerSize++;for(let m=0;m<h.length;m++)if(this.equalsFn(h[m][0],e))return void(h[m]=[e,t]);h.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),a=this.inner[t];if(void 0===a)return!1;for(let h=0;h<a.length;h++)if(this.equalsFn(a[h][0],e))return 1===a.length?delete this.inner[t]:a.splice(h,1),this.innerSize--,!0;return!1}forEach(e){Es(this.inner,(t,a)=>{for(const[h,m]of a)e(h,m)})}isEmpty(){return Pa(this.inner)}size(){return this.innerSize}}const kc=new ti(dn.comparator);function Xo(){return kc}const dh=new ti(dn.comparator);function yu(...i){let e=dh;for(const t of i)e=e.insert(t.key,t);return e}function Hu(i){let e=dh;return i.forEach((t,a)=>e=e.insert(t,a.overlayedDocument)),e}function Ia(){return nl()}function Dl(){return nl()}function nl(){return new dc(i=>i.toString(),(i,e)=>i.isEqual(e))}const ju=new ti(dn.comparator),_f=new _i(dn.comparator);function Er(...i){let e=_f;for(const t of i)e=e.add(t);return e}const Ep=new _i(cr);function Co(){return Ep}class Tl{constructor(e,t,a,h,m){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=a,this.documentUpdates=h,this.resolvedLimboDocuments=m}static createSynthesizedRemoteEventForCurrentChange(e,t){const a=new Map;return a.set(e,Sl.createSynthesizedTargetChangeForCurrentChange(e,t)),new Tl(nr.min(),a,Co(),Xo(),Er())}}class Sl{constructor(e,t,a,h,m){this.resumeToken=e,this.current=t,this.addedDocuments=a,this.modifiedDocuments=h,this.removedDocuments=m}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Sl(Ni.EMPTY_BYTE_STRING,t,Er(),Er(),Er())}}class Gu{constructor(e,t,a,h){this.Tt=e,this.removedTargetIds=t,this.key=a,this.Et=h}}class wd{constructor(e,t){this.targetId=e,this.At=t}}class Fc{constructor(e,t,a=Ni.EMPTY_BYTE_STRING,h=null){this.state=e,this.targetIds=t,this.resumeToken=a,this.cause=h}}class hh{constructor(){this.Rt=0,this.bt=rl(),this.Pt=Ni.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Er(),t=Er(),a=Er();return this.bt.forEach((h,m)=>{switch(m){case 0:e=e.add(h);break;case 2:t=t.add(h);break;case 1:a=a.add(h);break;default:On()}}),new Sl(this.Pt,this.vt,e,t,a)}Nt(){this.Vt=!1,this.bt=rl()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class fh{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Xo(),this.qt=Yl(),this.Kt=new _i(cr)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const a=this.zt(t);switch(e.state){case 0:this.Ht(t)&&a.Ct(e.resumeToken);break;case 1:a.Ft(),a.St||a.Nt(),a.Ct(e.resumeToken);break;case 2:a.Ft(),a.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(a.$t(),a.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),a.Ct(e.resumeToken));break;default:On()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((a,h)=>{this.Ht(h)&&t(h)})}Yt(e){const t=e.targetId,a=e.At.count,h=this.Xt(t);if(h){const m=h.target;if(fd(m))if(0===a){const w=new dn(m.path);this.jt(t,w,Ti.newNoDocument(w,nr.min()))}else or(1===a);else this.Zt(t)!==a&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((m,w)=>{const R=this.Xt(w);if(R){if(m.current&&fd(R.target)){const Y=new dn(R.target.path);null!==this.Ut.get(Y)||this.ee(w,Y)||this.jt(w,Y,Ti.newNoDocument(Y,e))}m.Dt&&(t.set(w,m.xt()),m.Nt())}});let a=Er();this.qt.forEach((m,w)=>{let R=!0;w.forEachWhile(Y=>{const Z=this.Xt(Y);return!Z||2===Z.purpose||(R=!1,!1)}),R&&(a=a.add(m))}),this.Ut.forEach((m,w)=>w.setReadTime(e));const h=new Tl(e,t,this.Kt,this.Ut,a);return this.Ut=Xo(),this.qt=Yl(),this.Kt=new _i(cr),h}Qt(e,t){if(!this.Ht(e))return;const a=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,a),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,a){if(!this.Ht(e))return;const h=this.zt(e);this.ee(e,t)?h.kt(t,1):h.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),a&&(this.Ut=this.Ut.insert(t,a))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let t=this.Lt.get(e);return t||(t=new hh,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new _i(cr),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||rn("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new hh),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function Yl(){return new ti(dn.comparator)}function rl(){return new ti(dn.comparator)}const vu={asc:"ASCENDING",desc:"DESCENDING"},_u={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Ed{constructor(e,t){this.databaseId=e,this.gt=t}}function ba(i,e){return i.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hc(i,e){return i.gt?e.toBase64():e.toUint8Array()}function js(i,e){return ba(i,e.toTimestamp())}function Gs(i){return or(!!i),nr.fromTimestamp(function(e){const t=Zo(e);return new si(t.seconds,t.nanos)}(i))}function Al(i,e){return(t=i,new pr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function ph(i){const e=pr.fromString(i);return or(Wu(e)),e}function Ca(i,e){return Al(i.databaseId,e.path)}function io(i,e){const t=ph(e);if(t.get(1)!==i.databaseId.projectId)throw new Zt(Vt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new Zt(Vt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new dn(Id(t))}function il(i,e){return Al(i.databaseId,e)}function gh(i){const e=ph(i);return 4===e.length?pr.emptyPath():Id(e)}function zu(i){return new pr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Id(i){return or(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function bd(i,e,t){return{name:Ca(i,e),fields:t.value.mapValue.fields}}function Lc(i,e,t){const a=io(i,e.name),h=Gs(e.updateTime),m=new us({mapValue:{fields:e.fields}}),w=Ti.newFoundDocument(a,h,m);return t&&w.setHasCommittedMutations(),t?w.setHasCommittedMutations():w}function C(i,e){let t;if(e instanceof cc)t={update:bd(i,e.key,e.value)};else if(e instanceof uc)t={delete:Ca(i,e.key)};else if(e instanceof zl)t={update:bd(i,e.key,e.data),updateMask:Do(e.fieldMask)};else{if(!(e instanceof _d))return On();t={verify:Ca(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(a=>function(h,m){const w=m.transform;if(w instanceof Oc)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(w instanceof Fa)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:w.elements}};if(w instanceof Oo)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:w.elements}};if(w instanceof lc)return{fieldPath:m.field.canonicalString(),increment:w.yt};throw On()}(0,a))),e.precondition.isNone||(t.currentDocument=void 0!==(h=e.precondition).updateTime?{updateTime:js(i,h.updateTime)}:void 0!==h.exists?{exists:h.exists}:On()),t;var h}function g(i,e){const t=e.currentDocument?void 0!==(h=e.currentDocument).updateTime?es.updateTime(Gs(h.updateTime)):void 0!==h.exists?es.exists(h.exists):es.none():es.none(),a=e.updateTransforms?e.updateTransforms.map(h=>function(m,w){let R=null;"setToServerValue"in w?(or("REQUEST_TIME"===w.setToServerValue),R=new Oc):"appendMissingElements"in w?R=new Fa(w.appendMissingElements.values||[]):"removeAllFromArray"in w?R=new Oo(w.removeAllFromArray.values||[]):"increment"in w?R=new lc(m,w.increment):On();const Y=di.fromServerFormat(w.fieldPath);return new $u(Y,R)}(i,h)):[];var h;if(e.update){const h=io(i,e.update.name),m=new us({mapValue:{fields:e.update.fields}});if(e.updateMask){const w=new Ki((e.updateMask.fieldPaths||[]).map(Z=>di.fromServerFormat(Z)));return new zl(h,m,w,t,a)}return new cc(h,m,t,a)}if(e.delete){const h=io(i,e.delete);return new uc(h,t)}if(e.verify){const h=io(i,e.verify);return new _d(h,t)}return On()}function x(i,e){return{documents:[il(i,e.path)]}}function q(i,e){const t={structuredQuery:{}},a=e.path;null!==e.collectionGroup?(t.parent=il(i,a),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=il(i,a.popLast()),t.structuredQuery.from=[{collectionId:a.lastSegment()}]);const h=function(Y){if(0===Y.length)return;const Z=Y.map(Te=>function(it){if("=="===it.op){if(Zs(it.value))return{unaryFilter:{field:lr(it.field),op:"IS_NAN"}};if($i(it.value))return{unaryFilter:{field:lr(it.field),op:"IS_NULL"}}}else if("!="===it.op){if(Zs(it.value))return{unaryFilter:{field:lr(it.field),op:"IS_NOT_NAN"}};if($i(it.value))return{unaryFilter:{field:lr(it.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lr(it.field),op:xn(it.op),value:it.value}}}(Te));return 1===Z.length?Z[0]:{compositeFilter:{op:"AND",filters:Z}}}(e.filters);h&&(t.structuredQuery.where=h);const m=function(Y){if(0!==Y.length)return Y.map(Z=>{return{field:lr((Te=Z).field),direction:vn(Te.dir)};var Te})}(e.orderBy);m&&(t.structuredQuery.orderBy=m);const w=(Z=e.limit,i.gt||je(Z)?Z:{value:Z});var Z,R,Y;return null!==w&&(t.structuredQuery.limit=w),e.startAt&&(t.structuredQuery.startAt={before:(R=e.startAt).inclusive,values:R.position}),e.endAt&&(t.structuredQuery.endAt={before:!(Y=e.endAt).inclusive,values:Y.position}),t}function we(i){let e=gh(i.parent);const t=i.structuredQuery,a=t.from?t.from.length:0;let h=null;if(a>0){or(1===a);const Te=t.from[0];Te.allDescendants?h=Te.collectionId:e=e.child(Te.collectionId)}let m=[];t.where&&(m=Bt(t.where));let w=[];t.orderBy&&(w=t.orderBy.map(Te=>{return new sc(rr((it=Te).field),function(kt){switch(kt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(it.direction));var it}));let R=null;t.limit&&(R=function(Te){let it;return it="object"==typeof Te?Te.value:Te,je(it)?null:it}(t.limit));let Y=null;var Te;t.startAt&&(Y=new _a((Te=t.startAt).values||[],!!Te.before));let Z=null;return t.endAt&&(Z=function(Te){return new _a(Te.values||[],!Te.before)}(t.endAt)),cu(e,h,w,m,R,"F",Y,Z)}function Bt(i){return i?void 0!==i.unaryFilter?[La(i)]:void 0!==i.fieldFilter?[ks(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>Bt(e)).reduce((e,t)=>e.concat(t)):On():[]}function vn(i){return vu[i]}function xn(i){return _u[i]}function lr(i){return{fieldPath:i.canonicalString()}}function rr(i){return di.fromServerFormat(i.fieldPath)}function ks(i){return Us.create(rr(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return On()}}(i.fieldFilter.op),i.fieldFilter.value)}function La(i){switch(i.unaryFilter.op){case"IS_NAN":const e=rr(i.unaryFilter.field);return Us.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=rr(i.unaryFilter.field);return Us.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=rr(i.unaryFilter.field);return Us.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=rr(i.unaryFilter.field);return Us.create(h,"!=",{nullValue:"NULL_VALUE"});default:return On()}}function Do(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Wu(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function so(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=yh(e)),e=mh(i.get(t),e);return yh(e)}function mh(i,e){let t=e;const a=i.length;for(let h=0;h<a;h++){const m=i.charAt(h);switch(m){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=m}}return t}function yh(i){return i+"\x01\x01"}function ua(i){const e=i.length;if(or(e>=2),2===e)return or("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),pr.emptyPath();const t=e-2,a=[];let h="";for(let m=0;m<e;){const w=i.indexOf("\x01",m);switch((w<0||w>t)&&On(),i.charAt(w+1)){case"\x01":const R=i.substring(m,w);let Y;0===h.length?Y=R:(h+=R,Y=h,h=""),a.push(Y);break;case"\x10":h+=i.substring(m,w),h+="\0";break;case"\x11":h+=i.substring(m,w+1);break;default:On()}m=w+2}return new pr(a)}const If=["userId","batchId"];function Yu(i,e){return[i,so(e)]}function xl(i,e,t){return[i,so(e),t]}const bf={},Ip=["prefixPath","collectionGroup","readTime","documentId"],Cf=["prefixPath","collectionGroup","documentId"],Df=["collectionGroup","readTime","prefixPath","documentId"],bp=["canonicalId","targetId"],Zm=["targetId","path"],Tf=["path","targetId"],Cp=["collectionId","parent"],Wg=["indexId","uid"],Yg=["uid","sequenceNumber"],Dp=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Tp=["indexId","uid","orderedDocumentKey"],Qm=["userId","collectionPath","documentId"],Sp=["userId","collectionPath","largestBatchId"],Ku=["userId","collectionGroup","largestBatchId"],Ap=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Xm=[...Ap,"documentOverlays"],qu=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],fc=qu,Jm=[...fc,"indexConfiguration","indexState","indexEntries"];class vh extends Ko{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function oo(i,e){const t=bn(i);return ls.O(t.ie,e)}class xp{constructor(e,t,a,h){this.batchId=e,this.localWriteTime=t,this.baseMutations=a,this.mutations=h}applyToRemoteDocument(e,t){const a=t.mutationResults;for(let h=0;h<this.mutations.length;h++){const m=this.mutations[h];m.key.isEqual(e.key)&&zg(m,e,a[h])}}applyToLocalView(e,t){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(t=gu(a,e,t,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(t=gu(a,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const a=Dl();return this.mutations.forEach(h=>{const m=e.get(h.key),w=m.overlayedDocument;let R=this.applyToLocalView(w,m.mutatedFields);R=t.has(h.key)?null:R;const Y=pu(w,R);null!==Y&&a.set(h.key,Y),w.isValidDocument()||w.convertToNoDocument(nr.min())}),a}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Er())}isEqual(e){return this.batchId===e.batchId&&ur(this.mutations,e.mutations,(t,a)=>Uu(t,a))&&ur(this.baseMutations,e.baseMutations,(t,a)=>Uu(t,a))}}class pc{constructor(e,t,a,h){this.batch=e,this.commitVersion=t,this.mutationResults=a,this.docVersions=h}static from(e,t,a){or(e.mutations.length===a.length);let h=ju;const m=e.mutations;for(let w=0;w<m.length;w++)h=h.insert(m[w].key,a[w].version);return new pc(e,t,a,h)}}class Mp{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Bc{constructor(e,t,a,h,m=nr.min(),w=nr.min(),R=Ni.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=a,this.sequenceNumber=h,this.snapshotVersion=m,this.lastLimboFreeSnapshotVersion=w,this.resumeToken=R}withSequenceNumber(e){return new Bc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Bc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Bc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Rp{constructor(e){this.re=e}}function _h(i,e){const t=e.key,a={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Cd(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())a.document={name:Ca(h=i.re,(m=e).key),fields:m.data.value.mapValue.fields,updateTime:ba(h,m.version.toTimestamp())};else if(e.isNoDocument())a.noDocument={path:t.path.toArray(),readTime:zs(e.version)};else{if(!e.isUnknownDocument())return On();a.unknownDocument={path:t.path.toArray(),version:zs(e.version)}}var h,m;return a}function Cd(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function zs(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Vc(i){const e=new si(i.seconds,i.nanoseconds);return nr.fromTimestamp(e)}function wu(i,e){const t=(e.baseMutations||[]).map(m=>g(i.re,m));for(let m=0;m<e.mutations.length-1;++m){const w=e.mutations[m];m+1<e.mutations.length&&void 0!==e.mutations[m+1].transform&&(w.updateTransforms=e.mutations[m+1].transform.fieldTransforms,e.mutations.splice(m+1,1),++m)}const a=e.mutations.map(m=>g(i.re,m)),h=si.fromMillis(e.localWriteTimeMs);return new xp(e.batchId,h,t,a)}function $c(i){const e=Vc(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?Vc(i.lastLimboFreeSnapshotVersion):nr.min();let a;var h;return void 0!==i.query.documents?(or(1===(h=i.query).documents.length),a=bo(ac(gh(h.documents[0])))):a=bo(we(i.query)),new Bc(a,i.targetId,0,i.lastListenSequenceNumber,e,t,Ni.fromBase64String(i.resumeToken))}function Jo(i,e){const t=zs(e.snapshotVersion),a=zs(e.lastLimboFreeSnapshotVersion);let h;h=fd(e.target)?x(i.re,e.target):q(i.re,e.target);const m=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Gl(e.target),readTime:t,resumeToken:m,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:a,query:h}}function Eu(i){const e=we({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?hu(e,e.limit,"L"):e}function Dd(i,e){return new Mp(e.largestBatchId,g(i.re,e.overlayMutation))}function Sf(i,e){const t=e.path.lastSegment();return[i,so(e.path.popLast()),t]}function Op(i,e,t,a){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:zs(a.readTime),documentKey:so(a.documentKey.path),largestBatchId:a.largestBatchId}}class Da{getBundleMetadata(e,t){return wh(e).get(t).next(a=>{if(a)return{id:(h=a).bundleId,createTime:Vc(h.createTime),version:h.version};var h})}saveBundleMetadata(e,t){return wh(e).put({bundleId:(a=t).id,createTime:zs(Gs(a.createTime)),version:a.version});var a}getNamedQuery(e,t){return gc(e).get(t).next(a=>{if(a)return{name:(h=a).name,query:Eu(h.bundledQuery),readTime:Vc(h.readTime)};var h})}saveNamedQuery(e,t){return gc(e).put({name:(a=t).name,readTime:zs(Gs(a.readTime)),bundledQuery:a.bundledQuery});var a}}function wh(i){return oo(i,"bundles")}function gc(i){return oo(i,"namedQueries")}class Zu{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new Zu(e,t.uid||"")}getOverlay(e,t){return ea(e).get(Sf(this.userId,t)).next(a=>a?Dd(this.It,a):null)}getOverlays(e,t){const a=Ia();return Tt.forEach(t,h=>this.getOverlay(e,h).next(m=>{null!==m&&a.set(h,m)})).next(()=>a)}saveOverlays(e,t,a){const h=[];return a.forEach((m,w)=>{const R=new Mp(t,w);h.push(this.ue(e,R))}),Tt.waitFor(h)}removeOverlaysForBatchId(e,t,a){const h=new Set;t.forEach(w=>h.add(so(w.getCollectionPath())));const m=[];return h.forEach(w=>{const R=IDBKeyRange.bound([this.userId,w,a],[this.userId,w,a+1],!1,!0);m.push(ea(e).Y("collectionPathOverlayIndex",R))}),Tt.waitFor(m)}getOverlaysForCollection(e,t,a){const h=Ia(),m=so(t),w=IDBKeyRange.bound([this.userId,m,a],[this.userId,m,Number.POSITIVE_INFINITY],!0);return ea(e).W("collectionPathOverlayIndex",w).next(R=>{for(const Y of R){const Z=Dd(this.It,Y);h.set(Z.getKey(),Z)}return h})}getOverlaysForCollectionGroup(e,t,a,h){const m=Ia();let w;const R=IDBKeyRange.bound([this.userId,t,a],[this.userId,t,Number.POSITIVE_INFINITY],!0);return ea(e).Z({index:"collectionGroupOverlayIndex",range:R},(Y,Z,Te)=>{const it=Dd(this.It,Z);m.size()<h||it.largestBatchId===w?(m.set(it.getKey(),it),w=it.largestBatchId):Te.done()}).next(()=>m)}ue(e,t){return ea(e).put(function(a,h,m){const[w,R,Y]=Sf(h,m.mutation.key);return{userId:h,collectionPath:R,documentId:Y,collectionGroup:m.mutation.key.getCollectionGroup(),largestBatchId:m.largestBatchId,overlayMutation:C(a.re,m.mutation)}}(this.It,this.userId,t))}}function ea(i){return oo(i,"documentOverlays")}class sl{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(gi(e.integerValue));else if("doubleValue"in e){const a=gi(e.doubleValue);isNaN(a)?this.le(t,13):(this.le(t,15),Je(a)?t.fe(0):t.fe(a))}else if("timestampValue"in e){const a=e.timestampValue;this.le(t,20),"string"==typeof a?t.de(a):(t.de(`${a.seconds||""}`),t.fe(a.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(S(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const a=e.geoPointValue;this.le(t,45),t.fe(a.latitude||0),t.fe(a.longitude||0)}else"mapValue"in e?Po(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):On()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const a=e.fields||{};this.le(t,55);for(const h of Object.keys(a))this._e(h,t),this.ae(a[h],t)}pe(e,t){const a=e.values||[];this.le(t,50);for(const h of a)this.ae(h,t)}ge(e,t){this.le(t,37),dn.fromName(e).path.forEach(a=>{this.le(t,60),this.Ie(a,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function Kg(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function Np(i){const e=64-function(t){let a=0;for(let h=0;h<8;++h){const m=Kg(255&t[h]);if(a+=m,8!==m)break}return a}(i);return Math.ceil(e/8)}sl.Te=new sl;class Qu{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let a=t.next();for(;!a.done;)this.Ae(a.value),a=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let a=t.next();for(;!a.done;)this.Pe(a.value),a=t.next();this.ve()}Ve(e){for(const t of e){const a=t.charCodeAt(0);if(a<128)this.Ae(a);else if(a<2048)this.Ae(960|a>>>6),this.Ae(128|63&a);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a);else{const h=t.codePointAt(0);this.Ae(240|h>>>18),this.Ae(128|63&h>>>12),this.Ae(128|63&h>>>6),this.Ae(128|63&h)}}this.Re()}Se(e){for(const t of e){const a=t.charCodeAt(0);if(a<128)this.Pe(a);else if(a<2048)this.Pe(960|a>>>6),this.Pe(128|63&a);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|a>>>12),this.Pe(128|63&a>>>6),this.Pe(128|63&a);else{const h=t.codePointAt(0);this.Pe(240|h>>>18),this.Pe(128|63&h>>>12),this.Pe(128|63&h>>>6),this.Pe(128|63&h)}}this.ve()}De(e){const t=this.Ce(e),a=Np(t);this.xe(1+a),this.buffer[this.position++]=255&a;for(let h=t.length-a;h<t.length;++h)this.buffer[this.position++]=255&t[h]}Ne(e){const t=this.Ce(e),a=Np(t);this.xe(1+a),this.buffer[this.position++]=~(255&a);for(let h=t.length-a;h<t.length;++h)this.buffer[this.position++]=~(255&t[h])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(h){const m=new DataView(new ArrayBuffer(8));return m.setFloat64(0,h,!1),new Uint8Array(m.buffer)}(e),a=0!=(128&t[0]);t[0]^=a?255:128;for(let h=1;h<t.length;++h)t[h]^=a?255:0;return t}Ae(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let a=2*this.buffer.length;a<t&&(a=t);const h=new Uint8Array(a);h.set(this.buffer),this.buffer=h}}class Ky{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class Td{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Oe()}}class ol{constructor(){this.Be=new Qu,this.Le=new Ky(this.Be),this.Ue=new Td(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Uc{constructor(e,t,a,h){this.indexId=e,this.documentKey=t,this.arrayValue=a,this.directionalValue=h}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,a=new Uint8Array(t);return a.set(this.directionalValue,0),t!==e?a.set([0],this.directionalValue.length):++a[a.length-1],new Uc(this.indexId,this.documentKey,this.arrayValue,a)}}function Xu(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=ey(i.arrayValue,e.arrayValue),0!==t?t:(t=ey(i.directionalValue,e.directionalValue),0!==t?t:dn.comparator(i.documentKey,e.documentKey)))}function ey(i,e){for(let t=0;t<i.length&&t<e.length;++t){const a=i[t]-e[t];if(0!==a)return a}return i.length-e.length}class qy{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const a=t;a.dt()?this.je=a:this.Qe.push(a)}}We(e){const t=Di(e);if(void 0!==t&&!this.ze(t))return!1;const a=ro(e);let h=0,m=0;for(;h<a.length&&this.ze(a[h]);++h);if(h===a.length)return!0;if(void 0!==this.je){const w=a[h];if(!this.He(this.je,w)||!this.Je(this.Ge[m++],w))return!1;++h}for(;h<a.length;++h){const w=a[h];if(m>=this.Ge.length||!this.Je(this.Ge[m++],w))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class qg{constructor(){this.Ye=new Sd}addToCollectionParentIndex(e,t){return this.Ye.add(t),Tt.resolve()}getCollectionParents(e,t){return Tt.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return Tt.resolve()}deleteFieldIndex(e,t){return Tt.resolve()}getDocumentsMatchingTarget(e,t){return Tt.resolve(null)}getIndexType(e,t){return Tt.resolve(0)}getFieldIndexes(e,t){return Tt.resolve([])}getNextCollectionGroupToUpdate(e){return Tt.resolve(null)}getMinOffset(e,t){return Tt.resolve(qs.min())}getMinOffsetFromCollectionGroup(e,t){return Tt.resolve(qs.min())}updateCollectionGroup(e,t,a){return Tt.resolve()}updateIndexEntries(e,t){return Tt.resolve()}}class Sd{constructor(){this.index={}}add(e){const t=e.lastSegment(),a=e.popLast(),h=this.index[t]||new _i(pr.comparator),m=!h.has(a);return this.index[t]=h.add(a),m}has(e){const t=e.lastSegment(),a=e.popLast(),h=this.index[t];return h&&h.has(a)}getEntries(e){return(this.index[e]||new _i(pr.comparator)).toArray()}}const da=new Uint8Array(0);class Ju{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new Sd,this.Ze=new dc(a=>Gl(a),(a,h)=>au(a,h)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const a=t.lastSegment(),h=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const m={collectionId:a,parent:so(h)};return Ad(e).put(m)}return Tt.resolve()}getCollectionParents(e,t){const a=[],h=IDBKeyRange.bound([t,""],[Vl(t),""],!1,!0);return Ad(e).W(h).next(m=>{for(const w of m){if(w.collectionId!==t)break;a.push(ua(w.parent))}return a})}addFieldIndex(e,t){const a=Md(e),h={indexId:(w=t).indexId,collectionGroup:w.collectionGroup,fields:w.fields.map(R=>[R.fieldPath.canonicalString(),R.kind])};var w;delete h.indexId;const m=a.add(h);if(t.indexState){const w=Rd(e);return m.next(R=>{w.put(Op(R,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return m.next()}deleteFieldIndex(e,t){const a=Md(e),h=Rd(e),m=xd(e);return a.delete(t.indexId).next(()=>h.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>m.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const a=xd(e);let h=!0;const m=new Map;return Tt.forEach(this.tn(t),w=>this.en(e,w).next(R=>{h&&(h=!!R),m.set(w,R)})).next(()=>{if(h){let w=Er();const R=[];return Tt.forEach(m,(Y,Z)=>{var Te;rn("IndexedDbIndexManager",`Using index ${Te=Y,`id=${Te.indexId}|cg=${Te.collectionGroup}|f=${Te.fields.map(ts=>`${ts.fieldPath}:${ts.kind}`).join(",")}`} to execute ${Gl(t)}`);const it=function(ts,co){const wi=Di(co);if(void 0===wi)return null;for(const is of pd(ts,wi.fieldPath))switch(is.op){case"array-contains-any":return is.value.arrayValue.values||[];case"array-contains":return[is.value]}return null}(Z,Y),kt=function(ts,co){const wi=new Map;for(const is of ro(co))for(const na of pd(ts,is.fieldPath))switch(na.op){case"==":case"in":wi.set(is.fieldPath.canonicalString(),na.value);break;case"not-in":case"!=":return wi.set(is.fieldPath.canonicalString(),na.value),Array.from(wi.values())}return null}(Z,Y),Kt=function(ts,co){const wi=[];let is=!0;for(const na of ro(co)){const $g=0===na.kind?sh(ts,na.fieldPath,ts.startAt):Lu(ts,na.fieldPath,ts.startAt);wi.push($g.value),is&&(is=$g.inclusive)}return new _a(wi,is)}(Z,Y),Xt=function(ts,co){const wi=[];let is=!0;for(const na of ro(co)){const $g=0===na.kind?Lu(ts,na.fieldPath,ts.endAt):sh(ts,na.fieldPath,ts.endAt);wi.push($g.value),is&&(is=$g.inclusive)}return new _a(wi,is)}(Z,Y),Mn=this.nn(Y,Z,Kt),ir=this.nn(Y,Z,Xt),Si=this.sn(Y,Z,kt),ms=this.rn(Y.indexId,it,Mn,Kt.inclusive,ir,Xt.inclusive,Si);return Tt.forEach(ms,ts=>a.J(ts,t.limit).next(co=>{co.forEach(wi=>{const is=dn.fromSegments(wi.documentKey);w.has(is)||(w=w.add(is),R.push(is))})}))}).next(()=>R)}return Tt.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,a,h,m,w,R){const Y=(null!=t?t.length:1)*Math.max(a.length,m.length),Z=Y/(null!=t?t.length:1),Te=[];for(let it=0;it<Y;++it){const kt=t?this.on(t[it/Z]):da,Kt=this.un(e,kt,a[it%Z],h),Xt=this.cn(e,kt,m[it%Z],w),Mn=R.map(ir=>this.un(e,kt,ir,!0));Te.push(...this.createRange(Kt,Xt,Mn))}return Te}un(e,t,a,h){const m=new Uc(e,dn.empty(),t,a);return h?m:m.Ke()}cn(e,t,a,h){const m=new Uc(e,dn.empty(),t,a);return h?m.Ke():m}en(e,t){const a=new qy(t),h=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,h).next(m=>{let w=null;for(const R of m)a.We(R)&&(!w||R.fields.length>w.fields.length)&&(w=R);return w})}getIndexType(e,t){let a=2;return Tt.forEach(this.tn(t),h=>this.en(e,h).next(m=>{m?0!==a&&m.fields.length<function(w){let R=new _i(di.comparator),Y=!1;for(const Z of w.filters){const Te=Z;Te.field.isKeyField()||("array-contains"===Te.op||"array-contains-any"===Te.op?Y=!0:R=R.add(Te.field))}for(const Z of w.orderBy)Z.field.isKeyField()||(R=R.add(Z.field));return R.size+(Y?1:0)}(h)&&(a=1):a=0})).next(()=>a)}an(e,t){const a=new ol;for(const h of ro(e)){const m=t.data.field(h.fieldPath);if(null==m)return null;const w=a.qe(h.kind);sl.Te.ce(m,w)}return a.$e()}on(e){const t=new ol;return sl.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const a=new ol;return sl.Te.ce(ar(this.databaseId,t),a.qe(function(h){const m=ro(h);return 0===m.length?0:m[m.length-1].kind}(e))),a.$e()}sn(e,t,a){if(null===a)return[];let h=[];h.push(new ol);let m=0;for(const w of ro(e)){const R=a[m++];for(const Y of h)if(this.ln(t,w.fieldPath)&&Xn(R))h=this.fn(h,w,R);else{const Z=Y.qe(w.kind);sl.Te.ce(R,Z)}}return this.dn(h)}nn(e,t,a){return this.sn(e,t,a.position)}dn(e){const t=[];for(let a=0;a<e.length;++a)t[a]=e[a].$e();return t}fn(e,t,a){const h=[...e],m=[];for(const w of a.arrayValue.values||[])for(const R of h){const Y=new ol;Y.seed(R.$e()),sl.Te.ce(w,Y.qe(t.kind)),m.push(Y)}return m}ln(e,t){return!!e.filters.find(a=>a instanceof Us&&a.field.isEqual(t)&&("in"===a.op||"not-in"===a.op))}getFieldIndexes(e,t){const a=Md(e),h=Rd(e);return(t?a.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):a.W()).next(m=>{const w=[];return Tt.forEach(m,R=>h.get([R.indexId,this.uid]).next(Y=>{w.push(function(Z,Te){const it=Te?new $l(Te.sequenceNumber,new qs(Vc(Te.readTime),new dn(ua(Te.documentKey)),Te.largestBatchId)):$l.empty(),kt=Z.fields.map(([Kt,Xt])=>new oi(di.fromServerFormat(Kt),Xt));return new Yo(Z.indexId,Z.collectionGroup,kt,it)}(R,Y))})).next(()=>w)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((a,h)=>{const m=a.indexState.sequenceNumber-h.indexState.sequenceNumber;return 0!==m?m:cr(a.collectionGroup,h.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,a){const h=Md(e),m=Rd(e);return this._n(e).next(w=>h.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(R=>Tt.forEach(R,Y=>m.put(Op(Y.indexId,this.user,w,a)))))}updateIndexEntries(e,t){const a=new Map;return Tt.forEach(t,(h,m)=>{const w=a.get(h.collectionGroup);return(w?Tt.resolve(w):this.getFieldIndexes(e,h.collectionGroup)).next(R=>(a.set(h.collectionGroup,R),Tt.forEach(R,Y=>this.wn(e,h,Y).next(Z=>{const Te=this.mn(m,Y);return Z.isEqual(Te)?Tt.resolve():this.gn(e,m,Y,Z,Te)}))))})}yn(e,t,a,h){return xd(e).put({indexId:h.indexId,uid:this.uid,arrayValue:h.arrayValue,directionalValue:h.directionalValue,orderedDocumentKey:this.hn(a,t.key),documentKey:t.key.path.toArray()})}pn(e,t,a,h){return xd(e).delete([h.indexId,this.uid,h.arrayValue,h.directionalValue,this.hn(a,t.key),t.key.path.toArray()])}wn(e,t,a){const h=xd(e);let m=new _i(Xu);return h.Z({index:"documentKeyIndex",range:IDBKeyRange.only([a.indexId,this.uid,this.hn(a,t)])},(w,R)=>{m=m.add(new Uc(a.indexId,t,R.arrayValue,R.directionalValue))}).next(()=>m)}mn(e,t){let a=new _i(Xu);const h=this.an(t,e);if(null==h)return a;const m=Di(t);if(null!=m){const w=e.data.field(m.fieldPath);if(Xn(w))for(const R of w.arrayValue.values||[])a=a.add(new Uc(t.indexId,e.key,this.on(R),h))}else a=a.add(new Uc(t.indexId,e.key,da,h));return a}gn(e,t,a,h,m){rn("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const w=[];return function(R,Y,Z,Te,it){const kt=R.getIterator(),Kt=Y.getIterator();let Xt=Hl(kt),Mn=Hl(Kt);for(;Xt||Mn;){let ir=!1,Si=!1;if(Xt&&Mn){const ms=Z(Xt,Mn);ms<0?Si=!0:ms>0&&(ir=!0)}else null!=Xt?Si=!0:ir=!0;ir?(Te(Mn),Mn=Hl(Kt)):Si?(it(Xt),Xt=Hl(kt)):(Xt=Hl(kt),Mn=Hl(Kt))}}(h,m,Xu,R=>{w.push(this.yn(e,t,a,R))},R=>{w.push(this.pn(e,t,a,R))}),Tt.waitFor(w)}_n(e){let t=1;return Rd(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(a,h,m)=>{m.done(),t=h.sequenceNumber+1}).next(()=>t)}createRange(e,t,a){a=a.sort((w,R)=>Xu(w,R)).filter((w,R,Y)=>!R||0!==Xu(w,Y[R-1]));const h=[];h.push(e);for(const w of a){const R=Xu(w,e),Y=Xu(w,t);if(0===R)h[0]=e.Ke();else if(R>0&&Y<0)h.push(w),h.push(w.Ke());else if(Y>0)break}h.push(t);const m=[];for(let w=0;w<h.length;w+=2)m.push(IDBKeyRange.bound([h[w].indexId,this.uid,h[w].arrayValue,h[w].directionalValue,da,[]],[h[w+1].indexId,this.uid,h[w+1].arrayValue,h[w+1].directionalValue,da,[]]));return m}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(ed)}getMinOffset(e,t){return Tt.mapArray(this.tn(t),a=>this.en(e,a).next(h=>h||On())).next(ed)}}function Ad(i){return oo(i,"collectionParents")}function xd(i){return oo(i,"indexEntries")}function Md(i){return oo(i,"indexConfiguration")}function Rd(i){return oo(i,"indexState")}function ed(i){or(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let a=1;a<i.length;a++){const h=i[a].indexState.offset;Tc(h,e)<0&&(e=h),t<h.largestBatchId&&(t=h.largestBatchId)}return new qs(e.readTime,e.documentKey,t)}const kp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Fs{constructor(e,t,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=a}static withCacheSize(e){return new Fs(e,Fs.DEFAULT_COLLECTION_PERCENTILE,Fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Eh(i,e,t){const a=i.store("mutations"),h=i.store("documentMutations"),m=[],w=IDBKeyRange.only(t.batchId);let R=0;const Y=a.Z({range:w},(Te,it,kt)=>(R++,kt.delete()));m.push(Y.next(()=>{or(1===R)}));const Z=[];for(const Te of t.mutations){const it=xl(e,Te.key.path,t.batchId);m.push(h.delete(it)),Z.push(Te.key)}return Tt.waitFor(m).next(()=>Z)}function Pd(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw On();e=i.noDocument}return JSON.stringify(e).length}Fs.DEFAULT_COLLECTION_PERCENTILE=10,Fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fs.DEFAULT=new Fs(41943040,Fs.DEFAULT_COLLECTION_PERCENTILE,Fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fs.DISABLED=new Fs(-1,0,0);class Ih{constructor(e,t,a,h){this.userId=e,this.It=t,this.indexManager=a,this.referenceDelegate=h,this.In={}}static oe(e,t,a,h){or(""!==e.uid);const m=e.isAuthenticated()?e.uid:"";return new Ih(m,t,a,h)}checkEmpty(e){let t=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ba(e).Z({index:"userMutationsIndex",range:a},(h,m,w)=>{t=!1,w.done()}).next(()=>t)}addMutationBatch(e,t,a,h){const m=Iu(e),w=Ba(e);return w.add({}).next(R=>{or("number"==typeof R);const Y=new xp(R,t,a,h),Z=function(kt,Kt,Xt){const Mn=Xt.baseMutations.map(Si=>C(kt.re,Si)),ir=Xt.mutations.map(Si=>C(kt.re,Si));return{userId:Kt,batchId:Xt.batchId,localWriteTimeMs:Xt.localWriteTime.toMillis(),baseMutations:Mn,mutations:ir}}(this.It,this.userId,Y),Te=[];let it=new _i((kt,Kt)=>cr(kt.canonicalString(),Kt.canonicalString()));for(const kt of h){const Kt=xl(this.userId,kt.key.path,R);it=it.add(kt.key.path.popLast()),Te.push(w.put(Z)),Te.push(m.put(Kt,bf))}return it.forEach(kt=>{Te.push(this.indexManager.addToCollectionParentIndex(e,kt))}),e.addOnCommittedListener(()=>{this.In[R]=Y.keys()}),Tt.waitFor(Te).next(()=>Y)})}lookupMutationBatch(e,t){return Ba(e).get(t).next(a=>a?(or(a.userId===this.userId),wu(this.It,a)):null)}Tn(e,t){return this.In[t]?Tt.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(a=>{if(a){const h=a.keys();return this.In[t]=h,h}return null})}getNextMutationBatchAfterBatchId(e,t){const a=t+1,h=IDBKeyRange.lowerBound([this.userId,a]);let m=null;return Ba(e).Z({index:"userMutationsIndex",range:h},(w,R,Y)=>{R.userId===this.userId&&(or(R.batchId>=a),m=wu(this.It,R)),Y.done()}).next(()=>m)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return Ba(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(h,m,w)=>{a=m.batchId,w.done()}).next(()=>a)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ba(e).W("userMutationsIndex",t).next(a=>a.map(h=>wu(this.It,h)))}getAllMutationBatchesAffectingDocumentKey(e,t){const a=Yu(this.userId,t.path),h=IDBKeyRange.lowerBound(a),m=[];return Iu(e).Z({range:h},(w,R,Y)=>{const[Z,Te,it]=w,kt=ua(Te);if(Z===this.userId&&t.path.isEqual(kt))return Ba(e).get(it).next(Kt=>{if(!Kt)throw On();or(Kt.userId===this.userId),m.push(wu(this.It,Kt))});Y.done()}).next(()=>m)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new _i(cr);const h=[];return t.forEach(m=>{const w=Yu(this.userId,m.path),R=IDBKeyRange.lowerBound(w),Y=Iu(e).Z({range:R},(Z,Te,it)=>{const[kt,Kt,Xt]=Z,Mn=ua(Kt);kt===this.userId&&m.path.isEqual(Mn)?a=a.add(Xt):it.done()});h.push(Y)}),Tt.waitFor(h).next(()=>this.En(e,a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,h=a.length+1,m=Yu(this.userId,a),w=IDBKeyRange.lowerBound(m);let R=new _i(cr);return Iu(e).Z({range:w},(Y,Z,Te)=>{const[it,kt,Kt]=Y,Xt=ua(kt);it===this.userId&&a.isPrefixOf(Xt)?Xt.length===h&&(R=R.add(Kt)):Te.done()}).next(()=>this.En(e,R))}En(e,t){const a=[],h=[];return t.forEach(m=>{h.push(Ba(e).get(m).next(w=>{if(null===w)throw On();or(w.userId===this.userId),a.push(wu(this.It,w))}))}),Tt.waitFor(h).next(()=>a)}removeMutationBatch(e,t){return Eh(e.ie,this.userId,t).next(a=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),Tt.forEach(a,h=>this.referenceDelegate.markPotentiallyOrphaned(e,h))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Tt.resolve();const a=IDBKeyRange.lowerBound([this.userId]),h=[];return Iu(e).Z({range:a},(m,w,R)=>{if(m[0]===this.userId){const Y=ua(m[1]);h.push(Y)}else R.done()}).next(()=>{or(0===h.length)})})}containsKey(e,t){return ty(e,this.userId,t)}Rn(e){return Fp(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function ty(i,e,t){const a=Yu(e,t.path),h=a[1],m=IDBKeyRange.lowerBound(a);let w=!1;return Iu(i).Z({range:m,X:!0},(R,Y,Z)=>{const[Te,it,kt]=R;Te===e&&it===h&&(w=!0),Z.done()}).next(()=>w)}function Ba(i){return oo(i,"mutations")}function Iu(i){return oo(i,"documentMutations")}function Fp(i){return oo(i,"mutationQueues")}class td{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new td(0)}static vn(){return new td(-1)}}class Lp{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const a=new td(t.highestTargetId);return t.highestTargetId=a.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>nr.fromTimestamp(new si(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,a){return this.Vn(e).next(h=>(h.highestListenSequenceNumber=t,a&&(h.lastRemoteSnapshotVersion=a.toTimestamp()),t>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=t),this.Sn(e,h)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(a=>(a.targetCount+=1,this.Cn(t,a),this.Sn(e,a))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Od(e).delete(t.targetId)).next(()=>this.Vn(e)).next(a=>(or(a.targetCount>0),a.targetCount-=1,this.Sn(e,a)))}removeTargets(e,t,a){let h=0;const m=[];return Od(e).Z((w,R)=>{const Y=$c(R);Y.sequenceNumber<=t&&null===a.get(Y.targetId)&&(h++,m.push(this.removeTargetData(e,Y)))}).next(()=>Tt.waitFor(m)).next(()=>h)}forEachTarget(e,t){return Od(e).Z((a,h)=>{const m=$c(h);t(m)})}Vn(e){return Zg(e).get("targetGlobalKey").next(t=>(or(null!==t),t))}Sn(e,t){return Zg(e).put("targetGlobalKey",t)}Dn(e,t){return Od(e).put(Jo(this.It,t))}Cn(e,t){let a=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,a=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,a=!0),a}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const a=Gl(t),h=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let m=null;return Od(e).Z({range:h,index:"queryTargetsIndex"},(w,R,Y)=>{const Z=$c(R);au(t,Z.target)&&(m=Z,Y.done())}).next(()=>m)}addMatchingKeys(e,t,a){const h=[],m=bu(e);return t.forEach(w=>{const R=so(w.path);h.push(m.put({targetId:a,path:R})),h.push(this.referenceDelegate.addReference(e,a,w))}),Tt.waitFor(h)}removeMatchingKeys(e,t,a){const h=bu(e);return Tt.forEach(t,m=>{const w=so(m.path);return Tt.waitFor([h.delete([a,w]),this.referenceDelegate.removeReference(e,a,m)])})}removeMatchingKeysForTargetId(e,t){const a=bu(e),h=IDBKeyRange.bound([t],[t+1],!1,!0);return a.delete(h)}getMatchingKeysForTargetId(e,t){const a=IDBKeyRange.bound([t],[t+1],!1,!0),h=bu(e);let m=Er();return h.Z({range:a,X:!0},(w,R,Y)=>{const Z=ua(w[1]),Te=new dn(Z);m=m.add(Te)}).next(()=>m)}containsKey(e,t){const a=so(t.path),h=IDBKeyRange.bound([a],[Vl(a)],!1,!0);let m=0;return bu(e).Z({index:"documentTargetsIndex",X:!0,range:h},([w,R],Y,Z)=>{0!==w&&(m++,Z.done())}).next(()=>m>0)}se(e,t){return Od(e).get(t).next(a=>a?$c(a):null)}}function Od(i){return oo(i,"targets")}function Zg(i){return oo(i,"targetGlobal")}function bu(i){return oo(i,"targetDocuments")}function Qg([i,e],[t,a]){const h=cr(i,t);return 0===h?cr(e,a):h}class ny{constructor(e){this.xn=e,this.buffer=new _i(Qg),this.Nn=0}kn(){return++this.Nn}Mn(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const a=this.buffer.last();Qg(t,a)<0&&(this.buffer=this.buffer.delete(a).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ry{constructor(e,t,a){this.garbageCollector=e,this.asyncQueue=t,this.localStore=a,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(e){var t=this;rn("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Se.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(a){Ji(a)?rn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield Ma(a)}yield t.Fn(3e5)}))}}class Xg{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(a=>Math.floor(t/100*a))}nthSequenceNumber(e,t){if(0===t)return Tt.resolve(cs.at);const a=new ny(t);return this.$n.forEachTarget(e,h=>a.Mn(h.sequenceNumber)).next(()=>this.$n.Ln(e,h=>a.Mn(h))).next(()=>a.maxValue)}removeTargets(e,t,a){return this.$n.removeTargets(e,t,a)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(rn("LruGarbageCollector","Garbage collection skipped; disabled"),Tt.resolve(kp)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(rn("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kp):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let a,h,m,w,R,Y,Z;const Te=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(it=>(it>this.params.maximumSequenceNumbersToCollect?(rn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${it}`),h=this.params.maximumSequenceNumbersToCollect):h=it,w=Date.now(),this.nthSequenceNumber(e,h))).next(it=>(a=it,R=Date.now(),this.removeTargets(e,a,t))).next(it=>(m=it,Y=Date.now(),this.removeOrphanedDocuments(e,a))).next(it=>(Z=Date.now(),Wo()<=Mt.in.DEBUG&&rn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${w-Te}ms\n\tDetermined least recently used ${h} in `+(R-w)+`ms\n\tRemoved ${m} targets in `+(Y-R)+`ms\n\tRemoved ${it} documents in `+(Z-Y)+`ms\nTotal Duration: ${Z-Te}ms`),Tt.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:m,documentsRemoved:it})))}}class Bp{constructor(e,t){this.db=e,this.garbageCollector=new Xg(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(a=>t.next(h=>a+h))}qn(e){let t=0;return this.Ln(e,a=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(a,h)=>t(h))}addReference(e,t,a){return bh(e,a)}removeReference(e,t,a){return bh(e,a)}removeTargets(e,t,a){return this.db.getTargetCache().removeTargets(e,t,a)}markPotentiallyOrphaned(e,t){return bh(e,t)}Gn(e,t){return function(a,h){let m=!1;return Fp(a).tt(w=>ty(a,w,h).next(R=>(R&&(m=!0),Tt.resolve(!R)))).next(()=>m)}(e,t)}removeOrphanedDocuments(e,t){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let m=0;return this.Kn(e,(w,R)=>{if(R<=t){const Y=this.Gn(e,w).next(Z=>{if(!Z)return m++,a.getEntry(e,w).next(()=>(a.removeEntry(w,nr.min()),bu(e).delete([0,so(w.path)])))});h.push(Y)}}).next(()=>Tt.waitFor(h)).next(()=>a.apply(e)).next(()=>m)}removeTarget(e,t){const a=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,a)}updateLimboDocument(e,t){return bh(e,t)}Kn(e,t){const a=bu(e);let h,m=cs.at;return a.Z({index:"documentTargetsIndex"},([w,R],{path:Y,sequenceNumber:Z})=>{0===w?(m!==cs.at&&t(new dn(ua(h)),m),m=Z,h=Y):m=cs.at}).next(()=>{m!==cs.at&&t(new dn(ua(h)),m)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function bh(i,e){return bu(i).put((a=i.currentSequenceNumber,{targetId:0,path:so(e.path),sequenceNumber:a}));var a}class Af{constructor(){this.changes=new dc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ti.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const a=this.changes.get(t);return void 0!==a?Tt.resolve(a):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class iy{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,a){return ll(e).put(a)}removeEntry(e,t,a){return ll(e).delete(function(h,m){const w=h.path.toArray();return[w.slice(0,w.length-2),w[w.length-2],Cd(m),w[w.length-1]]}(t,a))}updateMetadata(e,t){return this.getMetadata(e).next(a=>(a.byteSize+=t,this.Qn(e,a)))}getEntry(e,t){let a=Ti.newInvalidDocument(t);return ll(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Cu(t))},(h,m)=>{a=this.jn(t,m)}).next(()=>a)}Wn(e,t){let a={size:0,document:Ti.newInvalidDocument(t)};return ll(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Cu(t))},(h,m)=>{a={document:this.jn(t,m),size:Pd(m)}}).next(()=>a)}getEntries(e,t){let a=Xo();return this.zn(e,t,(h,m)=>{const w=this.jn(h,m);a=a.insert(h,w)}).next(()=>a)}Hn(e,t){let a=Xo(),h=new ti(dn.comparator);return this.zn(e,t,(m,w)=>{const R=this.jn(m,w);a=a.insert(m,R),h=h.insert(m,Pd(w))}).next(()=>({documents:a,Jn:h}))}zn(e,t,a){if(t.isEmpty())return Tt.resolve();let h=new _i(tm);t.forEach(Y=>h=h.add(Y));const m=IDBKeyRange.bound(Cu(h.first()),Cu(h.last())),w=h.getIterator();let R=w.getNext();return ll(e).Z({index:"documentKeyIndex",range:m},(Y,Z,Te)=>{const it=dn.fromSegments([...Z.prefixPath,Z.collectionGroup,Z.documentId]);for(;R&&tm(R,it)<0;)a(R,null),R=w.getNext();R&&R.isEqual(it)&&(a(R,Z),R=w.hasNext()?w.getNext():null),R?Te.j(Cu(R)):Te.done()}).next(()=>{for(;R;)a(R,null),R=w.hasNext()?w.getNext():null})}getAllFromCollection(e,t,a){const h=[t.popLast().toArray(),t.lastSegment(),Cd(a.readTime),a.documentKey.path.isEmpty()?"":a.documentKey.path.lastSegment()],m=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ll(e).W(IDBKeyRange.bound(h,m,!0)).next(w=>{let R=Xo();for(const Y of w){const Z=this.jn(dn.fromSegments(Y.prefixPath.concat(Y.collectionGroup,Y.documentId)),Y);R=R.insert(Z.key,Z)}return R})}getAllFromCollectionGroup(e,t,a,h){let m=Xo();const w=xf(t,a),R=xf(t,qs.max());return ll(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(w,R,!0)},(Y,Z,Te)=>{const it=this.jn(dn.fromSegments(Z.prefixPath.concat(Z.collectionGroup,Z.documentId)),Z);m=m.insert(it.key,it),m.size===h&&Te.done()}).next(()=>m)}newChangeBuffer(e){return new em(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return al(e).get("remoteDocumentGlobalKey").next(t=>(or(!!t),t))}Qn(e,t){return al(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const a=function Pp(i,e){let t;if(e.document)t=Lc(i.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const a=dn.fromSegments(e.noDocument.path),h=Vc(e.noDocument.readTime);t=Ti.newNoDocument(a,h),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return On();{const a=dn.fromSegments(e.unknownDocument.path),h=Vc(e.unknownDocument.version);t=Ti.newUnknownDocument(a,h)}}return e.readTime&&t.setReadTime(function(a){const h=new si(a[0],a[1]);return nr.fromTimestamp(h)}(e.readTime)),t}(this.It,t);if(!a.isNoDocument()||!a.version.isEqual(nr.min()))return a}return Ti.newInvalidDocument(e)}}function Jg(i){return new iy(i)}class em extends Af{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new dc(a=>a.toString(),(a,h)=>a.isEqual(h))}applyChanges(e){const t=[];let a=0,h=new _i((m,w)=>cr(m.canonicalString(),w.canonicalString()));return this.changes.forEach((m,w)=>{const R=this.Xn.get(m);if(t.push(this.Yn.removeEntry(e,m,R.readTime)),w.isValidDocument()){const Y=_h(this.Yn.It,w);h=h.add(m.path.popLast()),a+=Pd(Y)-R.size,t.push(this.Yn.addEntry(e,m,Y))}else if(a-=R.size,this.trackRemovals){const Y=_h(this.Yn.It,w.convertToNoDocument(nr.min()));t.push(this.Yn.addEntry(e,m,Y))}}),h.forEach(m=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,m))}),t.push(this.Yn.updateMetadata(e,a)),Tt.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(a=>(this.Xn.set(t,{size:a.size,readTime:a.document.readTime}),a.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:a,Jn:h})=>(h.forEach((m,w)=>{this.Xn.set(m,{size:w,readTime:a.get(m).readTime})}),a))}}function al(i){return oo(i,"remoteDocumentGlobal")}function ll(i){return oo(i,"remoteDocumentsV14")}function Cu(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function xf(i,e){const t=e.documentKey.path.toArray();return[i,Cd(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function tm(i,e){const t=i.path.toArray(),a=e.path.toArray();let h=0;for(let m=0;m<t.length-2&&m<a.length-2;++m)if(h=cr(t[m],a[m]),h)return h;return h=cr(t.length,a.length),h||(h=cr(t[t.length-2],a[a.length-2]),h||cr(t[t.length-1],a[a.length-1]))}class sy{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Ch{constructor(e,t,a,h){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=a,this.indexManager=h}getDocument(e,t){let a=null;return this.documentOverlayCache.getOverlay(e,t).next(h=>(a=h,this.getBaseDocument(e,t,a))).next(h=>(null!==a&&gu(a.mutation,h,Ki.empty(),si.now()),h))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.getLocalViewOfDocuments(e,a,Er()).next(()=>a))}getLocalViewOfDocuments(e,t,a=Er()){const h=Ia();return this.populateOverlays(e,h,t).next(()=>this.computeViews(e,t,h,a).next(m=>{let w=yu();return m.forEach((R,Y)=>{w=w.insert(R,Y.overlayedDocument)}),w}))}getOverlayedDocuments(e,t){const a=Ia();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,Er()))}populateOverlays(e,t,a){const h=[];return a.forEach(m=>{t.has(m)||h.push(m)}),this.documentOverlayCache.getOverlays(e,h).next(m=>{m.forEach((w,R)=>{t.set(w,R)})})}computeViews(e,t,a,h){let m=Xo();const w=nl(),R=nl();return t.forEach((Y,Z)=>{const Te=a.get(Z.key);h.has(Z.key)&&(void 0===Te||Te.mutation instanceof zl)?m=m.insert(Z.key,Z):void 0!==Te&&(w.set(Z.key,Te.mutation.getFieldMask()),gu(Te.mutation,Z,Te.mutation.getFieldMask(),si.now()))}),this.recalculateAndSaveOverlays(e,m).next(Y=>(Y.forEach((Z,Te)=>w.set(Z,Te)),t.forEach((Z,Te)=>{var it;return R.set(Z,new sy(Te,null!==(it=w.get(Z))&&void 0!==it?it:null))}),R))}recalculateAndSaveOverlays(e,t){const a=nl();let h=new ti((w,R)=>w-R),m=Er();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(w=>{for(const R of w)R.keys().forEach(Y=>{const Z=t.get(Y);if(null===Z)return;let Te=a.get(Y)||Ki.empty();Te=R.applyToLocalView(Z,Te),a.set(Y,Te);const it=(h.get(R.batchId)||Er()).add(Y);h=h.insert(R.batchId,it)})}).next(()=>{const w=[],R=h.getReverseIterator();for(;R.hasNext();){const Y=R.getNext(),Z=Y.key,Te=Y.value,it=Dl();Te.forEach(kt=>{if(!m.has(kt)){const Kt=pu(t.get(kt),a.get(kt));null!==Kt&&it.set(kt,Kt),m=m.add(kt)}}),w.push(this.documentOverlayCache.saveOverlays(e,Z,it))}return Tt.waitFor(w)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,t,a){return dn.isDocumentKey((h=t).path)&&null===h.collectionGroup&&0===h.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Mc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,a):this.getDocumentsMatchingCollectionQuery(e,t,a);var h}getNextDocuments(e,t,a,h){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,a,h).next(m=>{const w=h-m.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,a.largestBatchId,h-m.size):Tt.resolve(Ia());let R=-1,Y=m;return w.next(Z=>Tt.forEach(Z,(Te,it)=>(R<it.largestBatchId&&(R=it.largestBatchId),m.get(Te)?Tt.resolve():this.getBaseDocument(e,Te,it).next(kt=>{Y=Y.insert(Te,kt)}))).next(()=>this.populateOverlays(e,Z,m)).next(()=>this.computeViews(e,Y,Z,Er())).next(Te=>({batchId:R,changes:Hu(Te)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new dn(t)).next(a=>{let h=yu();return a.isFoundDocument()&&(h=h.insert(a.key,a)),h})}getDocumentsMatchingCollectionGroupQuery(e,t,a){const h=t.collectionGroup;let m=yu();return this.indexManager.getCollectionParents(e,h).next(w=>Tt.forEach(w,R=>{const Y=(Z=t,Te=R.child(h),new oc(Te,null,Z.explicitOrderBy.slice(),Z.filters.slice(),Z.limit,Z.limitType,Z.startAt,Z.endAt));var Z,Te;return this.getDocumentsMatchingCollectionQuery(e,Y,a).next(Z=>{Z.forEach((Te,it)=>{m=m.insert(Te,it)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(e,t,a){let h;return this.remoteDocumentCache.getAllFromCollection(e,t.path,a).next(m=>(h=m,this.documentOverlayCache.getOverlaysForCollection(e,t.path,a.largestBatchId))).next(m=>{m.forEach((R,Y)=>{const Z=Y.getKey();null===h.get(Z)&&(h=h.insert(Z,Ti.newInvalidDocument(Z)))});let w=yu();return h.forEach((R,Y)=>{const Z=m.get(R);void 0!==Z&&gu(Z.mutation,Y,Ki.empty(),si.now()),Rc(t,Y)&&(w=w.insert(R,Y))}),w})}getBaseDocument(e,t,a){return null===a||1===a.mutation.type?this.remoteDocumentCache.getEntry(e,t):Tt.resolve(Ti.newInvalidDocument(t))}}class oy{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return Tt.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var a;return this.Zn.set(t.id,{id:(a=t).id,version:a.version,createTime:Gs(a.createTime)}),Tt.resolve()}getNamedQuery(e,t){return Tt.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(a=t).name,query:Eu(a.bundledQuery),readTime:Gs(a.readTime)}),Tt.resolve();var a}}class nm{constructor(){this.overlays=new ti(dn.comparator),this.es=new Map}getOverlay(e,t){return Tt.resolve(this.overlays.get(t))}getOverlays(e,t){const a=Ia();return Tt.forEach(t,h=>this.getOverlay(e,h).next(m=>{null!==m&&a.set(h,m)})).next(()=>a)}saveOverlays(e,t,a){return a.forEach((h,m)=>{this.ue(e,t,m)}),Tt.resolve()}removeOverlaysForBatchId(e,t,a){const h=this.es.get(a);return void 0!==h&&(h.forEach(m=>this.overlays=this.overlays.remove(m)),this.es.delete(a)),Tt.resolve()}getOverlaysForCollection(e,t,a){const h=Ia(),m=t.length+1,w=new dn(t.child("")),R=this.overlays.getIteratorFrom(w);for(;R.hasNext();){const Y=R.getNext().value,Z=Y.getKey();if(!t.isPrefixOf(Z.path))break;Z.path.length===m&&Y.largestBatchId>a&&h.set(Y.getKey(),Y)}return Tt.resolve(h)}getOverlaysForCollectionGroup(e,t,a,h){let m=new ti((Z,Te)=>Z-Te);const w=this.overlays.getIterator();for(;w.hasNext();){const Z=w.getNext().value;if(Z.getKey().getCollectionGroup()===t&&Z.largestBatchId>a){let Te=m.get(Z.largestBatchId);null===Te&&(Te=Ia(),m=m.insert(Z.largestBatchId,Te)),Te.set(Z.getKey(),Z)}}const R=Ia(),Y=m.getIterator();for(;Y.hasNext()&&(Y.getNext().value.forEach((Z,Te)=>R.set(Z,Te)),!(R.size()>=h)););return Tt.resolve(R)}ue(e,t,a){const h=this.overlays.get(a.key);if(null!==h){const w=this.es.get(h.largestBatchId).delete(a.key);this.es.set(h.largestBatchId,w)}this.overlays=this.overlays.insert(a.key,new Mp(t,a));let m=this.es.get(t);void 0===m&&(m=Er(),this.es.set(t,m)),this.es.set(t,m.add(a.key))}}class Mf{constructor(){this.ns=new _i(fo.ss),this.rs=new _i(fo.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const a=new fo(e,t);this.ns=this.ns.add(a),this.rs=this.rs.add(a)}us(e,t){e.forEach(a=>this.addReference(a,t))}removeReference(e,t){this.cs(new fo(e,t))}hs(e,t){e.forEach(a=>this.removeReference(a,t))}ls(e){const t=new dn(new pr([])),a=new fo(t,e),h=new fo(t,e+1),m=[];return this.rs.forEachInRange([a,h],w=>{this.cs(w),m.push(w.key)}),m}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new dn(new pr([])),a=new fo(t,e),h=new fo(t,e+1);let m=Er();return this.rs.forEachInRange([a,h],w=>{m=m.add(w.key)}),m}containsKey(e){const t=new fo(e,0),a=this.ns.firstAfterOrEqual(t);return null!==a&&e.isEqual(a.key)}}class fo{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return dn.comparator(e.key,t.key)||cr(e._s,t._s)}static os(e,t){return cr(e._s,t._s)||dn.comparator(e.key,t.key)}}class Vp{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new _i(fo.ss)}checkEmpty(e){return Tt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,a,h){const m=this.ws;this.ws++;const w=new xp(m,t,a,h);this.mutationQueue.push(w);for(const R of h)this.gs=this.gs.add(new fo(R.key,m)),this.indexManager.addToCollectionParentIndex(e,R.key.path.popLast());return Tt.resolve(w)}lookupMutationBatch(e,t){return Tt.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const h=this.ps(t+1),m=h<0?0:h;return Tt.resolve(this.mutationQueue.length>m?this.mutationQueue[m]:null)}getHighestUnacknowledgedBatchId(){return Tt.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return Tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const a=new fo(t,0),h=new fo(t,Number.POSITIVE_INFINITY),m=[];return this.gs.forEachInRange([a,h],w=>{const R=this.ys(w._s);m.push(R)}),Tt.resolve(m)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new _i(cr);return t.forEach(h=>{const m=new fo(h,0),w=new fo(h,Number.POSITIVE_INFINITY);this.gs.forEachInRange([m,w],R=>{a=a.add(R._s)})}),Tt.resolve(this.Is(a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,h=a.length+1;let m=a;dn.isDocumentKey(m)||(m=m.child(""));const w=new fo(new dn(m),0);let R=new _i(cr);return this.gs.forEachWhile(Y=>{const Z=Y.key.path;return!!a.isPrefixOf(Z)&&(Z.length===h&&(R=R.add(Y._s)),!0)},w),Tt.resolve(this.Is(R))}Is(e){const t=[];return e.forEach(a=>{const h=this.ys(a);null!==h&&t.push(h)}),t}removeMutationBatch(e,t){or(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let a=this.gs;return Tt.forEach(t.mutations,h=>{const m=new fo(h.key,t.batchId);return a=a.delete(m),this.referenceDelegate.markPotentiallyOrphaned(e,h.key)}).next(()=>{this.gs=a})}An(e){}containsKey(e,t){const a=new fo(t,0),h=this.gs.firstAfterOrEqual(a);return Tt.resolve(t.isEqual(h&&h.key))}performConsistencyCheck(e){return Tt.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class rm{constructor(e){this.Es=e,this.docs=new ti(dn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const a=t.key,h=this.docs.get(a),m=h?h.size:0,w=this.Es(t);return this.docs=this.docs.insert(a,{document:t.mutableCopy(),size:w}),this.size+=w-m,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const a=this.docs.get(t);return Tt.resolve(a?a.document.mutableCopy():Ti.newInvalidDocument(t))}getEntries(e,t){let a=Xo();return t.forEach(h=>{const m=this.docs.get(h);a=a.insert(h,m?m.document.mutableCopy():Ti.newInvalidDocument(h))}),Tt.resolve(a)}getAllFromCollection(e,t,a){let h=Xo();const m=new dn(t.child("")),w=this.docs.getIteratorFrom(m);for(;w.hasNext();){const{key:R,value:{document:Y}}=w.getNext();if(!t.isPrefixOf(R.path))break;R.path.length>t.length+1||Tc(vl(Y),a)<=0||(h=h.insert(Y.key,Y.mutableCopy()))}return Tt.resolve(h)}getAllFromCollectionGroup(e,t,a,h){On()}As(e,t){return Tt.forEach(this.docs,a=>t(a))}newChangeBuffer(e){return new $p(this)}getSize(e){return Tt.resolve(this.size)}}class $p extends Af{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((a,h)=>{h.isValidDocument()?t.push(this.Yn.addEntry(e,h)):this.Yn.removeEntry(a)}),Tt.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class Rf{constructor(e){this.persistence=e,this.Rs=new dc(t=>Gl(t),au),this.lastRemoteSnapshotVersion=nr.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Mf,this.targetCount=0,this.vs=td.Pn()}forEachTarget(e,t){return this.Rs.forEach((a,h)=>t(h)),Tt.resolve()}getLastRemoteSnapshotVersion(e){return Tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Tt.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),Tt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,a){return a&&(this.lastRemoteSnapshotVersion=a),t>this.bs&&(this.bs=t),Tt.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new td(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,Tt.resolve()}updateTargetData(e,t){return this.Dn(t),Tt.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Tt.resolve()}removeTargets(e,t,a){let h=0;const m=[];return this.Rs.forEach((w,R)=>{R.sequenceNumber<=t&&null===a.get(R.targetId)&&(this.Rs.delete(w),m.push(this.removeMatchingKeysForTargetId(e,R.targetId)),h++)}),Tt.waitFor(m).next(()=>h)}getTargetCount(e){return Tt.resolve(this.targetCount)}getTargetData(e,t){const a=this.Rs.get(t)||null;return Tt.resolve(a)}addMatchingKeys(e,t,a){return this.Ps.us(t,a),Tt.resolve()}removeMatchingKeys(e,t,a){this.Ps.hs(t,a);const h=this.persistence.referenceDelegate,m=[];return h&&t.forEach(w=>{m.push(h.markPotentiallyOrphaned(e,w))}),Tt.waitFor(m)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),Tt.resolve()}getMatchingKeysForTargetId(e,t){const a=this.Ps.ds(t);return Tt.resolve(a)}containsKey(e,t){return Tt.resolve(this.Ps.containsKey(t))}}class Up{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new cs(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Rf(this),this.indexManager=new qg,this.remoteDocumentCache=new rm(a=>this.referenceDelegate.xs(a)),this.It=new Rp(t),this.Ns=new oy(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new nm,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let a=this.Vs[e.toKey()];return a||(a=new Vp(t,this.referenceDelegate),this.Vs[e.toKey()]=a),a}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,a){rn("MemoryPersistence","Starting transaction:",e);const h=new Hp(this.Ss.next());return this.referenceDelegate.ks(),a(h).next(m=>this.referenceDelegate.Ms(h).next(()=>m)).toPromise().then(m=>(h.raiseOnCommittedEvent(),m))}Os(e,t){return Tt.or(Object.values(this.Vs).map(a=>()=>a.containsKey(e,t)))}}class Hp extends Ko{constructor(e){super(),this.currentSequenceNumber=e}}class Dh{constructor(e){this.persistence=e,this.Fs=new Mf,this.$s=null}static Bs(e){return new Dh(e)}get Ls(){if(this.$s)return this.$s;throw On()}addReference(e,t,a){return this.Fs.addReference(a,t),this.Ls.delete(a.toString()),Tt.resolve()}removeReference(e,t,a){return this.Fs.removeReference(a,t),this.Ls.add(a.toString()),Tt.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),Tt.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(h=>this.Ls.add(h.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,t.targetId).next(h=>{h.forEach(m=>this.Ls.add(m.toString()))}).next(()=>a.removeTargetData(e,t))}ks(){this.$s=new Set}Ms(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Tt.forEach(this.Ls,a=>{const h=dn.fromPath(a);return this.Us(e,h).next(m=>{m||t.removeEntry(h,nr.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(a=>{a?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return Tt.or([()=>Tt.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class jp{constructor(e){this.It=e}$(e,t,a,h){const m=new Za("createOrUpgrade",t);var R;a<1&&h>=1&&(e.createObjectStore("owner"),(R=e).createObjectStore("mutationQueues",{keyPath:"userId"}),R.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",If,{unique:!0}),R.createObjectStore("documentMutations"),Nd(e),function(R){R.createObjectStore("remoteDocuments")}(e));let w=Tt.resolve();return a<3&&h>=3&&(0!==a&&(function(R){R.deleteObjectStore("targetDocuments"),R.deleteObjectStore("targets"),R.deleteObjectStore("targetGlobal")}(e),Nd(e)),w=w.next(()=>function(R){const Y=R.store("targetGlobal"),Z={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:nr.min().toTimestamp(),targetCount:0};return Y.put("targetGlobalKey",Z)}(m))),a<4&&h>=4&&(0!==a&&(w=w.next(()=>function(R,Y){return Y.store("mutations").W().next(Z=>{R.deleteObjectStore("mutations"),R.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",If,{unique:!0});const Te=Y.store("mutations"),it=Z.map(kt=>Te.put(kt));return Tt.waitFor(it)})}(e,m))),w=w.next(()=>{!function(R){R.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),a<5&&h>=5&&(w=w.next(()=>this.qs(m))),a<6&&h>=6&&(w=w.next(()=>(function(R){R.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(m)))),a<7&&h>=7&&(w=w.next(()=>this.Gs(m))),a<8&&h>=8&&(w=w.next(()=>this.Qs(e,m))),a<9&&h>=9&&(w=w.next(()=>{!function(R){R.objectStoreNames.contains("remoteDocumentChanges")&&R.deleteObjectStore("remoteDocumentChanges")}(e)})),a<10&&h>=10&&(w=w.next(()=>this.js(m))),a<11&&h>=11&&(w=w.next(()=>{(function(R){R.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(R){R.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),a<12&&h>=12&&(w=w.next(()=>{!function(R){const Y=R.createObjectStore("documentOverlays",{keyPath:Qm});Y.createIndex("collectionPathOverlayIndex",Sp,{unique:!1}),Y.createIndex("collectionGroupOverlayIndex",Ku,{unique:!1})}(e)})),a<13&&h>=13&&(w=w.next(()=>function(R){const Y=R.createObjectStore("remoteDocumentsV14",{keyPath:Ip});Y.createIndex("documentKeyIndex",Cf),Y.createIndex("collectionGroupIndex",Df)}(e)).next(()=>this.Ws(e,m)).next(()=>e.deleteObjectStore("remoteDocuments"))),a<14&&h>=14&&(w=w.next(()=>this.zs(e,m))),a<15&&h>=15&&(w=w.next(()=>function(R){R.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),R.createObjectStore("indexState",{keyPath:Wg}).createIndex("sequenceNumberIndex",Yg,{unique:!1}),R.createObjectStore("indexEntries",{keyPath:Dp}).createIndex("documentKeyIndex",Tp,{unique:!1})}(e))),w}Ks(e){let t=0;return e.store("remoteDocuments").Z((a,h)=>{t+=Pd(h)}).next(()=>{const a={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",a)})}qs(e){const t=e.store("mutationQueues"),a=e.store("mutations");return t.W().next(h=>Tt.forEach(h,m=>{const w=IDBKeyRange.bound([m.userId,-1],[m.userId,m.lastAcknowledgedBatchId]);return a.W("userMutationsIndex",w).next(R=>Tt.forEach(R,Y=>{or(Y.userId===m.userId);const Z=wu(this.It,Y);return Eh(e,m.userId,Z).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),a=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(h=>{const m=[];return a.Z((w,R)=>{const Y=new pr(w),Z=[0,so(Y)];m.push(t.get(Z).next(Te=>Te?Tt.resolve():t.put({targetId:0,path:so(Y),sequenceNumber:h.highestListenSequenceNumber})))}).next(()=>Tt.waitFor(m))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:Cp});const a=t.store("collectionParents"),h=new Sd,m=w=>{if(h.add(w)){const R=w.lastSegment(),Y=w.popLast();return a.put({collectionId:R,parent:so(Y)})}};return t.store("remoteDocuments").Z({X:!0},(w,R)=>{const Y=new pr(w);return m(Y.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([w,R,Y],Z)=>{const Te=ua(R);return m(Te.popLast())}))}js(e){const t=e.store("targets");return t.Z((a,h)=>{const m=$c(h),w=Jo(this.It,m);return t.put(w)})}Ws(e,t){const a=t.store("remoteDocuments"),h=[];return a.Z((m,w)=>{const R=t.store("remoteDocumentsV14"),Y=(Z=w,Z.document?new dn(pr.fromString(Z.document.name).popFirst(5)):Z.noDocument?dn.fromSegments(Z.noDocument.path):Z.unknownDocument?dn.fromSegments(Z.unknownDocument.path):On()).path.toArray();var Z;const Te={prefixPath:Y.slice(0,Y.length-2),collectionGroup:Y[Y.length-2],documentId:Y[Y.length-1],readTime:w.readTime||[0,0],unknownDocument:w.unknownDocument,noDocument:w.noDocument,document:w.document,hasCommittedMutations:!!w.hasCommittedMutations};h.push(R.put(Te))}).next(()=>Tt.waitFor(h))}zs(e,t){const a=t.store("mutations"),h=Jg(this.It),m=new Up(Dh.Bs,this.It.re);return a.W().next(w=>{const R=new Map;return w.forEach(Y=>{var Z;let Te=null!==(Z=R.get(Y.userId))&&void 0!==Z?Z:Er();wu(this.It,Y).keys().forEach(it=>Te=Te.add(it)),R.set(Y.userId,Te)}),Tt.forEach(R,(Y,Z)=>{const Te=new Yi(Z),it=Zu.oe(this.It,Te),kt=m.getIndexManager(Te),Kt=Ih.oe(Te,this.It,kt,m.referenceDelegate);return new Ch(h,Kt,it,kt).recalculateAndSaveOverlaysForDocumentKeys(new vh(t,cs.at),Y).next()})})}}function Nd(i){i.createObjectStore("targetDocuments",{keyPath:Zm}).createIndex("documentTargetsIndex",Tf,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",bp,{unique:!0}),i.createObjectStore("targetGlobal")}const Gp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Pf{constructor(e,t,a,h,m,w,R,Y,Z,Te,it=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=a,this.Hs=m,this.window=w,this.document=R,this.Js=Z,this.Ys=Te,this.Xs=it,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=kt=>Promise.resolve(),!Pf.C())throw new Zt(Vt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Bp(this,h),this.ii=t+"main",this.It=new Rp(Y),this.ri=new ls(this.ii,this.Xs,new jp(this.It)),this.Cs=new Lp(this.referenceDelegate,this.It),this.remoteDocumentCache=Jg(this.It),this.Ns=new Da,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===Te&&Zr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Zt(Vt.FAILED_PRECONDITION,Gp);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new cs(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var a=(0,Se.Z)(function*(h){if(t.started)return e(h)});return function(h){return a.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,Se.Z)(function*(a){null===a.newVersion&&(yield e())});return function(a){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Se.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Of(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Ji(e))return rn("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return rn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Th(e).get("owner").next(t=>Tt.resolve(this.mi(t)))}gi(e){return Of(e).delete(this.clientId)}yi(){var e=this;return(0,Se.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const h=oo(a,"clientMetadata");return h.W().next(m=>{const w=e.Ii(m,18e5),R=m.filter(Y=>-1===w.indexOf(Y));return Tt.forEach(R,Y=>h.delete(Y.clientId)).next(()=>R)})}).catch(()=>[]);if(e.oi)for(const a of t)e.oi.removeItem(e.Ti(a.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?Tt.resolve(!0):Th(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Zt(Vt.FAILED_PRECONDITION,Gp);return!1}}return!(!this.networkEnabled||!this.inForeground)||Of(e).W().next(a=>void 0===this.Ii(a,5e3).find(h=>{if(this.clientId!==h.clientId){const w=!this.inForeground&&h.inForeground,R=this.networkEnabled===h.networkEnabled;if(!this.networkEnabled&&h.networkEnabled||w&&R)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&rn("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Se.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const a=new vh(t,cs.at);return e._i(a).next(()=>e.gi(a))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(a=>this.pi(a.updateTimeMs,t)&&!this.Ei(a.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>Of(e).W().next(t=>this.Ii(t,18e5).map(a=>a.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Ih.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Ju(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return Zu.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,a){rn("IndexedDbPersistence","Starting transaction:",e);const h="readonly"===t?"readonly":"readwrite",m=15===(w=this.Xs)?Jm:14===w?fc:13===w?qu:12===w?Xm:11===w?Ap:void On();var w;let R;return this.ri.runTransaction(e,h,m,Y=>(R=new vh(Y,this.Ss?this.Ss.next():cs.at),"readwrite-primary"===t?this.fi(R).next(Z=>!!Z||this.di(R)).next(Z=>{if(!Z)throw Zr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Zt(Vt.FAILED_PRECONDITION,su);return a(R)}).next(Z=>this.wi(R).next(()=>Z)):this.Vi(R).next(()=>a(R)))).then(Y=>(R.raiseOnCommittedEvent(),Y))}Vi(e){return Th(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Zt(Vt.FAILED_PRECONDITION,Gp)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Th(e).put("owner",t)}static C(){return ls.C()}_i(e){const t=Th(e);return t.get("owner").next(a=>this.mi(a)?(rn("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Tt.resolve())}pi(e,t){const a=Date.now();return!(e<a-t||e>a&&(Zr(`Detected an update time that is in the future: ${e} > ${a}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,rt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const a=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return rn("IndexedDbPersistence",`Client '${e}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return Zr("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Zr("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Th(i){return oo(i,"owner")}function Of(i){return oo(i,"clientMetadata")}function zp(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class Nf{constructor(e,t,a,h){this.targetId=e,this.fromCache=t,this.Si=a,this.Di=h}static Ci(e,t){let a=Er(),h=Er();for(const m of t.docChanges)switch(m.type){case 0:a=a.add(m.doc.key);break;case 1:h=h.add(m.doc.key)}return new Nf(e,t.fromCache,a,h)}}class Wp{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,a,h){return this.ki(e,t).next(m=>m||this.Mi(e,t,h,a)).next(m=>m||this.Oi(e,t))}ki(e,t){if(vd(t))return Tt.resolve(null);let a=bo(t);return this.indexManager.getIndexType(e,a).next(h=>0===h?null:(null!==t.limit&&1===h&&(t=hu(t,null,"F"),a=bo(t)),this.indexManager.getDocumentsMatchingTarget(e,a).next(m=>{const w=Er(...m);return this.Ni.getDocuments(e,w).next(R=>this.indexManager.getMinOffset(e,a).next(Y=>{const Z=this.Fi(t,R);return this.$i(t,Z,w,Y.readTime)?this.ki(e,hu(t,null,"F")):this.Bi(e,Z,t,Y)}))})))}Mi(e,t,a,h){return vd(t)||h.isEqual(nr.min())?this.Oi(e,t):this.Ni.getDocuments(e,a).next(m=>{const w=this.Fi(t,m);return this.$i(t,w,a,h)?this.Oi(e,t):(Wo()<=Mt.in.DEBUG&&rn("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),Na(t)),this.Bi(e,w,t,Ka(h,-1)))})}Fi(e,t){let a=new _i(gf(e));return t.forEach((h,m)=>{Rc(e,m)&&(a=a.add(m))}),a}$i(e,t,a,h){if(null===e.limit)return!1;if(a.size!==t.size)return!0;const m="F"===e.limitType?t.last():t.first();return!!m&&(m.hasPendingWrites||m.version.compareTo(h)>0)}Oi(e,t){return Wo()<=Mt.in.DEBUG&&rn("QueryEngine","Using full collection scan to execute query:",Na(t)),this.Ni.getDocumentsMatchingQuery(e,t,qs.min())}Bi(e,t,a,h){return this.Ni.getDocumentsMatchingQuery(e,a,h).next(m=>(t.forEach(w=>{m=m.insert(w.key,w)}),m))}}class Zy{constructor(e,t,a,h){this.persistence=e,this.Li=t,this.It=h,this.Ui=new ti(cr),this.qi=new dc(m=>Gl(m),au),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(a)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ch(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function Yp(i,e,t,a){return new Zy(i,e,t,a)}function Kp(i,e){return kf.apply(this,arguments)}function kf(){return kf=(0,Se.Z)(function*(i,e){const t=bn(i);return yield t.persistence.runTransaction("Handle user change","readonly",a=>{let h;return t.mutationQueue.getAllMutationBatches(a).next(m=>(h=m,t.Qi(e),t.mutationQueue.getAllMutationBatches(a))).next(m=>{const w=[],R=[];let Y=Er();for(const Z of h){w.push(Z.batchId);for(const Te of Z.mutations)Y=Y.add(Te.key)}for(const Z of m){R.push(Z.batchId);for(const Te of Z.mutations)Y=Y.add(Te.key)}return t.localDocuments.getDocuments(a,Y).next(Z=>({ji:Z,removedBatchIds:w,addedBatchIds:R}))})})}),kf.apply(this,arguments)}function ay(i,e){const t=bn(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const h=e.batch.keys(),m=t.Gi.newChangeBuffer({trackRemovals:!0});return function(w,R,Y,Z){const Te=Y.batch,it=Te.keys();let kt=Tt.resolve();return it.forEach(Kt=>{kt=kt.next(()=>Z.getEntry(R,Kt)).next(Xt=>{const Mn=Y.docVersions.get(Kt);or(null!==Mn),Xt.version.compareTo(Mn)<0&&(Te.applyToRemoteDocument(Xt,Y),Xt.isValidDocument()&&(Xt.setReadTime(Y.commitVersion),Z.addEntry(Xt)))})}),kt.next(()=>w.mutationQueue.removeMutationBatch(R,Te))}(t,a,e,m).next(()=>m.apply(a)).next(()=>t.mutationQueue.performConsistencyCheck(a)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(a,h,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(w){let R=Er();for(let Y=0;Y<w.mutationResults.length;++Y)w.mutationResults[Y].transformResults.length>0&&(R=R.add(w.batch.mutations[Y].key));return R}(e))).next(()=>t.localDocuments.getDocuments(a,h))})}function im(i){const e=bn(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function Kl(i,e){const t=bn(i),a=e.snapshotVersion;let h=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",m=>{const w=t.Gi.newChangeBuffer({trackRemovals:!0});h=t.Ui;const R=[];e.targetChanges.forEach((Te,it)=>{const kt=h.get(it);if(!kt)return;R.push(t.Cs.removeMatchingKeys(m,Te.removedDocuments,it).next(()=>t.Cs.addMatchingKeys(m,Te.addedDocuments,it)));let Kt=kt.withSequenceNumber(m.currentSequenceNumber);var Xt,Mn,ir;e.targetMismatches.has(it)?Kt=Kt.withResumeToken(Ni.EMPTY_BYTE_STRING,nr.min()).withLastLimboFreeSnapshotVersion(nr.min()):Te.resumeToken.approximateByteSize()>0&&(Kt=Kt.withResumeToken(Te.resumeToken,a)),h=h.insert(it,Kt),Mn=Kt,ir=Te,(0===(Xt=kt).resumeToken.approximateByteSize()||Mn.snapshotVersion.toMicroseconds()-Xt.snapshotVersion.toMicroseconds()>=3e8||ir.addedDocuments.size+ir.modifiedDocuments.size+ir.removedDocuments.size>0)&&R.push(t.Cs.updateTargetData(m,Kt))});let Y=Xo(),Z=Er();if(e.documentUpdates.forEach(Te=>{e.resolvedLimboDocuments.has(Te)&&R.push(t.persistence.referenceDelegate.updateLimboDocument(m,Te))}),R.push(Hc(m,w,e.documentUpdates).next(Te=>{Y=Te.Wi,Z=Te.zi})),!a.isEqual(nr.min())){const Te=t.Cs.getLastRemoteSnapshotVersion(m).next(it=>t.Cs.setTargetsMetadata(m,m.currentSequenceNumber,a));R.push(Te)}return Tt.waitFor(R).next(()=>w.apply(m)).next(()=>t.localDocuments.getLocalViewOfDocuments(m,Y,Z)).next(()=>Y)}).then(m=>(t.Ui=h,m))}function Hc(i,e,t){let a=Er(),h=Er();return t.forEach(m=>a=a.add(m)),e.getEntries(i,a).next(m=>{let w=Xo();return t.forEach((R,Y)=>{const Z=m.get(R);Y.isFoundDocument()!==Z.isFoundDocument()&&(h=h.add(R)),Y.isNoDocument()&&Y.version.isEqual(nr.min())?(e.removeEntry(R,Y.readTime),w=w.insert(R,Y)):!Z.isValidDocument()||Y.version.compareTo(Z.version)>0||0===Y.version.compareTo(Z.version)&&Z.hasPendingWrites?(e.addEntry(Y),w=w.insert(R,Y)):rn("LocalStore","Ignoring outdated watch update for ",R,". Current version:",Z.version," Watch version:",Y.version)}),{Wi:w,zi:h}})}function No(i,e){const t=bn(i);return t.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function ko(i,e){const t=bn(i);return t.persistence.runTransaction("Allocate target","readwrite",a=>{let h;return t.Cs.getTargetData(a,e).next(m=>m?(h=m,Tt.resolve(h)):t.Cs.allocateTargetId(a).next(w=>(h=new Bc(e,w,0,a.currentSequenceNumber),t.Cs.addTargetData(a,h).next(()=>h))))}).then(a=>{const h=t.Ui.get(a.targetId);return(null===h||a.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(a.targetId,a),t.qi.set(e,a.targetId)),a})}function mc(i,e,t){return qp.apply(this,arguments)}function qp(){return qp=(0,Se.Z)(function*(i,e,t){const a=bn(i),h=a.Ui.get(e),m=t?"readwrite":"readwrite-primary";try{t||(yield a.persistence.runTransaction("Release target",m,w=>a.persistence.referenceDelegate.removeTarget(w,h)))}catch(w){if(!Ji(w))throw w;rn("LocalStore",`Failed to update sequence numbers for target ${e}: ${w}`)}a.Ui=a.Ui.remove(e),a.qi.delete(h.target)}),qp.apply(this,arguments)}function Ff(i,e,t){const a=bn(i);let h=nr.min(),m=Er();return a.persistence.runTransaction("Execute query","readonly",w=>function(R,Y,Z){const Te=bn(R),it=Te.qi.get(Z);return void 0!==it?Tt.resolve(Te.Ui.get(it)):Te.Cs.getTargetData(Y,Z)}(a,w,bo(e)).next(R=>{if(R)return h=R.lastLimboFreeSnapshotVersion,a.Cs.getMatchingKeysForTargetId(w,R.targetId).next(Y=>{m=Y})}).next(()=>a.Li.getDocumentsMatchingQuery(w,e,t?h:nr.min(),t?m:Er())).next(R=>(yc(a,ah(e),R),{documents:R,Hi:m})))}function Zp(i,e){const t=bn(i),a=bn(t.Cs),h=t.Ui.get(e);return h?Promise.resolve(h.target):t.persistence.runTransaction("Get target data","readonly",m=>a.se(m,e).next(w=>w?w.target:null))}function sm(i,e){const t=bn(i),a=t.Ki.get(e)||nr.min();return t.persistence.runTransaction("Get new document changes","readonly",h=>t.Gi.getAllFromCollectionGroup(h,e,Ka(a,-1),Number.MAX_SAFE_INTEGER)).then(h=>(yc(t,e,h),h))}function yc(i,e,t){let a=nr.min();t.forEach((h,m)=>{m.readTime.compareTo(a)>0&&(a=m.readTime)}),i.Ki.set(e,a)}function Lr(){return Lr=(0,Se.Z)(function*(i,e,t,a){const h=bn(i);let m=Er(),w=Xo();for(const Z of t){const Te=e.Ji(Z.metadata.name);Z.document&&(m=m.add(Te));const it=e.Yi(Z);it.setReadTime(e.Xi(Z.metadata.readTime)),w=w.insert(Te,it)}const R=h.Gi.newChangeBuffer({trackRemovals:!0}),Y=yield ko(h,(Z=a,bo(ac(pr.fromString(`__bundle__/docs/${Z}`)))));var Z;return h.persistence.runTransaction("Apply bundle documents","readwrite",Z=>Hc(Z,R,w).next(Te=>(R.apply(Z),Te)).next(Te=>h.Cs.removeMatchingKeysForTargetId(Z,Y.targetId).next(()=>h.Cs.addMatchingKeys(Z,m,Y.targetId)).next(()=>h.localDocuments.getLocalViewOfDocuments(Z,Te.Wi,Te.zi)).next(()=>Te.Wi)))}),Lr.apply(this,arguments)}function am(i,e){return Lf.apply(this,arguments)}function Lf(){return Lf=(0,Se.Z)(function*(i,e,t=Er()){const a=yield ko(i,bo(Eu(e.bundledQuery))),h=bn(i);return h.persistence.runTransaction("Save named query","readwrite",m=>{const w=Gs(e.readTime);if(a.snapshotVersion.compareTo(w)>=0)return h.Ns.saveNamedQuery(m,e);const R=a.withResumeToken(Ni.EMPTY_BYTE_STRING,w);return h.Ui=h.Ui.insert(R.targetId,R),h.Cs.updateTargetData(m,R).next(()=>h.Cs.removeMatchingKeysForTargetId(m,a.targetId)).next(()=>h.Cs.addMatchingKeys(m,t,a.targetId)).next(()=>h.Ns.saveNamedQuery(m,e))})}),Lf.apply(this,arguments)}function Bf(i,e){return`firestore_clients_${i}_${e}`}function Qp(i,e,t){let a=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(a+=`_${e.uid}`),a}function Vf(i,e){return`firestore_targets_${i}_${e}`}class kd{constructor(e,t,a,h){this.user=e,this.batchId=t,this.state=a,this.error=h}static Zi(e,t,a){const h=JSON.parse(a);let m,w="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return w&&h.error&&(w="string"==typeof h.error.message&&"string"==typeof h.error.code,w&&(m=new Zt(h.error.code,h.error.message))),w?new kd(e,t,h.state,m):(Zr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${a}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class jc{constructor(e,t,a){this.targetId=e,this.state=t,this.error=a}static Zi(e,t){const a=JSON.parse(t);let h,m="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return m&&a.error&&(m="string"==typeof a.error.message&&"string"==typeof a.error.code,m&&(h=new Zt(a.error.code,a.error.message))),m?new jc(e,a.state,h):(Zr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Sh{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const a=JSON.parse(t);let h="object"==typeof a&&a.activeTargetIds instanceof Array,m=Co();for(let w=0;h&&w<a.activeTargetIds.length;++w)h=Ht(a.activeTargetIds[w]),m=m.add(a.activeTargetIds[w]);return h?new Sh(e,m):(Zr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class $f{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new $f(t.clientId,t.onlineState):(Zr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Xp{constructor(){this.activeTargetIds=Co()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lm{constructor(e,t,a,h,m){this.window=e,this.Hs=t,this.persistenceKey=a,this.sr=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new ti(cr),this.started=!1,this.cr=[];const w=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=m,this.ar=Bf(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new Xp),this.lr=new RegExp(`^firestore_clients_${w}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${w}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${w}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(R){return`firestore_bundle_loaded_v2_${R}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Se.Z)(function*(){const t=yield e.syncEngine.vi();for(const h of t){if(h===e.sr)continue;const m=e.getItem(Bf(e.persistenceKey,h));if(m){const w=Sh.Zi(h,m);w&&(e.ur=e.ur.insert(w.clientId,w))}}e.gr();const a=e.storage.getItem(e.wr);if(a){const h=e.yr(a);h&&e.pr(h)}for(const h of e.cr)e.rr(h);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((a,h)=>{h.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,a){this.Tr(e,t,a),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const a=this.storage.getItem(Vf(this.persistenceKey,e));if(a){const h=jc.Zi(e,a);h&&(t=h.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Vf(this.persistenceKey,e))}updateQueryState(e,t,a){this.Rr(e,t,a)}handleUserChange(e,t,a){t.forEach(h=>{this.Er(h)}),this.currentUser=e,a.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return rn("SharedClientState","READ",e,t),t}setItem(e,t){rn("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){rn("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const a=e;if(a.storageArea===this.storage){if(rn("SharedClientState","EVENT",a.key,a.newValue),a.key===this.ar)return void Zr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Se.Z)(function*(){if(t.started){if(null!==a.key)if(t.lr.test(a.key)){if(null==a.newValue){const h=t.vr(a.key);return t.Vr(h,null)}{const h=t.Sr(a.key,a.newValue);if(h)return t.Vr(h.clientId,h)}}else if(t.dr.test(a.key)){if(null!==a.newValue){const h=t.Dr(a.key,a.newValue);if(h)return t.Cr(h)}}else if(t._r.test(a.key)){if(null!==a.newValue){const h=t.Nr(a.key,a.newValue);if(h)return t.kr(h)}}else if(a.key===t.wr){if(null!==a.newValue){const h=t.yr(a.newValue);if(h)return t.pr(h)}}else if(a.key===t.hr){const h=function(m){let w=cs.at;if(null!=m)try{const R=JSON.parse(m);or("number"==typeof R),w=R}catch(R){Zr("SharedClientState","Failed to read sequence number from WebStorage",R)}return w}(a.newValue);h!==cs.at&&t.sequenceNumberHandler(h)}else if(a.key===t.mr){const h=t.Mr(a.newValue);yield Promise.all(h.map(m=>t.syncEngine.Or(m)))}}else t.cr.push(a)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,a){const h=new kd(this.currentUser,e,t,a),m=Qp(this.persistenceKey,this.currentUser,e);this.setItem(m,h.tr())}Er(e){const t=Qp(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,a){const h=Vf(this.persistenceKey,e),m=new jc(e,t,a);this.setItem(h,m.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const a=this.vr(e);return Sh.Zi(a,t)}Dr(e,t){const a=this.dr.exec(e),h=Number(a[1]);return kd.Zi(new Yi(void 0!==a[2]?a[2]:null),h,t)}Nr(e,t){const a=this._r.exec(e),h=Number(a[1]);return jc.Zi(h,t)}yr(e){return $f.Zi(e)}Mr(e){return JSON.parse(e)}Cr(e){var t=this;return(0,Se.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);rn("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const a=t?this.ur.insert(e,t):this.ur.remove(e),h=this.Ir(this.ur),m=this.Ir(a),w=[],R=[];return m.forEach(Y=>{h.has(Y)||w.push(Y)}),h.forEach(Y=>{m.has(Y)||R.push(Y)}),this.syncEngine.Br(w,R).then(()=>{this.ur=a})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=Co();return e.forEach((a,h)=>{t=t.unionWith(h.activeTargetIds)}),t}}class Uf{constructor(){this.Lr=new Xp,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,a){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,a){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Xp,Promise.resolve()}handleUserChange(e,t,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Jp{qr(e){}shutdown(){}}class Gc{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){rn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){rn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const ly={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class eg{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class tg extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,a,h,m){const w=this.ao(e,t);rn("RestConnection","Sending: ",w,a);const R={};return this.ho(R,h,m),this.lo(e,w,R,a).then(Y=>(rn("RestConnection","Received: ",Y),Y),Y=>{throw Oi("RestConnection",`${e} failed with error: `,Y,"url: ",w,"request:",a),Y})}fo(e,t,a,h,m,w){return this.co(e,t,a,h,m)}ho(e,t,a){e["X-Goog-Api-Client"]="gl-js/ fire/"+zo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((h,m)=>e[m]=h),a&&a.headers.forEach((h,m)=>e[m]=h)}ao(e,t){return`${this.oo}/v1/${t}:${ly[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,a,h){return new Promise((m,w)=>{const R=new Gr;R.listenOnce(ic.COMPLETE,()=>{try{switch(R.getLastErrorCode()){case ja.NO_ERROR:const Z=R.getResponseJson();rn("Connection","XHR received:",JSON.stringify(Z)),m(Z);break;case ja.TIMEOUT:rn("Connection",'RPC "'+e+'" timed out'),w(new Zt(Vt.DEADLINE_EXCEEDED,"Request time out"));break;case ja.HTTP_ERROR:const Te=R.getStatus();if(rn("Connection",'RPC "'+e+'" failed with status:',Te,"response text:",R.getResponseText()),Te>0){const it=R.getResponseJson().error;if(it&&it.status&&it.message){const kt=function(Kt){const Xt=Kt.toLowerCase().replace(/_/g,"-");return Object.values(Vt).indexOf(Xt)>=0?Xt:Vt.UNKNOWN}(it.status);w(new Zt(kt,it.message))}else w(new Zt(Vt.UNKNOWN,"Server responded with status "+R.getStatus()))}else w(new Zt(Vt.UNAVAILABLE,"Connection failed."));break;default:On()}}finally{rn("Connection",'RPC "'+e+'" completed.')}});const Y=JSON.stringify(h);R.send(t,"POST",Y,a,15)})}_o(e,t,a){const h=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],m=kl(),w=iu(),R={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(R.xmlHttpFactory=new Fl({})),this.ho(R.initMessageHeaders,t,a),R.encodeInitMessageHeaders=!0;const Y=h.join("");rn("Connection","Creating WebChannel: "+Y,R);const Z=m.createWebChannel(Y,R);let Te=!1,it=!1;const kt=new eg({Hr:Xt=>{it?rn("Connection","Not sending because WebChannel is closed:",Xt):(Te||(rn("Connection","Opening WebChannel transport."),Z.open(),Te=!0),rn("Connection","WebChannel sending:",Xt),Z.send(Xt))},Jr:()=>Z.close()}),Kt=(Xt,Mn,ir)=>{Xt.listen(Mn,Si=>{try{ir(Si)}catch(ms){setTimeout(()=>{throw ms},0)}})};return Kt(Z,Go.EventType.OPEN,()=>{it||rn("Connection","WebChannel transport opened.")}),Kt(Z,Go.EventType.CLOSE,()=>{it||(it=!0,rn("Connection","WebChannel transport closed"),kt.io())}),Kt(Z,Go.EventType.ERROR,Xt=>{it||(it=!0,Oi("Connection","WebChannel transport errored:",Xt),kt.io(new Zt(Vt.UNAVAILABLE,"The operation could not be completed")))}),Kt(Z,Go.EventType.MESSAGE,Xt=>{var Mn;if(!it){const ir=Xt.data[0];or(!!ir);const Si=ir,ms=Si.error||(null===(Mn=Si[0])||void 0===Mn?void 0:Mn.error);if(ms){rn("Connection","WebChannel received error:",ms);const ts=ms.status;let co=function(is){const na=Hs[is];if(void 0!==na)return Cl(na)}(ts),wi=ms.message;void 0===co&&(co=Vt.INTERNAL,wi="Unknown error status: "+ts+" with message "+ms.message),it=!0,kt.io(new Zt(co,wi)),Z.close()}else rn("Connection","WebChannel received:",ir),kt.ro(ir)}}),Kt(w,Ga.STAT_EVENT,Xt=>{Xt.stat===za.PROXY?rn("Connection","Detected buffering proxy"):Xt.stat===za.NOPROXY&&rn("Connection","Detected no buffering proxy")}),setTimeout(()=>{kt.so()},0),kt}}function ng(){return typeof window<"u"?window:null}function rg(){return typeof document<"u"?document:null}function Hf(i){return new Ed(i,!0)}class ig{constructor(e,t,a=1e3,h=1.5,m=6e4){this.Hs=e,this.timerId=t,this.wo=a,this.mo=h,this.yo=m,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),a=Math.max(0,Date.now()-this.To),h=Math.max(0,t-a);h>0&&rn("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${a} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,h,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class cm{constructor(e,t,a,h,m,w,R,Y){this.Hs=e,this.Po=a,this.vo=h,this.Vo=m,this.authCredentialsProvider=w,this.appCheckCredentialsProvider=R,this.listener=Y,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new ig(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,Se.Z)(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,Se.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var a=this;return(0,Se.Z)(function*(){a.Lo(),a.Uo(),a.xo.cancel(),a.So++,4!==e?a.xo.reset():t&&t.code===Vt.RESOURCE_EXHAUSTED?(Zr(t.toString()),Zr("Using maximum backoff delay to prevent overloading the backend."),a.xo.Eo()):t&&t.code===Vt.UNAUTHENTICATED&&3!==a.state&&(a.authCredentialsProvider.invalidateToken(),a.appCheckCredentialsProvider.invalidateToken()),null!==a.stream&&(a.qo(),a.stream.close(),a.stream=null),a.state=e,yield a.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,h])=>{this.So===t&&this.Go(a,h)},a=>{e(()=>{const h=new Zt(Vt.UNKNOWN,"Fetching auth token failed: "+a.message);return this.Qo(h)})})}Go(e,t){const a=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{a(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(h=>{a(()=>this.Qo(h))}),this.stream.onMessage(h=>{a(()=>this.onMessage(h))})}Mo(){var e=this;this.state=5,this.xo.Ao((0,Se.Z)(function*(){e.state=0,e.start()}))}Qo(e){return rn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(rn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class um extends cm{constructor(e,t,a,h,m,w){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,a,h,w),this.It=m}jo(e,t){return this.Vo._o("Listen",e,t)}onMessage(e){this.xo.reset();const t=function Ef(i,e){let t;if("targetChange"in e){const a="NO_CHANGE"===(Y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Y?1:"REMOVE"===Y?2:"CURRENT"===Y?3:"RESET"===Y?4:On(),h=e.targetChange.targetIds||[],m=function(Y,Z){return Y.gt?(or(void 0===Z||"string"==typeof Z),Ni.fromBase64String(Z||"")):(or(void 0===Z||Z instanceof Uint8Array),Ni.fromUint8Array(Z||new Uint8Array))}(i,e.targetChange.resumeToken),w=e.targetChange.cause,R=w&&function(Y){const Z=void 0===Y.code?Vt.UNKNOWN:Cl(Y.code);return new Zt(Z,Y.message||"")}(w);t=new Fc(a,h,m,R||null)}else if("documentChange"in e){const a=e.documentChange,h=io(i,a.document.name),m=Gs(a.document.updateTime),w=new us({mapValue:{fields:a.document.fields}}),R=Ti.newFoundDocument(h,m,w);t=new Gu(a.targetIds||[],a.removedTargetIds||[],R.key,R)}else if("documentDelete"in e){const a=e.documentDelete,h=io(i,a.document),m=a.readTime?Gs(a.readTime):nr.min(),w=Ti.newNoDocument(h,m);t=new Gu([],a.removedTargetIds||[],w.key,w)}else if("documentRemove"in e){const a=e.documentRemove,h=io(i,a.document);t=new Gu([],a.removedTargetIds||[],h,null)}else{if(!("filter"in e))return On();{const a=e.filter,m=new bs(a.count||0);t=new wd(a.targetId,m)}}var Y;return t}(this.It,e),a=function(h){if(!("targetChange"in h))return nr.min();const m=h.targetChange;return m.targetIds&&m.targetIds.length?nr.min():m.readTime?Gs(m.readTime):nr.min()}(e);return this.listener.Wo(t,a)}zo(e){const t={};t.database=zu(this.It),t.addTarget=function(h,m){let w;const R=m.target;return w=fd(R)?{documents:x(h,R)}:{query:q(h,R)},w.targetId=m.targetId,m.resumeToken.approximateByteSize()>0?w.resumeToken=hc(h,m.resumeToken):m.snapshotVersion.compareTo(nr.min())>0&&(w.readTime=ba(h,m.snapshotVersion.toTimestamp())),w}(this.It,e);const a=function dt(i,e){const t=function(a,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return On()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);a&&(t.labels=a),this.Bo(t)}Ho(e){const t={};t.database=zu(this.It),t.removeTarget=e,this.Bo(t)}}class Qy extends cm{constructor(e,t,a,h,m,w){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,a,h,w),this.It=m,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.Vo._o("Write",e,t)}onMessage(e){if(or(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function _(i,e){return i&&i.length>0?(or(void 0!==e),i.map(t=>function(a,h){let m=Gs(a.updateTime?a.updateTime:h);return m.isEqual(nr.min())&&(m=Gs(h)),new wp(m,a.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),a=Gs(e.commitTime);return this.listener.Zo(a,t)}return or(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=zu(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(a=>C(this.It,a))};this.Bo(t)}}class dm extends class{}{constructor(e,t,a,h){super(),this.authCredentials=e,this.appCheckCredentials=t,this.Vo=a,this.It=h,this.nu=!1}su(){if(this.nu)throw new Zt(Vt.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,a){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.Vo.co(e,t,a,h,m)).catch(h=>{throw"FirebaseError"===h.name?(h.code===Vt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Zt(Vt.UNKNOWN,h.toString())})}fo(e,t,a,h){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,w])=>this.Vo.fo(e,t,a,m,w,h)).catch(m=>{throw"FirebaseError"===m.name?(m.code===Vt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new Zt(Vt.UNKNOWN,m.toString())})}terminate(){this.nu=!0}}class Fd{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Zr(t),this.ou=!1):rn("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class hm{constructor(e,t,a,h,m){var w=this;this.localStore=e,this.datastore=t,this.asyncQueue=a,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=m,this.mu.qr(R=>{a.enqueueAndForget((0,Se.Z)(function*(){var Y;zc(w)&&(rn("RemoteStore","Restarting streams for network reachability change."),yield(Y=(0,Se.Z)(function*(Z){const Te=bn(Z);Te._u.add(4),yield Vd(Te),Te.gu.set("Unknown"),Te._u.delete(4),yield Ld(Te)}),function(Z){return Y.apply(this,arguments)})(w))}))}),this.gu=new Fd(a,h)}}function Ld(i){return Bd.apply(this,arguments)}function Bd(){return Bd=(0,Se.Z)(function*(i){if(zc(i))for(const e of i.wu)yield e(!0)}),Bd.apply(this,arguments)}function Vd(i){return nd.apply(this,arguments)}function nd(){return nd=(0,Se.Z)(function*(i){for(const e of i.wu)yield e(!1)}),nd.apply(this,arguments)}function jf(i,e){const t=bn(i);t.du.has(e.targetId)||(t.du.set(e.targetId,e),xh(t)?Ml(t):$d(t).ko()&&sg(t,e))}function Ah(i,e){const t=bn(i),a=$d(t);t.du.delete(e),a.ko()&&fm(t,e),0===t.du.size&&(a.ko()?a.Fo():zc(t)&&t.gu.set("Unknown"))}function sg(i,e){i.yu.Ot(e.targetId),$d(i).zo(e)}function fm(i,e){i.yu.Ot(e),$d(i).Ho(e)}function Ml(i){i.yu=new fh({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),se:e=>i.du.get(e)||null}),$d(i).start(),i.gu.uu()}function xh(i){return zc(i)&&!$d(i).No()&&i.du.size>0}function zc(i){return 0===bn(i)._u.size}function Gf(i){i.yu=void 0}function pm(i){return Mh.apply(this,arguments)}function Mh(){return Mh=(0,Se.Z)(function*(i){i.du.forEach((e,t)=>{sg(i,e)})}),Mh.apply(this,arguments)}function ao(i,e){return rd.apply(this,arguments)}function rd(){return rd=(0,Se.Z)(function*(i,e){Gf(i),xh(i)?(i.gu.hu(e),Ml(i)):i.gu.set("Unknown")}),rd.apply(this,arguments)}function og(i,e,t){return gm.apply(this,arguments)}function gm(){return gm=(0,Se.Z)(function*(i,e,t){if(i.gu.set("Online"),e instanceof Fc&&2===e.state&&e.cause)try{yield(a=(0,Se.Z)(function*(h,m){const w=m.cause;for(const R of m.targetIds)h.du.has(R)&&(yield h.remoteSyncer.rejectListen(R,w),h.du.delete(R),h.yu.removeTarget(R))}),function(h,m){return a.apply(this,arguments)})(i,e)}catch(a){rn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),yield Wc(i,a)}else if(e instanceof Gu?i.yu.Gt(e):e instanceof wd?i.yu.Yt(e):i.yu.Wt(e),!t.isEqual(nr.min()))try{const a=yield im(i.localStore);t.compareTo(a)>=0&&(yield function(h,m){const w=h.yu.te(m);return w.targetChanges.forEach((R,Y)=>{if(R.resumeToken.approximateByteSize()>0){const Z=h.du.get(Y);Z&&h.du.set(Y,Z.withResumeToken(R.resumeToken,m))}}),w.targetMismatches.forEach(R=>{const Y=h.du.get(R);if(!Y)return;h.du.set(R,Y.withResumeToken(Ni.EMPTY_BYTE_STRING,Y.snapshotVersion)),fm(h,R);const Z=new Bc(Y.target,R,1,Y.sequenceNumber);sg(h,Z)}),h.remoteSyncer.applyRemoteEvent(w)}(i,t))}catch(a){rn("RemoteStore","Failed to raise snapshot:",a),yield Wc(i,a)}var a}),gm.apply(this,arguments)}function Wc(i,e,t){return zf.apply(this,arguments)}function zf(){return zf=(0,Se.Z)(function*(i,e,t){if(!Ji(e))throw e;i._u.add(1),yield Vd(i),i.gu.set("Offline"),t||(t=()=>im(i.localStore)),i.asyncQueue.enqueueRetryable((0,Se.Z)(function*(){rn("RemoteStore","Retrying IndexedDB access"),yield t(),i._u.delete(1),yield Ld(i)}))}),zf.apply(this,arguments)}function ag(i,e){return e().catch(t=>Wc(i,t,e))}function Yc(i){return cl.apply(this,arguments)}function cl(){return cl=(0,Se.Z)(function*(i){const e=bn(i),t=Tu(e);let a=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;lg(e);)try{const h=yield No(e.localStore,a);if(null===h){0===e.fu.length&&t.Fo();break}a=h.batchId,cy(e,h)}catch(h){yield Wc(e,h)}Wf(e)&&vc(e)}),cl.apply(this,arguments)}function lg(i){return zc(i)&&i.fu.length<10}function cy(i,e){i.fu.push(e);const t=Tu(i);t.ko()&&t.Yo&&t.Xo(e.mutations)}function Wf(i){return zc(i)&&!Tu(i).No()&&i.fu.length>0}function vc(i){Tu(i).start()}function Yf(i){return Kf.apply(this,arguments)}function Kf(){return Kf=(0,Se.Z)(function*(i){Tu(i).eu()}),Kf.apply(this,arguments)}function cg(i){return id.apply(this,arguments)}function id(){return id=(0,Se.Z)(function*(i){const e=Tu(i);for(const t of i.fu)e.Xo(t.mutations)}),id.apply(this,arguments)}function ug(i,e,t){return dg.apply(this,arguments)}function dg(){return dg=(0,Se.Z)(function*(i,e,t){const a=i.fu.shift(),h=pc.from(a,e,t);yield ag(i,()=>i.remoteSyncer.applySuccessfulWrite(h)),yield Yc(i)}),dg.apply(this,arguments)}function Du(i,e){return _c.apply(this,arguments)}function _c(){return _c=(0,Se.Z)(function*(i,e){var t;e&&Tu(i).Yo&&(yield(t=(0,Se.Z)(function*(a,h){if(mu(m=h.code)&&m!==Vt.ABORTED){const w=a.fu.shift();Tu(a).Oo(),yield ag(a,()=>a.remoteSyncer.rejectFailedWrite(w.batchId,h)),yield Yc(a)}var m}),function(a,h){return t.apply(this,arguments)})(i,e)),Wf(i)&&vc(i)}),_c.apply(this,arguments)}function To(i,e){return Rh.apply(this,arguments)}function Rh(){return Rh=(0,Se.Z)(function*(i,e){const t=bn(i);t.asyncQueue.verifyOperationInProgress(),rn("RemoteStore","RemoteStore received new credentials");const a=zc(t);t._u.add(3),yield Vd(t),a&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Ld(t)}),Rh.apply(this,arguments)}function Ph(i,e){return mm.apply(this,arguments)}function mm(){return mm=(0,Se.Z)(function*(i,e){const t=bn(i);e?(t._u.delete(2),yield Ld(t)):e||(t._u.add(2),yield Vd(t),t.gu.set("Unknown"))}),mm.apply(this,arguments)}function $d(i){return i.pu||(i.pu=function(e,t,a){const h=bn(e);return h.su(),new um(t,h.Vo,h.authCredentials,h.appCheckCredentials,h.It,a)}(i.datastore,i.asyncQueue,{Yr:pm.bind(null,i),Zr:ao.bind(null,i),Wo:og.bind(null,i)}),i.wu.push(function(){var e=(0,Se.Z)(function*(t){t?(i.pu.Oo(),xh(i)?Ml(i):i.gu.set("Unknown")):(yield i.pu.stop(),Gf(i))});return function(t){return e.apply(this,arguments)}}())),i.pu}function Tu(i){return i.Iu||(i.Iu=function(e,t,a){const h=bn(e);return h.su(),new Qy(t,h.Vo,h.authCredentials,h.appCheckCredentials,h.It,a)}(i.datastore,i.asyncQueue,{Yr:Yf.bind(null,i),Zr:Du.bind(null,i),tu:cg.bind(null,i),Zo:ug.bind(null,i)}),i.wu.push(function(){var e=(0,Se.Z)(function*(t){t?(i.Iu.Oo(),yield Yc(i)):(yield i.Iu.stop(),i.fu.length>0&&(rn("RemoteStore",`Stopping write stream with ${i.fu.length} pending writes`),i.fu=[]))});return function(t){return e.apply(this,arguments)}}())),i.Iu}class hg{constructor(e,t,a,h,m){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=a,this.op=h,this.removalCallback=m,this.deferred=new ws,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(w=>{})}static createAndSchedule(e,t,a,h,m){const w=Date.now()+a,R=new hg(e,t,w,h,m);return R.start(a),R}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Zt(Vt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kc(i,e){if(Zr("AsyncQueue",`${e}: ${i}`),Ji(i))return new Zt(Vt.UNAVAILABLE,`${e}: ${i}`);throw i}class Su{constructor(e){this.comparator=e?(t,a)=>e(t,a)||dn.comparator(t.key,a.key):(t,a)=>dn.comparator(t.key,a.key),this.keyedMap=yu(),this.sortedSet=new ti(this.comparator)}static emptySet(e){return new Su(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,a)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Su)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;t.hasNext();){const h=t.getNext().key,m=a.getNext().key;if(!h.isEqual(m))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const a=new Su;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=t,a}}class fg{constructor(){this.Tu=new ti(dn.comparator)}track(e){const t=e.doc.key,a=this.Tu.get(t);a?0!==e.type&&3===a.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==a.type?this.Tu=this.Tu.insert(t,{type:a.type,doc:e.doc}):2===e.type&&2===a.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===a.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===a.type?this.Tu=this.Tu.remove(t):1===e.type&&2===a.type?this.Tu=this.Tu.insert(t,{type:1,doc:a.doc}):0===e.type&&1===a.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):On():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,a)=>{e.push(a)}),e}}class Au{constructor(e,t,a,h,m,w,R,Y){this.query=e,this.docs=t,this.oldDocs=a,this.docChanges=h,this.mutatedKeys=m,this.fromCache=w,this.syncStateChanged=R,this.excludesMetadataChanges=Y}static fromInitialDocuments(e,t,a,h){const m=[];return t.forEach(w=>{m.push({type:0,doc:w})}),new Au(e,t,Su.emptySet(t),m,a,h,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,a=e.docChanges;if(t.length!==a.length)return!1;for(let h=0;h<t.length;h++)if(t[h].type!==a[h].type||!t[h].doc.isEqual(a[h].doc))return!1;return!0}}class xu{constructor(){this.Au=void 0,this.listeners=[]}}class pg{constructor(){this.queries=new dc(e=>pf(e),fu),this.onlineState="Unknown",this.Ru=new Set}}function ql(i,e){return gg.apply(this,arguments)}function gg(){return gg=(0,Se.Z)(function*(i,e){const t=bn(i),a=e.query;let h=!1,m=t.queries.get(a);if(m||(h=!0,m=new xu),h)try{m.Au=yield t.onListen(a)}catch(w){const R=Kc(w,`Initialization of query '${Na(e.query)}' failed`);return void e.onError(R)}t.queries.set(a,m),m.listeners.push(e),e.bu(t.onlineState),m.Au&&e.Pu(m.Au)&&vm(t)}),gg.apply(this,arguments)}function Mu(i,e){return ym.apply(this,arguments)}function ym(){return ym=(0,Se.Z)(function*(i,e){const t=bn(i),a=e.query;let h=!1;const m=t.queries.get(a);if(m){const w=m.listeners.indexOf(e);w>=0&&(m.listeners.splice(w,1),h=0===m.listeners.length)}if(h)return t.queries.delete(a),t.onUnlisten(a)}),ym.apply(this,arguments)}function Xy(i,e){const t=bn(i);let a=!1;for(const h of e){const w=t.queries.get(h.query);if(w){for(const R of w.listeners)R.Pu(h)&&(a=!0);w.Au=h}}a&&vm(t)}function Jy(i,e,t){const a=bn(i),h=a.queries.get(e);if(h)for(const m of h.listeners)m.onError(t);a.queries.delete(e)}function vm(i){i.Ru.forEach(e=>{e.next()})}class _m{constructor(e,t,a){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=a||{}}Pu(e){if(!this.options.includeMetadataChanges){const a=[];for(const h of e.docChanges)3!==h.type&&a.push(h);e=new Au(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||!(this.options.Nu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Au.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class ev{constructor(e,t){this.payload=e,this.byteLength=t}ku(){return"metadata"in this.payload}}class uy{constructor(e){this.It=e}Ji(e){return io(this.It,e)}Yi(e){return e.metadata.exists?Lc(this.It,e.document,!1):Ti.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Gs(e)}}class tv{constructor(e,t,a){this.Mu=e,this.localStore=t,this.It=a,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=dy(e)}Ou(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const a=pr.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(a.get(a.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Fu(e){const t=new Map,a=new uy(this.It);for(const h of e)if(h.metadata.queries){const m=a.Ji(h.metadata.name);for(const w of h.metadata.queries){const R=(t.get(w)||Er()).add(m);t.set(w,R)}}return t}complete(){var e=this;return(0,Se.Z)(function*(){const t=yield function om(i,e,t,a){return Lr.apply(this,arguments)}(e.localStore,new uy(e.It),e.documents,e.Mu.id),a=e.Fu(e.documents);for(const h of e.queries)yield am(e.localStore,h,a.get(h.name));return e.progress.taskState="Success",{progress:e.progress,$u:e.collectionGroups,Bu:t}})()}}function dy(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class ul{constructor(e){this.key=e}}class Zl{constructor(e){this.key=e}}class Ud{constructor(e,t){this.query=e,this.Lu=t,this.Uu=null,this.current=!1,this.qu=Er(),this.mutatedKeys=Er(),this.Ku=gf(e),this.Gu=new Su(this.Ku)}get Qu(){return this.Lu}ju(e,t){const a=t?t.Wu:new fg,h=t?t.Gu:this.Gu;let m=t?t.mutatedKeys:this.mutatedKeys,w=h,R=!1;const Y="F"===this.query.limitType&&h.size===this.query.limit?h.last():null,Z="L"===this.query.limitType&&h.size===this.query.limit?h.first():null;if(e.inorderTraversal((Te,it)=>{const kt=h.get(Te),Kt=Rc(this.query,it)?it:null,Xt=!!kt&&this.mutatedKeys.has(kt.key),Mn=!!Kt&&(Kt.hasLocalMutations||this.mutatedKeys.has(Kt.key)&&Kt.hasCommittedMutations);let ir=!1;kt&&Kt?kt.data.isEqual(Kt.data)?Xt!==Mn&&(a.track({type:3,doc:Kt}),ir=!0):this.zu(kt,Kt)||(a.track({type:2,doc:Kt}),ir=!0,(Y&&this.Ku(Kt,Y)>0||Z&&this.Ku(Kt,Z)<0)&&(R=!0)):!kt&&Kt?(a.track({type:0,doc:Kt}),ir=!0):kt&&!Kt&&(a.track({type:1,doc:kt}),ir=!0,(Y||Z)&&(R=!0)),ir&&(Kt?(w=w.add(Kt),m=Mn?m.add(Te):m.delete(Te)):(w=w.delete(Te),m=m.delete(Te)))}),null!==this.query.limit)for(;w.size>this.query.limit;){const Te="F"===this.query.limitType?w.last():w.first();w=w.delete(Te.key),m=m.delete(Te.key),a.track({type:1,doc:Te})}return{Gu:w,Wu:a,$i:R,mutatedKeys:m}}zu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,a){const h=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const m=e.Wu.Eu();m.sort((Z,Te)=>function(it,kt){const Kt=Xt=>{switch(Xt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return On()}};return Kt(it)-Kt(kt)}(Z.type,Te.type)||this.Ku(Z.doc,Te.doc)),this.Hu(a);const w=t?this.Ju():[],R=0===this.qu.size&&this.current?1:0,Y=R!==this.Uu;return this.Uu=R,0!==m.length||Y?{snapshot:new Au(this.query,e.Gu,h,m,e.mutatedKeys,0===R,Y,!1),Yu:w}:{Yu:w}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new fg,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=Er(),this.Gu.forEach(a=>{this.Xu(a.key)&&(this.qu=this.qu.add(a.key))});const t=[];return e.forEach(a=>{this.qu.has(a)||t.push(new Zl(a))}),this.qu.forEach(a=>{e.has(a)||t.push(new ul(a))}),t}Zu(e){this.Lu=e.Hi,this.qu=Er();const t=this.ju(e.documents);return this.applyChanges(t,!0)}tc(){return Au.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class wm{constructor(e,t,a){this.query=e,this.targetId=t,this.view=a}}class Em{constructor(e){this.key=e,this.ec=!1}}class qf{constructor(e,t,a,h,m,w){this.localStore=e,this.remoteStore=t,this.eventManager=a,this.sharedClientState=h,this.currentUser=m,this.maxConcurrentLimboResolutions=w,this.nc={},this.sc=new dc(R=>pf(R),fu),this.ic=new Map,this.rc=new Set,this.oc=new ti(dn.comparator),this.uc=new Map,this.cc=new Mf,this.ac={},this.hc=new Map,this.lc=td.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function mg(i,e){return Oh.apply(this,arguments)}function Oh(){return Oh=(0,Se.Z)(function*(i,e){const t=Yd(i);let a,h;const m=t.sc.get(e);if(m)a=m.targetId,t.sharedClientState.addLocalQueryTarget(a),h=m.view.tc();else{const w=yield ko(t.localStore,bo(e));t.isPrimaryClient&&jf(t.remoteStore,w);const R=t.sharedClientState.addLocalQueryTarget(w.targetId);a=w.targetId,h=yield yg(t,e,a,"current"===R)}return h}),Oh.apply(this,arguments)}function yg(i,e,t,a){return wc.apply(this,arguments)}function wc(){return wc=(0,Se.Z)(function*(i,e,t,a){i.dc=(Te,it,kt)=>{return(Kt=(0,Se.Z)(function*(Xt,Mn,ir,Si){let ms=Mn.view.ju(ir);ms.$i&&(ms=yield Ff(Xt.localStore,Mn.query,!1).then(({documents:wi})=>Mn.view.ju(wi,ms)));const ts=Si&&Si.targetChanges.get(Mn.targetId),co=Mn.view.applyChanges(ms,Xt.isPrimaryClient,ts);return Rl(Xt,Mn.targetId,co.Yu),co.snapshot}),function(Xt,Mn,ir,Si){return Kt.apply(this,arguments)})(i,Te,it,kt);var Kt};const h=yield Ff(i.localStore,e,!0),m=new Ud(e,h.Hi),w=m.ju(h.documents),R=Sl.createSynthesizedTargetChangeForCurrentChange(t,a&&"Offline"!==i.onlineState),Y=m.applyChanges(w,i.isPrimaryClient,R);Rl(i,t,Y.Yu);const Z=new wm(e,t,m);return i.sc.set(e,Z),i.ic.has(t)?i.ic.get(t).push(e):i.ic.set(t,[e]),Y.snapshot}),wc.apply(this,arguments)}function Ql(i,e){return Nh.apply(this,arguments)}function Nh(){return Nh=(0,Se.Z)(function*(i,e){const t=bn(i),a=t.sc.get(e),h=t.ic.get(a.targetId);if(h.length>1)return t.ic.set(a.targetId,h.filter(m=>!fu(m,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(a.targetId),t.sharedClientState.isActiveQueryTarget(a.targetId)||(yield mc(t.localStore,a.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(a.targetId),Ah(t.remoteStore,a.targetId),sd(t,a.targetId)}).catch(Ma))):(sd(t,a.targetId),yield mc(t.localStore,a.targetId,!0))}),Nh.apply(this,arguments)}function Zf(){return Zf=(0,Se.Z)(function*(i,e,t){const a=Dg(i);try{const h=yield function(m,w){const R=bn(m),Y=si.now(),Z=w.reduce((kt,Kt)=>kt.add(Kt.key),Er());let Te,it;return R.persistence.runTransaction("Locally write mutations","readwrite",kt=>{let Kt=Xo(),Xt=Er();return R.Gi.getEntries(kt,Z).next(Mn=>{Kt=Mn,Kt.forEach((ir,Si)=>{Si.isValidDocument()||(Xt=Xt.add(ir))})}).next(()=>R.localDocuments.getOverlayedDocuments(kt,Kt)).next(Mn=>{Te=Mn;const ir=[];for(const Si of w){const ms=uh(Si,Te.get(Si.key).overlayedDocument);null!=ms&&ir.push(new zl(Si.key,ms,El(ms.value.mapValue),es.exists(!0)))}return R.mutationQueue.addMutationBatch(kt,Y,ir,w)}).next(Mn=>{it=Mn;const ir=Mn.applyToLocalDocumentSet(Te,Xt);return R.documentOverlayCache.saveOverlays(kt,Mn.batchId,ir)})}).then(()=>({batchId:it.batchId,changes:Hu(Te)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(h.batchId),function(m,w,R){let Y=m.ac[m.currentUser.toKey()];Y||(Y=new ti(cr)),Y=Y.insert(w,R),m.ac[m.currentUser.toKey()]=Y}(a,h.batchId,t),yield Ic(a,h.changes),yield Yc(a.remoteStore)}catch(h){const m=Kc(h,"Failed to persist write");t.reject(m)}}),Zf.apply(this,arguments)}function vg(i,e){return _g.apply(this,arguments)}function _g(){return _g=(0,Se.Z)(function*(i,e){const t=bn(i);try{const a=yield Kl(t.localStore,e);e.targetChanges.forEach((h,m)=>{const w=t.uc.get(m);w&&(or(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?w.ec=!0:h.modifiedDocuments.size>0?or(w.ec):h.removedDocuments.size>0&&(or(w.ec),w.ec=!1))}),yield Ic(t,a,e)}catch(a){yield Ma(a)}}),_g.apply(this,arguments)}function So(i,e,t){const a=bn(i);if(a.isPrimaryClient&&0===t||!a.isPrimaryClient&&1===t){const h=[];a.sc.forEach((m,w)=>{const R=w.view.bu(e);R.snapshot&&h.push(R.snapshot)}),function(m,w){const R=bn(m);R.onlineState=w;let Y=!1;R.queries.forEach((Z,Te)=>{for(const it of Te.listeners)it.bu(w)&&(Y=!0)}),Y&&vm(R)}(a.eventManager,e),h.length&&a.nc.Wo(h),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}function qc(i,e,t){return kh.apply(this,arguments)}function kh(){return kh=(0,Se.Z)(function*(i,e,t){const a=bn(i);a.sharedClientState.updateQueryState(e,"rejected",t);const h=a.uc.get(e),m=h&&h.key;if(m){let w=new ti(dn.comparator);w=w.insert(m,Ti.newNoDocument(m,nr.min()));const R=Er().add(m),Y=new Tl(nr.min(),new Map,new _i(cr),w,R);yield vg(a,Y),a.oc=a.oc.remove(m),a.uc.delete(e),Wd(a)}else yield mc(a.localStore,e,!1).then(()=>sd(a,e,t)).catch(Ma)}),kh.apply(this,arguments)}function Ec(i,e){return Hd.apply(this,arguments)}function Hd(){return Hd=(0,Se.Z)(function*(i,e){const t=bn(i),a=e.batch.batchId;try{const h=yield ay(t.localStore,e);zd(t,a,null),Gd(t,a),t.sharedClientState.updateMutationState(a,"acknowledged"),yield Ic(t,h)}catch(h){yield Ma(h)}}),Hd.apply(this,arguments)}function Fh(i,e,t){return Qf.apply(this,arguments)}function Qf(){return Qf=(0,Se.Z)(function*(i,e,t){const a=bn(i);try{const h=yield function(m,w){const R=bn(m);return R.persistence.runTransaction("Reject batch","readwrite-primary",Y=>{let Z;return R.mutationQueue.lookupMutationBatch(Y,w).next(Te=>(or(null!==Te),Z=Te.keys(),R.mutationQueue.removeMutationBatch(Y,Te))).next(()=>R.mutationQueue.performConsistencyCheck(Y)).next(()=>R.documentOverlayCache.removeOverlaysForBatchId(Y,Z,w)).next(()=>R.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(Y,Z)).next(()=>R.localDocuments.getDocuments(Y,Z))})}(a.localStore,e);zd(a,e,t),Gd(a,e),a.sharedClientState.updateMutationState(e,"rejected",t),yield Ic(a,h)}catch(h){yield Ma(h)}}),Qf.apply(this,arguments)}function jd(){return jd=(0,Se.Z)(function*(i,e){const t=bn(i);zc(t.remoteStore)||rn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(m){const w=bn(m);return w.persistence.runTransaction("Get highest unacknowledged batch id","readonly",R=>w.mutationQueue.getHighestUnacknowledgedBatchId(R))}(t.localStore);if(-1===a)return void e.resolve();const h=t.hc.get(a)||[];h.push(e),t.hc.set(a,h)}catch(a){const h=Kc(a,"Initialization of waitForPendingWrites() operation failed");e.reject(h)}}),jd.apply(this,arguments)}function Gd(i,e){(i.hc.get(e)||[]).forEach(t=>{t.resolve()}),i.hc.delete(e)}function zd(i,e,t){const a=bn(i);let h=a.ac[a.currentUser.toKey()];if(h){const m=h.get(e);m&&(t?m.reject(t):m.resolve(),h=h.remove(e)),a.ac[a.currentUser.toKey()]=h}}function sd(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const a of i.ic.get(e))i.sc.delete(a),t&&i.nc._c(a,t);i.ic.delete(e),i.isPrimaryClient&&i.cc.ls(e).forEach(a=>{i.cc.containsKey(a)||Xf(i,a)})}function Xf(i,e){i.rc.delete(e.path.canonicalString());const t=i.oc.get(e);null!==t&&(Ah(i.remoteStore,t),i.oc=i.oc.remove(e),i.uc.delete(t),Wd(i))}function Rl(i,e,t){for(const a of t)a instanceof ul?(i.cc.addReference(a.key,e),Zc(i,a)):a instanceof Zl?(rn("SyncEngine","Document no longer in limbo: "+a.key),i.cc.removeReference(a.key,e),i.cc.containsKey(a.key)||Xf(i,a.key)):On()}function Zc(i,e){const t=e.key,a=t.path.canonicalString();i.oc.get(t)||i.rc.has(a)||(rn("SyncEngine","New document in limbo: "+t),i.rc.add(a),Wd(i))}function Wd(i){for(;i.rc.size>0&&i.oc.size<i.maxConcurrentLimboResolutions;){const e=i.rc.values().next().value;i.rc.delete(e);const t=new dn(pr.fromString(e)),a=i.lc.next();i.uc.set(a,new Em(t)),i.oc=i.oc.insert(t,a),jf(i.remoteStore,new Bc(bo(ac(t.path)),a,2,cs.at))}}function Ic(i,e,t){return wg.apply(this,arguments)}function wg(){return wg=(0,Se.Z)(function*(i,e,t){const a=bn(i),h=[],m=[],w=[];var R;a.sc.isEmpty()||(a.sc.forEach((R,Y)=>{w.push(a.dc(Y,e,t).then(Z=>{if(Z){a.isPrimaryClient&&a.sharedClientState.updateQueryState(Y.targetId,Z.fromCache?"not-current":"current"),h.push(Z);const Te=Nf.Ci(Y.targetId,Z);m.push(Te)}}))}),yield Promise.all(w),a.nc.Wo(h),yield(R=(0,Se.Z)(function*(Y,Z){const Te=bn(Y);try{yield Te.persistence.runTransaction("notifyLocalViewChanges","readwrite",it=>Tt.forEach(Z,kt=>Tt.forEach(kt.Si,Kt=>Te.persistence.referenceDelegate.addReference(it,kt.targetId,Kt)).next(()=>Tt.forEach(kt.Di,Kt=>Te.persistence.referenceDelegate.removeReference(it,kt.targetId,Kt)))))}catch(it){if(!Ji(it))throw it;rn("LocalStore","Failed to update sequence numbers: "+it)}for(const it of Z){const kt=it.targetId;if(!it.fromCache){const Kt=Te.Ui.get(kt),Mn=Kt.withLastLimboFreeSnapshotVersion(Kt.snapshotVersion);Te.Ui=Te.Ui.insert(kt,Mn)}}}),function(Y,Z){return R.apply(this,arguments)})(a.localStore,m))}),wg.apply(this,arguments)}function od(i,e){return Ru.apply(this,arguments)}function Ru(){return Ru=(0,Se.Z)(function*(i,e){const t=bn(i);if(!t.currentUser.isEqual(e)){rn("SyncEngine","User change. New user:",e.toKey());const a=yield Kp(t.localStore,e);t.currentUser=e,(h=t).hc.forEach(w=>{w.forEach(R=>{R.reject(new Zt(Vt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),h.hc.clear(),t.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),yield Ic(t,a.ji)}var h}),Ru.apply(this,arguments)}function bm(i,e){const t=bn(i),a=t.uc.get(e);if(a&&a.ec)return Er().add(a.key);{let h=Er();const m=t.ic.get(e);if(!m)return h;for(const w of m){const R=t.sc.get(w);h=h.unionWith(R.view.Qu)}return h}}function dl(i,e){return Lh.apply(this,arguments)}function Lh(){return Lh=(0,Se.Z)(function*(i,e){const t=bn(i),a=yield Ff(t.localStore,e.query,!0),h=e.view.Zu(a);return t.isPrimaryClient&&Rl(t,e.targetId,h.Yu),h}),Lh.apply(this,arguments)}function fy(i,e){return Cm.apply(this,arguments)}function Cm(){return Cm=(0,Se.Z)(function*(i,e){const t=bn(i);return sm(t.localStore,e).then(a=>Ic(t,a))}),Cm.apply(this,arguments)}function py(i,e,t,a){return Bh.apply(this,arguments)}function Bh(){return Bh=(0,Se.Z)(function*(i,e,t,a){const h=bn(i),m=yield function(w,R){const Y=bn(w),Z=bn(Y.mutationQueue);return Y.persistence.runTransaction("Lookup mutation documents","readonly",Te=>Z.Tn(Te,R).next(it=>it?Y.localDocuments.getDocuments(Te,it):Tt.resolve(null)))}(h.localStore,e);var R;null!==m?("pending"===t?yield Yc(h.remoteStore):"acknowledged"===t||"rejected"===t?(zd(h,e,a||null),Gd(h,e),R=e,bn(bn(h.localStore).mutationQueue).An(R)):On(),yield Ic(h,m)):rn("SyncEngine","Cannot apply mutation batch with id: "+e)}),Bh.apply(this,arguments)}function Jf(){return Jf=(0,Se.Z)(function*(i,e){const t=bn(i);if(Yd(t),Dg(t),!0===e&&!0!==t.fc){const a=t.sharedClientState.getAllActiveQueryTargets(),h=yield Vh(t,a.toArray());t.fc=!0,yield Ph(t.remoteStore,!0);for(const m of h)jf(t.remoteStore,m)}else if(!1===e&&!1!==t.fc){const a=[];let h=Promise.resolve();t.ic.forEach((m,w)=>{t.sharedClientState.isLocalQueryTarget(w)?a.push(w):h=h.then(()=>(sd(t,w),mc(t.localStore,w,!0))),Ah(t.remoteStore,w)}),yield h,yield Vh(t,a),function(m){const w=bn(m);w.uc.forEach((R,Y)=>{Ah(w.remoteStore,Y)}),w.cc.fs(),w.uc=new Map,w.oc=new ti(dn.comparator)}(t),t.fc=!1,yield Ph(t.remoteStore,!1)}}),Jf.apply(this,arguments)}function Vh(i,e,t){return $h.apply(this,arguments)}function $h(){return $h=(0,Se.Z)(function*(i,e,t){const a=bn(i),h=[],m=[];for(const w of e){let R;const Y=a.ic.get(w);if(Y&&0!==Y.length){R=yield ko(a.localStore,bo(Y[0]));for(const Z of Y){const Te=a.sc.get(Z),it=yield dl(a,Te);it.snapshot&&m.push(it.snapshot)}}else{const Z=yield Zp(a.localStore,w);R=yield ko(a.localStore,Z),yield yg(a,Ig(Z),w,!1)}h.push(R)}return a.nc.Wo(m),h}),$h.apply(this,arguments)}function Ig(i){return cu(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function gy(i){const e=bn(i);return bn(bn(e.localStore).persistence).vi()}function bg(i,e,t,a){return Cg.apply(this,arguments)}function Cg(){return Cg=(0,Se.Z)(function*(i,e,t,a){const h=bn(i);if(h.fc)return void rn("SyncEngine","Ignoring unexpected query state notification.");const m=h.ic.get(e);if(m&&m.length>0)switch(t){case"current":case"not-current":{const w=yield sm(h.localStore,ah(m[0])),R=Tl.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Ic(h,w,R);break}case"rejected":yield mc(h.localStore,e,!0),sd(h,e,a);break;default:On()}}),Cg.apply(this,arguments)}function my(i,e,t){return Fo.apply(this,arguments)}function Fo(){return Fo=(0,Se.Z)(function*(i,e,t){const a=Yd(i);if(a.fc){for(const h of e){if(a.ic.has(h)){rn("SyncEngine","Adding an already active target "+h);continue}const m=yield Zp(a.localStore,h),w=yield ko(a.localStore,m);yield yg(a,Ig(m),w.targetId,!1),jf(a.remoteStore,w)}for(const h of t)a.ic.has(h)&&(yield mc(a.localStore,h,!1).then(()=>{Ah(a.remoteStore,h),sd(a,h)}).catch(Ma))}}),Fo.apply(this,arguments)}function Yd(i){const e=bn(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=vg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bm.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qc.bind(null,e),e.nc.Wo=Xy.bind(null,e.eventManager),e.nc._c=Jy.bind(null,e.eventManager),e}function Dg(i){const e=bn(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ec.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Fh.bind(null,e),e}class Uh{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Se.Z)(function*(){t.It=Hf(e.databaseInfo.databaseId),t.sharedClientState=t.mc(e),t.persistence=t.gc(e),yield t.persistence.start(),t.localStore=t.yc(e),t.gcScheduler=t.Ic(e,t.localStore),t.indexBackfillerScheduler=t.Tc(e,t.localStore)})()}Ic(e,t){return null}Tc(e,t){return null}yc(e){return Yp(this.persistence,new Wp,e.initialUser,this.It)}gc(e){return new Up(Dh.Bs,this.It)}mc(e){return new Uf}terminate(){var e=this;return(0,Se.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Dm extends Uh{constructor(e,t,a){super(),this.Ec=e,this.cacheSizeBytes=t,this.forceOwnership=a,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,a=this;return(0,Se.Z)(function*(){yield t().call(a,e),yield a.Ec.initialize(a,e),yield Dg(a.Ec.syncEngine),yield Yc(a.Ec.remoteStore),yield a.persistence.li(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(),a.indexBackfillerScheduler&&!a.indexBackfillerScheduler.started&&a.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(e){return Yp(this.persistence,new Wp,e.initialUser,this.It)}Ic(e,t){return new ry(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Tc(e,t){const a=new ou(t,this.persistence);return new Xa(e.asyncQueue,a)}gc(e){const t=zp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?Fs.withCacheSize(this.cacheSizeBytes):Fs.DEFAULT;return new Pf(this.synchronizeTabs,t,e.clientId,a,e.asyncQueue,ng(),rg(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(e){return new Uf}}class yy extends Dm{constructor(e,t){super(e,t,!1),this.Ec=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,a=this;return(0,Se.Z)(function*(){yield t().call(a,e);const h=a.Ec.syncEngine;a.sharedClientState instanceof lm&&(a.sharedClientState.syncEngine={Fr:py.bind(null,h),$r:bg.bind(null,h),Br:my.bind(null,h),vi:gy.bind(null,h),Or:fy.bind(null,h)},yield a.sharedClientState.start()),yield a.persistence.li(function(){var m=(0,Se.Z)(function*(w){yield function Eg(i,e){return Jf.apply(this,arguments)}(a.Ec.syncEngine,w),a.gcScheduler&&(w&&!a.gcScheduler.started?a.gcScheduler.start():w||a.gcScheduler.stop()),a.indexBackfillerScheduler&&(w&&!a.indexBackfillerScheduler.started?a.indexBackfillerScheduler.start():w||a.indexBackfillerScheduler.stop())});return function(w){return m.apply(this,arguments)}}())})()}mc(e){const t=ng();if(!lm.C(t))throw new Zt(Vt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=zp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new lm(t,e.asyncQueue,a,e.clientId,e.initialUser)}}class Pl{initialize(e,t){var a=this;return(0,Se.Z)(function*(){a.localStore||(a.localStore=e.localStore,a.sharedClientState=e.sharedClientState,a.datastore=a.createDatastore(t),a.remoteStore=a.createRemoteStore(t),a.eventManager=a.createEventManager(t),a.syncEngine=a.createSyncEngine(t,!e.synchronizeTabs),a.sharedClientState.onlineStateHandler=h=>So(a.syncEngine,h,1),a.remoteStore.remoteSyncer.handleCredentialChange=od.bind(null,a.syncEngine),yield Ph(a.remoteStore,a.syncEngine.isPrimaryClient))})()}createEventManager(e){return new pg}createDatastore(e){const t=Hf(e.databaseInfo.databaseId),a=new tg(e.databaseInfo);return new dm(e.authCredentials,e.appCheckCredentials,a,t)}createRemoteStore(e){return t=this.localStore,a=this.datastore,h=e.asyncQueue,m=R=>So(this.syncEngine,R,0),w=Gc.C()?new Gc:new Jp,new hm(t,a,h,m,w);var t,a,h,m,w}createSyncEngine(e,t){return function(a,h,m,w,R,Y,Z){const Te=new qf(a,h,m,w,R,Y);return Z&&(Te.fc=!0),Te}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Se.Z)(function*(t){const a=bn(t);rn("RemoteStore","RemoteStore shutting down."),a._u.add(5),yield Vd(a),a.mu.shutdown(),a.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Tg(i,e=10240){let t=0;return{read:()=>(0,Se.Z)(function*(){if(t<i.byteLength){const a={value:i.slice(t,t+e),done:!1};return t+=e,a}return{done:!0}})(),cancel:()=>(0,Se.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class ep{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):Zr("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class vy{constructor(e,t){this.bc=e,this.It=t,this.metadata=new ws,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(a=>{a&&a.ku()?this.metadata.resolve(a.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(a?.payload)}`))},a=>this.metadata.reject(a))}close(){return this.bc.cancel()}getMetadata(){var e=this;return(0,Se.Z)(function*(){return e.metadata.promise})()}wc(){var e=this;return(0,Se.Z)(function*(){return yield e.getMetadata(),e.vc()})()}vc(){var e=this;return(0,Se.Z)(function*(){const t=yield e.Vc();if(null===t)return null;const a=e.Pc.decode(t),h=Number(a);isNaN(h)&&e.Sc(`length string (${a}) is not valid number`);const m=yield e.Dc(h);return new ev(JSON.parse(m),t.length+h)})()}Cc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Vc(){var e=this;return(0,Se.Z)(function*(){for(;e.Cc()<0&&!(yield e.xc()););if(0===e.buffer.length)return null;const t=e.Cc();t<0&&e.Sc("Reached the end of bundle when a length string is expected.");const a=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),a})()}Dc(e){var t=this;return(0,Se.Z)(function*(){for(;t.buffer.length<e;)(yield t.xc())&&t.Sc("Reached the end of bundle when more is expected.");const a=t.Pc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),a})()}Sc(e){throw this.bc.cancel(),new Error(`Invalid bundle format: ${e}`)}xc(){var e=this;return(0,Se.Z)(function*(){const t=yield e.bc.read();if(!t.done){const a=new Uint8Array(e.buffer.length+t.value.length);a.set(e.buffer),a.set(t.value,e.buffer.length),e.buffer=a}return t.done})()}}class _y{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Se.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Zt(Vt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const a=yield(h=(0,Se.Z)(function*(m,w){const R=bn(m),Y=zu(R.It)+"/documents",Z={documents:w.map(Kt=>Ca(R.It,Kt))},Te=yield R.fo("BatchGetDocuments",Y,Z,w.length),it=new Map;Te.forEach(Kt=>{const Xt=function wf(i,e){return"found"in e?function(t,a){or(!!a.found);const h=io(t,a.found.name),m=Gs(a.found.updateTime),w=new us({mapValue:{fields:a.found.fields}});return Ti.newFoundDocument(h,m,w)}(i,e):"missing"in e?function(t,a){or(!!a.missing),or(!!a.readTime);const h=io(t,a.missing),m=Gs(a.readTime);return Ti.newNoDocument(h,m)}(i,e):On()}(R.It,Kt);it.set(Xt.key.toString(),Xt)});const kt=[];return w.forEach(Kt=>{const Xt=it.get(Kt.toString());or(!!Xt),kt.push(Xt)}),kt}),function(m,w){return h.apply(this,arguments)})(t.datastore,e);var h;return a.forEach(h=>t.recordVersion(h)),a})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(a){this.lastWriteError=a}this.writtenDocs.add(e.toString())}delete(e){this.write(new uc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Se.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var a;e.mutations.forEach(a=>{t.delete(a.key.toString())}),t.forEach((a,h)=>{const m=dn.fromPath(h);e.mutations.push(new _d(m,e.precondition(m)))}),yield(a=(0,Se.Z)(function*(h,m){const w=bn(h),R=zu(w.It)+"/documents",Y={writes:m.map(Z=>C(w.It,Z))};yield w.co("Commit",R,Y)}),function(h,m){return a.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw On();t=nr.min()}const a=this.readVersions.get(e.key.toString());if(a){if(!t.isEqual(a))throw new Zt(Vt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(nr.min())?es.exists(!1):es.updateTime(t):es.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(nr.min()))throw new Zt(Vt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return es.updateTime(t)}return es.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class tp{constructor(e,t,a,h,m){this.asyncQueue=e,this.datastore=t,this.options=a,this.updateFunction=h,this.deferred=m,this.Nc=a.maxAttempts,this.xo=new ig(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var e=this;this.xo.Ao((0,Se.Z)(function*(){const t=new _y(e.datastore),a=e.Mc(t);a&&a.then(h=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(h)}).catch(m=>{e.Oc(m)}))}).catch(h=>{e.Oc(h)})}))}Mc(e){try{const t=this.updateFunction(e);return!je(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Oc(e){this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(e)}Fc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!mu(t)}return!1}}class ad{constructor(e,t,a,h){var m=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=a,this.databaseInfo=h,this.user=Yi.UNAUTHENTICATED,this.clientId=Ns.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(a,function(){var w=(0,Se.Z)(function*(R){rn("FirestoreClient","Received user=",R.uid),yield m.authCredentialListener(R),m.user=R});return function(R){return w.apply(this,arguments)}}()),this.appCheckCredentials.start(a,w=>(rn("FirestoreClient","Received new app check token=",w),this.appCheckCredentialListener(w,this.user)))}getConfiguration(){var e=this;return(0,Se.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Zt(Vt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ws;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Se.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(a){const h=Kc(a,"Failed to shutdown persistence");t.reject(h)}})),t.promise}}function Tm(i,e){return Kd.apply(this,arguments)}function Kd(){return Kd=(0,Se.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),rn("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let a=t.initialUser;i.setCredentialChangeListener(function(){var h=(0,Se.Z)(function*(m){a.isEqual(m)||(yield Kp(e.localStore,m),a=m)});return function(m){return h.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),Kd.apply(this,arguments)}function Hh(i,e){return Sg.apply(this,arguments)}function Sg(){return Sg=(0,Se.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield jh(i);rn("FirestoreClient","Initializing OnlineComponentProvider");const a=yield i.getConfiguration();yield e.initialize(t,a),i.setCredentialChangeListener(h=>To(e.remoteStore,h)),i.setAppCheckTokenChangeListener((h,m)=>To(e.remoteStore,m)),i.onlineComponents=e}),Sg.apply(this,arguments)}function jh(i){return np.apply(this,arguments)}function np(){return np=(0,Se.Z)(function*(i){return i.offlineComponents||(rn("FirestoreClient","Using default OfflineComponentProvider"),yield Tm(i,new Uh)),i.offlineComponents}),np.apply(this,arguments)}function rp(i){return ip.apply(this,arguments)}function ip(){return ip=(0,Se.Z)(function*(i){return i.onlineComponents||(rn("FirestoreClient","Using default OnlineComponentProvider"),yield Hh(i,new Pl)),i.onlineComponents}),ip.apply(this,arguments)}function Gh(i){return jh(i).then(e=>e.persistence)}function Ag(i){return jh(i).then(e=>e.localStore)}function xg(i){return rp(i).then(e=>e.remoteStore)}function sp(i){return rp(i).then(e=>e.syncEngine)}function ld(i){return zh.apply(this,arguments)}function zh(){return zh=(0,Se.Z)(function*(i){const e=yield rp(i),t=e.eventManager;return t.onListen=mg.bind(null,e.syncEngine),t.onUnlisten=Ql.bind(null,e.syncEngine),t}),zh.apply(this,arguments)}function Yh(i,e,t={}){const a=new ws;return i.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function(h,m,w,R,Y){const Z=new ep({next:it=>{m.enqueueAndForget(()=>Mu(h,Te));const kt=it.docs.has(w);!kt&&it.fromCache?Y.reject(new Zt(Vt.UNAVAILABLE,"Failed to get document because the client is offline.")):kt&&it.fromCache&&R&&"server"===R.source?Y.reject(new Zt(Vt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Y.resolve(it)},error:it=>Y.reject(it)}),Te=new _m(ac(w.path),Z,{includeMetadataChanges:!0,Nu:!0});return ql(h,Te)}(yield ld(i),i.asyncQueue,e,t,a)})),a.promise}function Sm(i,e,t={}){const a=new ws;return i.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function(h,m,w,R,Y){const Z=new ep({next:it=>{m.enqueueAndForget(()=>Mu(h,Te)),it.fromCache&&"server"===R.source?Y.reject(new Zt(Vt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Y.resolve(it)},error:it=>Y.reject(it)}),Te=new _m(w,Z,{includeMetadataChanges:!0,Nu:!0});return ql(h,Te)}(yield ld(i),i.asyncQueue,e,t,a)})),a.promise}const qh=new Map;function Mm(i,e,t){if(!t)throw new Zt(Vt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function nv(i,e,t,a){if(!0===e&&!0===a)throw new Zt(Vt.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Rm(i){if(!dn.isDocumentKey(i))throw new Zt(Vt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function wy(i){if(dn.isDocumentKey(i))throw new Zt(Vt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function op(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":On()}function mi(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Zt(Vt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=op(i);throw new Zt(Vt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function Pm(i,e){if(e<=0)throw new Zt(Vt.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class Om{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Zt(Vt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Zt(Vt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,nv("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zd{constructor(e,t,a,h){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=a,this._app=h,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Om({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Zt(Vt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Zt(Vt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Om(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Ll;switch(t.type){case"gapi":return new Wa(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Zt(Vt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=qh.get(e);t&&(rn("ComponentProvider","Removing Datastore"),qh.delete(e),t.terminate())}(this),Promise.resolve()}}class Cs{constructor(e,t,a){this.converter=t,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Cs(this.firestore,e,this._key)}}class ta{constructor(e,t,a){this.converter=t,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new ta(this.firestore,e,this._query)}}class bc extends ta{constructor(e,t,a){super(e,t,ac(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Cs(this.firestore,null,new dn(e))}withConverter(e){return new bc(this.firestore,e,this._path)}}function Ey(i,e,...t){if(i=(0,rt.m9)(i),Mm("collection","path",e),i instanceof Zd){const a=pr.fromString(e,...t);return wy(a),new bc(i,null,a)}{if(!(i instanceof Cs||i instanceof bc))throw new Zt(Vt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(pr.fromString(e,...t));return wy(a),new bc(i.firestore,null,a)}}function lp(i,e,...t){if(i=(0,rt.m9)(i),1===arguments.length&&(e=Ns.R()),Mm("doc","path",e),i instanceof Zd){const a=pr.fromString(e,...t);return Rm(a),new Cs(i,null,new dn(a))}{if(!(i instanceof Cs||i instanceof bc))throw new Zt(Vt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(pr.fromString(e,...t));return Rm(a),new Cs(i.firestore,i instanceof bc?i.converter:null,new dn(a))}}function Nm(i,e){return i=(0,rt.m9)(i),e=(0,rt.m9)(e),(i instanceof Cs||i instanceof bc)&&(e instanceof Cs||e instanceof bc)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Zh(i,e){return i=(0,rt.m9)(i),e=(0,rt.m9)(e),i instanceof ta&&e instanceof ta&&i.firestore===e.firestore&&fu(i._query,e._query)&&i.converter===e.converter}class Qh{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new ig(this,"async_queue_retry"),this.jc=()=>{const t=rg();t&&rn("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.bo()};const e=rg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const t=rg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const t=new ws;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return(0,Se.Z)(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(t){if(!Ji(t))throw t;rn("AsyncQueue","Operation failed with retryable error: "+t)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const t=this.$c.then(()=>(this.Kc=!0,e().catch(a=>{throw this.qc=a,this.Kc=!1,Zr("INTERNAL UNHANDLED ERROR: ",function(m){let w=m.message||"";return m.stack&&(w=m.stack.includes(m.message)?m.stack:m.message+"\n"+m.stack),w}(a)),a}).then(a=>(this.Kc=!1,a))));return this.$c=t,t}enqueueAfterDelay(e,t,a){this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);const h=hg.createAndSchedule(this,e,t,a,m=>this.Jc(m));return this.Uc.push(h),h}Wc(){this.qc&&On()}verifyOperationInProgress(){}Yc(){var e=this;return(0,Se.Z)(function*(){let t;do{t=e.$c,yield t}while(t!==e.$c)})()}Xc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((t,a)=>t.targetTimeMs-a.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function Cc(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const a=e;for(const h of["next","error","complete"])if(h in a&&"function"==typeof a[h])return!0;return!1}(i)}class Pu{constructor(){this._progressObserver={},this._taskCompletionResolver=new ws,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,a){this._progressObserver={next:e,error:t,complete:a}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Ds extends Zd{constructor(e,t,a,h){super(e,t,a,h),this.type="firestore",this._queue=new Qh,this._persistenceKey=h?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Xl(this),this._firestoreClient.terminate()}}function po(i){return i._firestoreClient||Xl(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Xl(i){var e;const t=i._freezeSettings(),a=(m=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new G(i._databaseId,m,i._persistenceKey,(R=t).host,R.ssl,R.experimentalForceLongPolling,R.experimentalAutoDetectLongPolling,R.useFetchStreams));var m,R;i._firestoreClient=new ad(i._authCredentials,i._appCheckCredentials,i._queue,a)}function Xc(i,e,t){const a=new ws;return i.asyncQueue.enqueue((0,Se.Z)(function*(){try{yield Tm(i,t),yield Hh(i,e),a.resolve()}catch(h){const m=h;if(!("FirebaseError"===(w=m).name?w.code===Vt.FAILED_PRECONDITION||w.code===Vt.UNIMPLEMENTED:!(typeof DOMException<"u"&&w instanceof DOMException)||22===w.code||20===w.code||11===w.code))throw m;Oi("Error enabling offline persistence. Falling back to persistence disabled: "+m),a.reject(m)}var w})).then(()=>a.promise)}function ud(i){if(i._initialized||i._terminated)throw new Zt(Vt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Va{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Zt(Vt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new di(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class fa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fa(Ni.fromBase64String(e))}catch(t){throw new Zt(Vt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new fa(Ni.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Nl{constructor(e){this._methodName=e}}class nf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Zt(Vt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Zt(Vt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return cr(this._lat,e._lat)||cr(this._long,e._long)}}const Fm=/^__.*__$/;class Lm{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return null!==this.fieldMask?new zl(e,this.data,this.fieldMask,t,this.fieldTransforms):new cc(e,this.data,t,this.fieldTransforms)}}class Og{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return new zl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Bm(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw On()}}class c{constructor(e,t,a,h,m,w){this.settings=e,this.databaseId=t,this.It=a,this.ignoreUndefinedProperties=h,void 0===m&&this.ea(),this.fieldTransforms=m||[],this.fieldMask=w||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new c(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var t;const a=null===(t=this.path)||void 0===t?void 0:t.child(e),h=this.sa({path:a,ra:!1});return h.oa(e),h}ua(e){var t;const a=null===(t=this.path)||void 0===t?void 0:t.child(e),h=this.sa({path:a,ra:!1});return h.ea(),h}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return Ls(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(Bm(this.na)&&Fm.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class s{constructor(e,t,a){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=a||Hf(e)}fa(e,t,a,h=!1){return new c({na:e,methodName:t,la:a,path:di.emptyPath(),ra:!1,ha:h},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function l(i){const e=i._freezeSettings(),t=Hf(i._databaseId);return new s(i._databaseId,!!e.ignoreUndefinedProperties,t)}function f(i,e,t,a,h,m={}){const w=i.fa(m.merge||m.mergeFields?2:0,e,t,h);Qr("Data must be an object, but it was:",w,a);const R=Sn(a,w);let Y,Z;if(m.merge)Y=new Ki(w.fieldMask),Z=w.fieldTransforms;else if(m.mergeFields){const Te=[];for(const it of m.mergeFields){const kt=Ts(e,it,t);if(!w.contains(kt))throw new Zt(Vt.INVALID_ARGUMENT,`Field '${kt}' is specified in your field mask but missing from your input data.`);Ou(Te,kt)||Te.push(kt)}Y=new Ki(Te),Z=w.fieldTransforms.filter(it=>Y.covers(it.field))}else Y=null,Z=w.fieldTransforms;return new Lm(new us(R),Y,Z)}class y extends Nl{_toFieldTransform(e){if(2!==e.na)throw e.aa(1===e.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof y}}function T(i,e,t){return new c({na:3,la:e.settings.la,methodName:i._methodName,ra:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class k extends Nl{_toFieldTransform(e){return new $u(e.path,new Oc)}isEqual(e){return e instanceof k}}class Q extends Nl{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=T(this,e,!0),a=this.da.map(m=>an(m,t)),h=new Fa(a);return new $u(e.path,h)}isEqual(e){return this===e}}class de extends Nl{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=T(this,e,!0),a=this.da.map(m=>an(m,t)),h=new Oo(a);return new $u(e.path,h)}isEqual(e){return this===e}}class Fe extends Nl{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=new lc(e.It,vp(e.It,this._a));return new $u(e.path,t)}isEqual(e){return this===e}}function wt(i,e,t,a){const h=i.fa(1,e,t);Qr("Data must be an object, but it was:",h,a);const m=[],w=us.empty();Es(a,(Y,Z)=>{const Te=ds(e,Y,t);Z=(0,rt.m9)(Z);const it=h.ua(Te);if(Z instanceof y)m.push(Te);else{const kt=an(Z,it);null!=kt&&(m.push(Te),w.set(Te,kt))}});const R=new Ki(m);return new Og(w,R,h.fieldTransforms)}function vt(i,e,t,a,h,m){const w=i.fa(1,e,t),R=[Ts(e,a,t)],Y=[h];if(m.length%2!=0)throw new Zt(Vt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let kt=0;kt<m.length;kt+=2)R.push(Ts(e,m[kt])),Y.push(m[kt+1]);const Z=[],Te=us.empty();for(let kt=R.length-1;kt>=0;--kt)if(!Ou(Z,R[kt])){const Kt=R[kt];let Xt=Y[kt];Xt=(0,rt.m9)(Xt);const Mn=w.ua(Kt);if(Xt instanceof y)Z.push(Kt);else{const ir=an(Xt,Mn);null!=ir&&(Z.push(Kt),Te.set(Kt,ir))}}const it=new Ki(Z);return new Og(Te,it,w.fieldTransforms)}function Ft(i,e,t,a=!1){return an(t,i.fa(a?4:3,e))}function an(i,e){if(Br(i=(0,rt.m9)(i)))return Qr("Unsupported field value:",e,i),Sn(i,e);if(i instanceof Nl)return function(t,a){if(!Bm(a.na))throw a.aa(`${t._methodName}() can only be used with update() and set()`);if(!a.path)throw a.aa(`${t._methodName}() is not currently supported inside arrays`);const h=t._toFieldTransform(a);h&&a.fieldTransforms.push(h)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(t,a){const h=[];let m=0;for(const w of t){let R=an(w,a.ca(m));null==R&&(R={nullValue:"NULL_VALUE"}),h.push(R),m++}return{arrayValue:{values:h}}}(i,e)}return function(t,a){if(null===(t=(0,rt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return vp(a.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const h=si.fromDate(t);return{timestampValue:ba(a.It,h)}}if(t instanceof si){const h=new si(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ba(a.It,h)}}if(t instanceof nf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof fa)return{bytesValue:hc(a.It,t._byteString)};if(t instanceof Cs){const h=a.databaseId,m=t.firestore._databaseId;if(!m.isEqual(h))throw a.aa(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Al(t.firestore._databaseId||a.databaseId,t._key.path)}}throw a.aa(`Unsupported field value: ${op(t)}`)}(i,e)}function Sn(i,e){const t={};return Pa(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Es(i,(a,h)=>{const m=an(h,e.ia(a));null!=m&&(t[a]=m)}),{mapValue:{fields:t}}}function Br(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof si||i instanceof nf||i instanceof fa||i instanceof Cs||i instanceof Nl)}function Qr(i,e,t){if(!Br(t)||"object"!=typeof(a=t)||null===a||Object.getPrototypeOf(a)!==Object.prototype&&null!==Object.getPrototypeOf(a)){const a=op(t);throw e.aa("an object"===a?i+" a custom object":i+" "+a)}var a}function Ts(i,e,t){if((e=(0,rt.m9)(e))instanceof Va)return e._internalPath;if("string"==typeof e)return ds(i,e);throw Ls("Field path arguments must be of type string or ",i,!1,void 0,t)}const lo=new RegExp("[~\\*/\\[\\]]");function ds(i,e,t){if(e.search(lo)>=0)throw Ls(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Va(...e.split("."))._internalPath}catch{throw Ls(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Ls(i,e,t,a,h){const m=a&&!a.isEmpty(),w=void 0!==h;let R=`Function ${e}() called with invalid data`;t&&(R+=" (via `toFirestore()`)"),R+=". ";let Y="";return(m||w)&&(Y+=" (found",m&&(Y+=` in field ${a}`),w&&(Y+=` in document ${h}`),Y+=")"),new Zt(Vt.INVALID_ARGUMENT,R+i+Y)}function Ou(i,e){return i.some(t=>t.isEqual(e))}class Jl{constructor(e,t,a,h,m){this._firestore=e,this._userDataWriter=t,this._key=a,this._document=h,this._converter=m}get id(){return this._key.path.lastSegment()}get ref(){return new Cs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new rf(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Jc("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class rf extends Jl{data(){return super.data()}}function Jc(i,e){return"string"==typeof e?ds(i,e):e instanceof Va?e._internalPath:e._delegate._internalPath}class eu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Nu extends Jl{constructor(e,t,a,h,m,w){super(e,t,a,h,w),this._firestore=e,this._firestoreImpl=e,this.metadata=m}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new cp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const a=this._document.data.field(Jc("DocumentSnapshot.get",e));if(null!==a)return this._userDataWriter.convertValue(a,t.serverTimestamps)}}}class cp extends Nu{data(e={}){return super.data(e)}}class dd{constructor(e,t,a,h){this._firestore=e,this._userDataWriter=t,this._snapshot=h,this.metadata=new eu(h.hasPendingWrites,h.fromCache),this.query=a}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(a=>{e.call(t,new cp(this._firestore,this._userDataWriter,a.key,a,new eu(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Zt(Vt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,h){if(a._snapshot.oldDocs.isEmpty()){let m=0;return a._snapshot.docChanges.map(w=>({type:"added",doc:new cp(a._firestore,a._userDataWriter,w.doc.key,w.doc,new eu(a._snapshot.mutatedKeys.has(w.doc.key),a._snapshot.fromCache),a.query.converter),oldIndex:-1,newIndex:m++}))}{let m=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(w=>h||3!==w.type).map(w=>{const R=new cp(a._firestore,a._userDataWriter,w.doc.key,w.doc,new eu(a._snapshot.mutatedKeys.has(w.doc.key),a._snapshot.fromCache),a.query.converter);let Y=-1,Z=-1;return 0!==w.type&&(Y=m.indexOf(w.doc.key),m=m.delete(w.doc.key)),1!==w.type&&(m=m.add(w.doc),Z=m.indexOf(w.doc.key)),{type:sv(w.type),doc:R,oldIndex:Y,newIndex:Z}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function sv(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return On()}}function ov(i,e){return i instanceof Nu&&e instanceof Nu?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof dd&&e instanceof dd&&i._firestore===e._firestore&&Zh(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function Iy(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Zt(Vt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class up{}function ku(i,...e){for(const t of e)i=t._apply(i);return i}class by extends up{constructor(e,t,a){super(),this.wa=e,this.ma=t,this.ga=a,this.type="where"}_apply(e){const t=l(e.firestore),a=function(h,m,w,R,Y,Z,Te){let it;if(Y.isKeyField()){if("array-contains"===Z||"array-contains-any"===Z)throw new Zt(Vt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Z}' queries on documentId().`);if("in"===Z||"not-in"===Z){Ty(Te,Z);const Kt=[];for(const Xt of Te)Kt.push(Lo(R,h,Xt));it={arrayValue:{values:Kt}}}else it=Lo(R,h,Te)}else"in"!==Z&&"not-in"!==Z&&"array-contains-any"!==Z||Ty(Te,Z),it=Ft(w,"where",Te,"in"===Z||"not-in"===Z);const kt=Us.create(Y,Z,it);return function(Kt,Xt){if(Xt.dt()){const ir=uu(Kt);if(null!==ir&&!ir.isEqual(Xt.field))throw new Zt(Vt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ir.toString()}' and '${Xt.field.toString()}'`);const Si=xc(Kt);null!==Si&&mv(0,Xt.field,Si)}const Mn=function(ir,Si){for(const ms of ir.filters)if(Si.indexOf(ms.op)>=0)return ms.op;return null}(Kt,function(ir){switch(ir){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Xt.op));if(null!==Mn)throw new Zt(Vt.INVALID_ARGUMENT,Mn===Xt.op?`Invalid query. You cannot use more than one '${Xt.op.toString()}' filter.`:`Invalid query. You cannot use '${Xt.op.toString()}' filters with '${Mn.toString()}' filters.`)}(h,kt),kt}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new ta(e.firestore,e.converter,function(h,m){const w=h.filters.concat([m]);return new oc(h.path,h.collectionGroup,h.explicitOrderBy.slice(),w,h.limit,h.limitType,h.startAt,h.endAt)}(e._query,a))}}class lv extends up{constructor(e,t){super(),this.wa=e,this.ya=t,this.type="orderBy"}_apply(e){const t=function(a,h,m){if(null!==a.startAt)throw new Zt(Vt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==a.endAt)throw new Zt(Vt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const w=new sc(h,m);return function(R,Y){if(null===xc(R)){const Z=uu(R);null!==Z&&mv(0,Z,Y.field)}}(a,w),w}(e._query,this.wa,this.ya);return new ta(e.firestore,e.converter,function(a,h){const m=a.explicitOrderBy.concat([h]);return new oc(a.path,a.collectionGroup,m,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}class Cy extends up{constructor(e,t,a){super(),this.type=e,this.pa=t,this.Ia=a}_apply(e){return new ta(e.firestore,e.converter,hu(e._query,this.pa,this.Ia))}}class Dy extends up{constructor(e,t,a){super(),this.type=e,this.Ta=t,this.Ea=a}_apply(e){const t=gv(e,this.type,this.Ta,this.Ea);return new ta(e.firestore,e.converter,(h=t,new oc((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,h,a.endAt)));var a,h}}class fv extends up{constructor(e,t,a){super(),this.type=e,this.Ta=t,this.Ea=a}_apply(e){const t=gv(e,this.type,this.Ta,this.Ea);return new ta(e.firestore,e.converter,(h=t,new oc((a=e._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,h)));var a,h}}function gv(i,e,t,a){if(t[0]=(0,rt.m9)(t[0]),t[0]instanceof Jl)return function(h,m,w,R,Y){if(!R)throw new Zt(Vt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${w}().`);const Z=[];for(const Te of du(h))if(Te.field.isKeyField())Z.push(ar(m,R.key));else{const it=R.data.field(Te.field);if(A(it))throw new Zt(Vt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Te.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===it){const kt=Te.field.canonicalString();throw new Zt(Vt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${kt}' (used as the orderBy) does not exist.`)}Z.push(it)}return new _a(Z,Y)}(i._query,i.firestore._databaseId,e,t[0]._document,a);{const h=l(i.firestore);return function(m,w,R,Y,Z,Te){const it=m.explicitOrderBy;if(Z.length>it.length)throw new Zt(Vt.INVALID_ARGUMENT,`Too many arguments provided to ${Y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const kt=[];for(let Kt=0;Kt<Z.length;Kt++){const Xt=Z[Kt];if(it[Kt].field.isKeyField()){if("string"!=typeof Xt)throw new Zt(Vt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${Y}(), but got a ${typeof Xt}`);if(!Mc(m)&&-1!==Xt.indexOf("/"))throw new Zt(Vt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${Y}() must be a plain document ID, but '${Xt}' contains a slash.`);const Mn=m.path.child(pr.fromString(Xt));if(!dn.isDocumentKey(Mn))throw new Zt(Vt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${Y}() must result in a valid document path, but '${Mn}' is not because it contains an odd number of segments.`);const ir=new dn(Mn);kt.push(ar(w,ir))}else{const Mn=Ft(R,Y,Xt);kt.push(Mn)}}return new _a(kt,Te)}(i._query,i.firestore._databaseId,h,e,t,a)}}function Lo(i,e,t){if("string"==typeof(t=(0,rt.m9)(t))){if(""===t)throw new Zt(Vt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Mc(e)&&-1!==t.indexOf("/"))throw new Zt(Vt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const a=e.path.child(pr.fromString(t));if(!dn.isDocumentKey(a))throw new Zt(Vt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return ar(i,new dn(a))}if(t instanceof Cs)return ar(i,t._key);throw new Zt(Vt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${op(t)}.`)}function Ty(i,e){if(!Array.isArray(i)||0===i.length)throw new Zt(Vt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new Zt(Vt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function mv(i,e,t){if(!t.isEqual(e))throw new Zt(Vt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const qv={maxAttempts:5};class Vm{convertValue(e,t="none"){switch(te(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(S(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw On()}}convertObject(e,t){const a={};return Es(e.fields,(h,m)=>{a[h]=this.convertValue(m,t)}),a}convertGeoPoint(e){return new nf(gi(e.latitude),gi(e.longitude))}convertArray(e,t){return(e.values||[]).map(a=>this.convertValue(a,t))}convertServerTimestamp(e,t){switch(t){case"previous":const a=I(e);return null==a?null:this.convertValue(a,t);case"estimate":return this.convertTimestamp(F(e));default:return null}}convertTimestamp(e){const t=Zo(e);return new si(t.seconds,t.nanos)}convertDocumentKey(e,t){const a=pr.fromString(e);or(Wu(a));const h=new le(a.get(1),a.get(3)),m=new dn(a.popFirst(5));return h.isEqual(t)||Zr(`Document ${m} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),m}}function $m(i,e,t){let a;return a=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,a}class yv extends Vm{constructor(e){super(),this.firestore=e}convertBytes(e){return new fa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Cs(this.firestore,null,t)}}class Sy{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=l(e)}set(e,t,a){this._verifyNotCommitted();const h=ec(e,this._firestore),m=$m(h.converter,t,a),w=f(this._dataReader,"WriteBatch.set",h._key,m,null!==h.converter,a);return this._mutations.push(w.toMutation(h._key,es.none())),this}update(e,t,a,...h){this._verifyNotCommitted();const m=ec(e,this._firestore);let w;return w="string"==typeof(t=(0,rt.m9)(t))||t instanceof Va?vt(this._dataReader,"WriteBatch.update",m._key,t,a,h):wt(this._dataReader,"WriteBatch.update",m._key,t),this._mutations.push(w.toMutation(m._key,es.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ec(e,this._firestore);return this._mutations=this._mutations.concat(new uc(t._key,es.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Zt(Vt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ec(i,e){if((i=(0,rt.m9)(i)).firestore!==e)throw new Zt(Vt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class sf extends Vm{constructor(e){super(),this.firestore=e}convertBytes(e){return new fa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Cs(this.firestore,null,t)}}function Um(i,e,t){i=mi(i,Cs);const a=mi(i.firestore,Ds),h=$m(i.converter,e,t);return $a(a,[f(l(a),"setDoc",i._key,h,null!==i.converter,t).toMutation(i._key,es.none())])}function tu(i,e,t,...a){i=mi(i,Cs);const h=mi(i.firestore,Ds),m=l(h);let w;return w="string"==typeof(e=(0,rt.m9)(e))||e instanceof Va?vt(m,"updateDoc",i._key,e,t,a):wt(m,"updateDoc",i._key,e),$a(h,[w.toMutation(i._key,es.exists(!0))])}function nu(i,...e){var t,a,h;i=(0,rt.m9)(i);let m={includeMetadataChanges:!1},w=0;"object"!=typeof e[w]||Cc(e[w])||(m=e[w],w++);const R={includeMetadataChanges:m.includeMetadataChanges};if(Cc(e[w])){const it=e[w];e[w]=null===(t=it.next)||void 0===t?void 0:t.bind(it),e[w+1]=null===(a=it.error)||void 0===a?void 0:a.bind(it),e[w+2]=null===(h=it.complete)||void 0===h?void 0:h.bind(it)}let Y,Z,Te;if(i instanceof Cs)Z=mi(i.firestore,Ds),Te=ac(i._key.path),Y={next:it=>{e[w]&&e[w](Hm(Z,i,it))},error:e[w+1],complete:e[w+2]};else{const it=mi(i,ta);Z=mi(it.firestore,Ds),Te=it._query;const kt=new sf(Z);Y={next:Kt=>{e[w]&&e[w](new dd(Z,kt,it,Kt))},error:e[w+1],complete:e[w+2]},Iy(i._query)}return function(it,kt,Kt,Xt){const Mn=new ep(Xt),ir=new _m(kt,Mn,Kt);return it.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return ql(yield ld(it),ir)})),()=>{Mn.Rc(),it.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return Mu(yield ld(it),ir)}))}}(po(Z),Te,R,Y)}function $a(i,e){return function(t,a){const h=new ws;return t.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function hy(i,e,t){return Zf.apply(this,arguments)}(yield sp(t),a,h)})),h.promise}(po(i),e)}function Hm(i,e,t){const a=t.docs.get(e._key),h=new sf(i);return new Nu(i,h,e._key,a,new eu(t.hasPendingWrites,t.fromCache),e.converter)}class Ev extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=l(e)}get(e){const t=ec(e,this._firestore),a=new yv(this._firestore);return this._transaction.lookup([t._key]).then(h=>{if(!h||1!==h.length)return On();const m=h[0];if(m.isFoundDocument())return new Jl(this._firestore,a,m.key,m,t.converter);if(m.isNoDocument())return new Jl(this._firestore,a,t._key,null,t.converter);throw On()})}set(e,t,a){const h=ec(e,this._firestore),m=$m(h.converter,t,a),w=f(this._dataReader,"Transaction.set",h._key,m,null!==h.converter,a);return this._transaction.set(h._key,w),this}update(e,t,a,...h){const m=ec(e,this._firestore);let w;return w="string"==typeof(t=(0,rt.m9)(t))||t instanceof Va?vt(this._dataReader,"Transaction.update",m._key,t,a,h):wt(this._dataReader,"Transaction.update",m._key,t),this._transaction.update(m._key,w),this}delete(e){const t=ec(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ec(e,this._firestore),a=new sf(this._firestore);return super.get(e).then(h=>new Nu(this._firestore,a,t._key,h._document,new eu(!1,!1),t.converter))}}function dp(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Zt("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function Dv(){if(typeof Uint8Array>"u")throw new Zt("unimplemented","Uint8Arrays are not available in this environment.")}function xy(){if(!function jl(){return typeof atob<"u"}())throw new Zt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){zo=Dt.SDK_VERSION,(0,Dt._registerComponent)(new bt.wA("firestore",(t,{instanceIdentifier:a,options:h})=>{const m=t.getProvider("app").getImmediate(),w=new Ds(new ml(t.getProvider("auth-internal")),new yl(t.getProvider("app-check-internal")),function(R,Y){if(!Object.prototype.hasOwnProperty.apply(R.options,["projectId"]))throw new Zt(Vt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new le(R.options.projectId,Y)}(m,a),m);return h=Object.assign({useFetchStreams:e},h),w._setSettings(h),w},"PUBLIC").setMultipleInstances(!0)),(0,Dt.registerVersion)(as,"3.5.0",i),(0,Dt.registerVersion)(as,"3.5.0","esm2017")}();class hp{constructor(e){this._delegate=e}static fromBase64String(e){return xy(),new hp(fa.fromBase64String(e))}static fromUint8Array(e){return Dv(),new hp(fa.fromUint8Array(e))}toBase64(){return xy(),this._delegate.toBase64()}toUint8Array(){return Dv(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function kg(i){return function jm(i,e){if("object"!=typeof i||null===i)return!1;const t=i;for(const a of e)if(a in t&&"function"==typeof t[a])return!0;return!1}(i,["next","error","complete"])}class Tv{enableIndexedDbPersistence(e,t){return function Xh(i,e){ud(i=mi(i,Ds));const t=po(i),a=i._freezeSettings(),h=new Pl;return Xc(t,h,new Dm(h,a.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function ha(i){ud(i=mi(i,Ds));const e=po(i),t=i._freezeSettings(),a=new Pl;return Xc(e,a,new yy(a,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function cd(i){if(i._initialized&&!i._terminated)throw new Zt(Vt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ws;return i._queue.enqueueAndForgetEvenWhileRestricted((0,Se.Z)(function*(){try{yield(t=(0,Se.Z)(function*(a){if(!ls.C())return Promise.resolve();const h=a+"main";yield ls.delete(h)}),function(a){return t.apply(this,arguments)})(zp(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class My{constructor(e,t,a){this._delegate=t,this._persistenceProvider=a,this.INTERNAL={delete:()=>this.terminate()},e instanceof le||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Oi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,a={}){!function ap(i,e,t,a={}){var h;const m=(i=mi(i,Zd))._getSettings();if("firestore.googleapis.com"!==m.host&&m.host!==e&&Oi("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},m),{host:`${e}:${t}`,ssl:!1})),a.mockUserToken){let w,R;if("string"==typeof a.mockUserToken)w=a.mockUserToken,R=Yi.MOCK_USER;else{w=(0,rt.Sg)(a.mockUserToken,null===(h=i._app)||void 0===h?void 0:h.options.projectId);const Y=a.mockUserToken.sub||a.mockUserToken.user_id;if(!Y)throw new Zt(Vt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new Yi(Y)}i._authCredentials=new ma(new ca(w,R))}}(this._delegate,e,t,a)}enableNetwork(){return function Pg(i){return function Mg(i){return i.asyncQueue.enqueue((0,Se.Z)(function*(){const e=yield Gh(i),t=yield xg(i);return e.setNetworkEnabled(!0),function(a){const h=bn(a);return h._u.delete(0),Ld(h)}(t)}))}(po(i=mi(i,Ds)))}(this._delegate)}disableNetwork(){return function Xd(i){return function Qc(i){return i.asyncQueue.enqueue((0,Se.Z)(function*(){const e=yield Gh(i),t=yield xg(i);return e.setNetworkEnabled(!1),(a=(0,Se.Z)(function*(h){const m=bn(h);m._u.add(0),yield Vd(m),m.gu.set("Offline")}),function(h){return a.apply(this,arguments)})(t);var a}))}(po(i=mi(i,Ds)))}(this._delegate)}enablePersistence(e){let t=!1,a=!1;return e&&(t=!!e.synchronizeTabs,a=!!e.experimentalForceOwningTab,nv("synchronizeTabs",t,"experimentalForceOwningTab",a)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,a)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Ol(i){return function(e){const t=new ws;return e.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function Im(i,e){return jd.apply(this,arguments)}(yield sp(e),t)})),t.promise}(po(i=mi(i,Ds)))}(this._delegate)}onSnapshotsInSync(e){return function ru(i,e){return function Kh(i,e){const t=new ep(e);return i.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return a=yield ld(i),h=t,bn(a).Ru.add(h),void h.next();var a,h})),()=>{t.Rc(),i.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return a=yield ld(i),h=t,void bn(a).Ru.delete(h);var a,h}))}}(po(i=mi(i,Ds)),Cc(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Zt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new fp(this,Ey(this._delegate,e))}catch(t){throw hl(t,"collection()","Firestore.collection()")}}doc(e){try{return new tc(this,lp(this._delegate,e))}catch(t){throw hl(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new fl(this,function rv(i,e){if(i=mi(i,Zd),Mm("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Zt(Vt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ta(i,null,(t=e,new oc(pr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw hl(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function e_(i,e,t){i=mi(i,Ds);const a=Object.assign(Object.assign({},qv),t);return function(h){if(h.maxAttempts<1)throw new Zt(Vt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(a),function Rg(i,e,t){const a=new ws;return i.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){const h=yield(m=i,rp(m).then(w=>w.datastore));var m;new tp(i.asyncQueue,h,t,e,a).run()})),a.promise}(po(i),h=>e(new Ev(i,h)),a)}(this._delegate,t=>e(new Ry(this,t)))}batch(){return po(this._delegate),new Py(new Sy(this._delegate,e=>$a(this._delegate,e)))}loadBundle(e){return function Jd(i,e){const t=po(i=mi(i,Ds)),a=new Pu;return function Am(i,e,t,a){const h=function(m,w){let R;return R="string"==typeof m?(new TextEncoder).encode(m):m,Y=function(Y,Z){if(Y instanceof Uint8Array)return Tg(Y,Z);if(Y instanceof ArrayBuffer)return Tg(new Uint8Array(Y),Z);if(Y instanceof ReadableStream)return Y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(R),new vy(Y,w);var Y}(t,Hf(e));i.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){!function Ta(i,e,t){const a=bn(i);var h;(h=(0,Se.Z)(function*(m,w,R){try{const Y=yield w.getMetadata();if(yield function(kt,Kt){const Xt=bn(kt),Mn=Gs(Kt.createTime);return Xt.persistence.runTransaction("hasNewerBundle","readonly",ir=>Xt.Ns.getBundleMetadata(ir,Kt.id)).then(ir=>!!ir&&ir.createTime.compareTo(Mn)>=0)}(m.localStore,Y))return yield w.close(),R._completeWith({taskState:"Success",documentsLoaded:(kt=Y).totalDocuments,bytesLoaded:kt.totalBytes,totalDocuments:kt.totalDocuments,totalBytes:kt.totalBytes}),Promise.resolve(new Set);R._updateProgress(dy(Y));const Z=new tv(Y,m.localStore,w.It);let Te=yield w.wc();for(;Te;){const kt=yield Z.Ou(Te);kt&&R._updateProgress(kt),Te=yield w.wc()}const it=yield Z.complete();return yield Ic(m,it.Bu,void 0),yield function(kt,Kt){const Xt=bn(kt);return Xt.persistence.runTransaction("Save bundle","readwrite",Mn=>Xt.Ns.saveBundleMetadata(Mn,Kt))}(m.localStore,Y),R._completeWith(it.progress),Promise.resolve(it.$u)}catch(Y){return Oi("SyncEngine",`Loading bundle failed with ${Y}`),R._failWith(Y),Promise.resolve(new Set)}var kt}),function(m,w,R){return h.apply(this,arguments)})(a,e,t).then(h=>{a.sharedClientState.notifyBundleLoaded(h)})}(yield sp(i),h,a)}))}(t,i._databaseId,e,a),a}(this._delegate,e)}namedQuery(e){return function ef(i,e){return function xm(i,e){return i.asyncQueue.enqueue((0,Se.Z)(function*(){return function(t,a){const h=bn(t);return h.persistence.runTransaction("Get named query","readonly",m=>h.Ns.getNamedQuery(m,a))}(yield Ag(i),e)}))}(po(i=mi(i,Ds)),e).then(t=>t?new ta(i,null,t.query):null)}(this._delegate,e).then(t=>t?new fl(this,t):null)}}class Fg extends Vm{constructor(e){super(),this.firestore=e}convertBytes(e){return new hp(new fa(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return tc.forKey(t,this.firestore,null)}}class Ry{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Fg(e)}get(e){const t=af(e);return this._delegate.get(t).then(a=>new Lg(this._firestore,new Nu(this._firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,t.converter)))}set(e,t,a){const h=af(e);return a?(dp("Transaction.set",a),this._delegate.set(h,t,a)):this._delegate.set(h,t),this}update(e,t,a,...h){const m=af(e);return 2===arguments.length?this._delegate.update(m,t):this._delegate.update(m,t,a,...h),this}delete(e){const t=af(e);return this._delegate.delete(t),this}}class Py{constructor(e){this._delegate=e}set(e,t,a){const h=af(e);return a?(dp("WriteBatch.set",a),this._delegate.set(h,t,a)):this._delegate.set(h,t),this}update(e,t,a,...h){const m=af(e);return 2===arguments.length?this._delegate.update(m,t):this._delegate.update(m,t,a,...h),this}delete(e){const t=af(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class eh{constructor(e,t,a){this._firestore=e,this._userDataWriter=t,this._delegate=a}fromFirestore(e,t){const a=new cp(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Bg(this._firestore,a),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const a=eh.INSTANCES;let h=a.get(e);h||(h=new WeakMap,a.set(e,h));let m=h.get(t);return m||(m=new eh(e,new Fg(e),t),h.set(t,m)),m}}eh.INSTANCES=new WeakMap;class tc{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Fg(e)}static forPath(e,t,a){if(e.length%2!=0)throw new Zt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new tc(t,new Cs(t._delegate,a,new dn(e)))}static forKey(e,t,a){return new tc(t,new Cs(t._delegate,a,e))}get id(){return this._delegate.id}get parent(){return new fp(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new fp(this.firestore,Ey(this._delegate,e))}catch(t){throw hl(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,rt.m9)(e))instanceof Cs&&Nm(this._delegate,e)}set(e,t){t=dp("DocumentReference.set",t);try{return t?Um(this._delegate,e,t):Um(this._delegate,e)}catch(a){throw hl(a,"setDoc()","DocumentReference.set()")}}update(e,t,...a){try{return 1===arguments.length?tu(this._delegate,e):tu(this._delegate,e,t,...a)}catch(h){throw hl(h,"updateDoc()","DocumentReference.update()")}}delete(){return function Xv(i){return $a(mi(i.firestore,Ds),[new uc(i._key,es.none())])}(this._delegate)}onSnapshot(...e){const t=Av(e),a=xv(e,h=>new Lg(this.firestore,new Nu(this.firestore._delegate,this._userDataWriter,h._key,h._document,h.metadata,this._delegate.converter)));return nu(this._delegate,t,a)}get(e){let t;return t="cache"===e?.source?function vv(i){i=mi(i,Cs);const e=mi(i.firestore,Ds),t=po(e),a=new sf(e);return function Wh(i,e){const t=new ws;return i.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return(a=(0,Se.Z)(function*(h,m,w){try{const R=yield function(Y,Z){const Te=bn(Y);return Te.persistence.runTransaction("read document","readonly",it=>Te.localDocuments.getDocument(it,Z))}(h,m);R.isFoundDocument()?w.resolve(R):R.isNoDocument()?w.resolve(null):w.reject(new Zt(Vt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(R){const Y=Kc(R,`Failed to get document '${m} from cache`);w.reject(Y)}}),function(h,m,w){return a.apply(this,arguments)})(yield Ag(i),e,t);var a})),t.promise}(t,i._key).then(h=>new Nu(e,a,i._key,h,new eu(null!==h&&h.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===e?.source?function Qv(i){i=mi(i,Cs);const e=mi(i.firestore,Ds);return Yh(po(e),i._key,{source:"server"}).then(t=>Hm(e,i,t))}(this._delegate):function Zv(i){i=mi(i,Cs);const e=mi(i.firestore,Ds);return Yh(po(e),i._key).then(t=>Hm(e,i,t))}(this._delegate),t.then(a=>new Lg(this.firestore,new Nu(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)))}withConverter(e){return new tc(this.firestore,this._delegate.withConverter(e?eh.getInstance(this.firestore,e):null))}}function hl(i,e,t){return i.message=i.message.replace(e,t),i}function Av(i){for(const e of i)if("object"==typeof e&&!kg(e))return e;return{}}function xv(i,e){var t,a;let h;return h=kg(i[0])?i[0]:kg(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:m=>{h.next&&h.next(e(m))},error:null===(t=h.error)||void 0===t?void 0:t.bind(h),complete:null===(a=h.complete)||void 0===a?void 0:a.bind(h)}}class Lg{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new tc(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return ov(this._delegate,e._delegate)}}class Bg extends Lg{data(e){const t=this._delegate.data(e);return function gl(i,e){i||On()}(void 0!==t),t}}class fl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Fg(e)}where(e,t,a){try{return new fl(this.firestore,ku(this._delegate,function av(i,e,t){const a=e,h=Jc("where",i);return new by(h,a,t)}(e,t,a)))}catch(h){throw hl(h,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new fl(this.firestore,ku(this._delegate,function cv(i,e="asc"){const t=e,a=Jc("orderBy",i);return new lv(a,t)}(e,t)))}catch(a){throw hl(a,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new fl(this.firestore,ku(this._delegate,function uv(i){return Pm("limit",i),new Cy("limit",i,"F")}(e)))}catch(t){throw hl(t,"limit()","Query.limit()")}}limitToLast(e){try{return new fl(this.firestore,ku(this._delegate,function dv(i){return Pm("limitToLast",i),new Cy("limitToLast",i,"L")}(e)))}catch(t){throw hl(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new fl(this.firestore,ku(this._delegate,function hv(...i){return new Dy("startAt",i,!0)}(...e)))}catch(t){throw hl(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new fl(this.firestore,ku(this._delegate,function n0(...i){return new Dy("startAfter",i,!1)}(...e)))}catch(t){throw hl(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new fl(this.firestore,ku(this._delegate,function Kv(...i){return new fv("endBefore",i,!1)}(...e)))}catch(t){throw hl(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new fl(this.firestore,ku(this._delegate,function pv(...i){return new fv("endAt",i,!0)}(...e)))}catch(t){throw hl(t,"endAt()","Query.endAt()")}}isEqual(e){return Zh(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function r0(i){i=mi(i,ta);const e=mi(i.firestore,Ds),t=po(e),a=new sf(e);return function qd(i,e){const t=new ws;return i.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return(a=(0,Se.Z)(function*(h,m,w){try{const R=yield Ff(h,m,!0),Y=new Ud(m,R.Hi),Z=Y.ju(R.documents),Te=Y.applyChanges(Z,!1);w.resolve(Te.snapshot)}catch(R){const Y=Kc(R,`Failed to execute query '${m} against cache`);w.reject(Y)}}),function(h,m,w){return a.apply(this,arguments)})(yield Ag(i),e,t);var a})),t.promise}(t,i._query).then(h=>new dd(e,a,i,h))}(this._delegate):"server"===e?.source?function wv(i){i=mi(i,ta);const e=mi(i.firestore,Ds),t=po(e),a=new sf(e);return Sm(t,i._query,{source:"server"}).then(h=>new dd(e,a,i,h))}(this._delegate):function _v(i){i=mi(i,ta);const e=mi(i.firestore,Ds),t=po(e),a=new sf(e);return Iy(i._query),Sm(t,i._query).then(h=>new dd(e,a,i,h))}(this._delegate),t.then(a=>new Oy(this.firestore,new dd(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)))}onSnapshot(...e){const t=Av(e),a=xv(e,h=>new Oy(this.firestore,new dd(this.firestore._delegate,this._userDataWriter,this._delegate,h._snapshot)));return nu(this._delegate,t,a)}withConverter(e){return new fl(this.firestore,this._delegate.withConverter(e?eh.getInstance(this.firestore,e):null))}}class s_{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Bg(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Oy{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new fl(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Bg(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new s_(this._firestore,t))}forEach(e,t){this._delegate.forEach(a=>{e.call(t,new Bg(this._firestore,a))})}isEqual(e){return ov(this._delegate,e._delegate)}}class fp extends fl{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new tc(this.firestore,e):null}doc(e){try{return new tc(this.firestore,void 0===e?lp(this._delegate):lp(this._delegate,e))}catch(t){throw hl(t,"doc()","CollectionReference.doc()")}}add(e){return function Jv(i,e){const t=mi(i.firestore,Ds),a=lp(i),h=$m(i.converter,e);return $a(t,[f(l(i.firestore),"addDoc",a._key,h,null!==i.converter,{}).toMutation(a._key,es.exists(!1))]).then(()=>a)}(this._delegate,e).then(t=>new tc(this.firestore,t))}isEqual(e){return Nm(this._delegate,e._delegate)}withConverter(e){return new fp(this.firestore,this._delegate.withConverter(e?eh.getInstance(this.firestore,e):null))}}function af(i){return mi(i,Cs)}class Ny{constructor(...e){this._delegate=new Va(...e)}static documentId(){return new Ny(di.keyField().canonicalString())}isEqual(e){return(e=(0,rt.m9)(e))instanceof Va&&this._delegate._internalPath.isEqual(e._internalPath)}}class lf{constructor(e){this._delegate=e}static serverTimestamp(){const e=function n_(){return new k("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new lf(e)}static delete(){const e=function t_(){return new y("deleteField")}();return e._methodName="FieldValue.delete",new lf(e)}static arrayUnion(...e){const t=function r_(...i){return new Q("arrayUnion",i)}(...e);return t._methodName="FieldValue.arrayUnion",new lf(t)}static arrayRemove(...e){const t=function Ay(...i){return new de("arrayRemove",i)}(...e);return t._methodName="FieldValue.arrayRemove",new lf(t)}static increment(e){const t=function Ng(i){return new Fe("increment",i)}(e);return t._methodName="FieldValue.increment",new lf(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const o_={Firestore:My,GeoPoint:nf,Timestamp:si,Blob:hp,Transaction:Ry,WriteBatch:Py,DocumentReference:tc,DocumentSnapshot:Lg,Query:fl,QueryDocumentSnapshot:Bg,QuerySnapshot:Oy,CollectionReference:fp,FieldPath:Ny,FieldValue:lf,setLogLevel:function Sv(i){!function la(i){Pi.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function l_(i){(function a_(i,e){i.INTERNAL.registerComponent(new bt.wA("firestore-compat",t=>{const a=t.getProvider("app-compat").getImmediate(),h=t.getProvider("firestore").getImmediate();return e(a,h)},"PUBLIC").setServiceProps(Object.assign({},o_)))})(i,(e,t)=>new My(e,t,new Tv)),i.registerVersion("@firebase/firestore-compat","0.1.25")}(St.Z);var th=O(4941),c_=O(440),u_=O(127);function ky(i,e){return function Mv(i,e=X.z){return new W.y(t=>{let a;return null!=e?e.schedule(()=>{a=i.onSnapshot({includeMetadataChanges:!0},t)}):a=i.onSnapshot({includeMetadataChanges:!0},t),()=>{a?.()}})}(i,e)}function Gm(i,e){return ky(i,e).pipe((0,ne.U)(t=>({payload:t,type:"query"})))}function Vg(i,e){return Gm(i,e).pipe((0,fe.O)(void 0),Ee(),(0,ne.U)(([t,a])=>{const h=a.payload.docChanges(),m=h.map(w=>({type:w.type,payload:w}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(a.payload.metadata)&&a.payload.docs.forEach((w,R)=>{const Y=h.find(Te=>Te.doc.ref.isEqual(w.ref)),Z=t?.payload.docs.find(Te=>Te.ref.isEqual(w.ref));Y&&JSON.stringify(Y.doc.metadata)===JSON.stringify(w.metadata)||!Y&&Z&&JSON.stringify(Z.metadata)===JSON.stringify(w.metadata)||m.push({type:"modified",payload:{oldIndex:R,newIndex:R,type:"modified",doc:w}})}),m}))}function Fy(i,e,t){return Vg(i,t).pipe((0,pe.R)((a,h)=>function Pv(i,e,t){return e.forEach(a=>{t.indexOf(a.type)>-1&&(i=function Ov(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return zm(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return zm(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return zm(i,e.oldIndex,1)}return i}(i,a))}),i}(a,h.map(m=>m.payload),e),[]),(0,He.x)(),(0,ne.U)(a=>a.map(h=>({type:h.type,payload:h}))))}function zm(i,e,t,...a){const h=i.slice();return h.splice(e,t,...a),h}function Ly(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class By{constructor(e,t,a){this.ref=e,this.query=t,this.afs=a}stateChanges(e){let t=Vg(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ne.U)(a=>a.filter(h=>e.indexOf(h.type)>-1)))),t.pipe((0,fe.O)(void 0),Ee(),(0,Qe.h)(([a,h])=>h.length>0||!a),(0,ne.U)(([a,h])=>h),J.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,pe.R)((t,a)=>[...t,...a],[]))}snapshotChanges(e){const t=Ly(e);return Fy(this.query,t,this.afs.schedulers.outsideAngular).pipe(J.iC)}valueChanges(e={}){return Gm(this.query,this.afs.schedulers.outsideAngular).pipe((0,ne.U)(t=>t.payload.docs.map(a=>e.idField?Object.assign(Object.assign({},a.data()),{[e.idField]:a.id}):a.data())),J.iC)}get(e){return(0,Be.D)(this.query.get(e)).pipe(J.iC)}add(e){return this.ref.add(e)}doc(e){return new nh(this.ref.doc(e),this.afs)}}class nh{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const a=this.ref.collection(e),{ref:h,query:m}=h_(a,t);return new By(h,m,this.afs)}snapshotChanges(){return function Rv(i,e){return ky(i,e).pipe((0,fe.O)(void 0),Ee(),(0,ne.U)(([t,a])=>a.exists?t?.exists?{payload:a,type:"modified"}:{payload:a,type:"added"}:{payload:a,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(J.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ne.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Be.D)(this.ref.get(e)).pipe(J.iC)}}class d_{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Vg(this.query,this.afs.schedulers.outsideAngular).pipe((0,ne.U)(t=>t.filter(a=>e.indexOf(a.type)>-1)),(0,Qe.h)(t=>t.length>0),J.iC):Vg(this.query,this.afs.schedulers.outsideAngular).pipe(J.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,pe.R)((t,a)=>[...t,...a],[]))}snapshotChanges(e){const t=Ly(e);return Fy(this.query,t,this.afs.schedulers.outsideAngular).pipe(J.iC)}valueChanges(e={}){return Gm(this.query,this.afs.schedulers.outsideAngular).pipe((0,ne.U)(a=>a.payload.docs.map(h=>e.idField?Object.assign({[e.idField]:h.id},h.data()):h.data())),J.iC)}get(e){return(0,Be.D)(this.query.get(e)).pipe(J.iC)}}const Nv=new u.OlP("angularfire2.enableFirestorePersistence"),cf=new u.OlP("angularfire2.firestore.persistenceSettings"),o0=new u.OlP("angularfire2.firestore.settings"),Vy=new u.OlP("angularfire2.firestore.use-emulator");function h_(i,e=(t=>t)){return{query:e(i),ref:i}}let $y=(()=>{class i{constructor(t,a,h,m,w,R,Y,Z,Te,it,kt,Kt,Xt,Mn,ir,Si,ms){this.schedulers=Y;const ts=(0,Ve.on)(t,R,a),co=Te;it&&(0,th.nw)(ts,R,kt,Xt,Mn,ir,Kt,Si),[this.firestore,this.persistenceEnabled$]=(0,Ve.cc)(`${ts.name}.firestore`,"AngularFirestore",ts.name,()=>{const wi=R.runOutsideAngular(()=>ts.firestore());if(m&&wi.settings(m),co&&wi.useEmulator(...co),h&&!(0,ke.PM)(w)){const is=()=>{try{return(0,Be.D)(wi.enablePersistence(Z||void 0).then(()=>!0,()=>!1))}catch(na){return typeof console<"u"&&console.warn(na),(0,Ne.of)(!1)}};return[wi,R.runOutsideAngular(is)]}return[wi,(0,Ne.of)(!1)]},[m,co,h])}collection(t,a){let h;h="string"==typeof t?this.firestore.collection(t):t;const{ref:m,query:w}=h_(h,a),R=this.schedulers.ngZone.run(()=>m);return new By(R,w,this)}collectionGroup(t,a){const h=a||(w=>w),m=this.firestore.collectionGroup(t);return new d_(h(m),this)}doc(t){let a;a="string"==typeof t?this.firestore.doc(t):t;const h=this.schedulers.ngZone.run(()=>a);return new nh(h,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(u.LFG(Ve.Dh),u.LFG(Ve.xv,8),u.LFG(Nv,8),u.LFG(o0,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(J.HU),u.LFG(cf,8),u.LFG(Vy,8),u.LFG(th.zQ,8),u.LFG(th.Qv,8),u.LFG(th.L6,8),u.LFG(th._Q,8),u.LFG(th.rT,8),u.LFG(th.lh,8),u.LFG(th.f7,8),u.LFG(c_.nm,8))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),kv=(()=>{class i{constructor(){u_.Z.registerVersion("angularfire",J.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:i,providers:[{provide:Nv,useValue:!0},{provide:cf,useValue:t}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({providers:[$y]}),i})()},2011:(ln,pt,O)=>{"use strict";O.d(pt,{Dh:()=>ve,GT:()=>J,cc:()=>He,hO:()=>pe,on:()=>ie,pX:()=>Ne,xv:()=>Ee});var u=O(4650),X=O(127),W=O(6351);ln=O.hmd(ln);const Be=["ngOnDestroy"],Ne=(ze,St,Se,Dt={})=>new Proxy(ze,{get:(bt,Mt)=>Se.runOutsideAngular(()=>{var rt;if(ze[Mt])return!(null===(rt=Dt?.spy)||void 0===rt)&&rt.get&&Dt.spy.get(Mt,ze[Mt]),ze[Mt];if(Be.indexOf(Mt)>-1)return()=>{};const _t=St.toPromise().then(Me=>{const Ge=Me&&Me[Mt];return"function"==typeof Ge?Ge.bind(Me):Ge&&Ge.then?Ge.then(Ce=>Se.run(()=>Ce)):Se.run(()=>Ge)});return new Proxy(()=>{},{get:(Me,Ge)=>_t[Ge],apply:(Me,Ge,Ce)=>_t.then(ce=>{var xe;const oe=ce&&ce(...Ce);return!(null===(xe=Dt?.spy)||void 0===xe)&&xe.apply&&Dt.spy.apply(Mt,Ce,oe),oe})})})}),J=(ze,St)=>{St.forEach(Se=>{Object.getOwnPropertyNames(Se.prototype||Se).forEach(Dt=>{Object.defineProperty(ze.prototype,Dt,Object.getOwnPropertyDescriptor(Se.prototype||Se,Dt))})})};class fe{constructor(St){return St}}const ve=new u.OlP("angularfire2.app.options"),Ee=new u.OlP("angularfire2.app.name");function ie(ze,St,Se){const bt="object"==typeof Se&&Se||{};bt.name=bt.name||"string"==typeof Se&&Se||"[DEFAULT]";const rt=X.Z.apps.filter(_t=>_t&&_t.name===bt.name)[0]||St.runOutsideAngular(()=>X.Z.initializeApp(ze,bt));try{JSON.stringify(ze)!==JSON.stringify(rt.options)&&ae("error",`${rt.name} Firebase App already initialized with different options${ln.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new fe(rt)}const ae=(ze,...St)=>{(0,u.X6Q)()&&typeof console<"u"&&console[ze](...St)},ne={provide:fe,useFactory:ie,deps:[ve,u.R0b,[new u.FiY,Ee]]};let pe=(()=>{class ze{constructor(Se){X.Z.registerVersion("angularfire",W.q4.full,"core"),X.Z.registerVersion("angularfire",W.q4.full,"app-compat"),X.Z.registerVersion("angular",u.q4F.full,Se.toString())}static initializeApp(Se,Dt){return{ngModule:ze,providers:[{provide:ve,useValue:Se},{provide:Ee,useValue:Dt}]}}}return ze.\u0275fac=function(Se){return new(Se||ze)(u.LFG(u.Lbi))},ze.\u0275mod=u.oAB({type:ze}),ze.\u0275inj=u.cJS({providers:[ne]}),ze})();function He(ze,St,Se,Dt,bt){const[,Mt,rt]=globalThis.\u0275AngularfireInstanceCache.find(_t=>_t[0]===ze)||[];if(Mt)return function Qe(ze,St){try{return ze.toString()===St.toString()}catch{return ze===St}}(bt,rt)||(ke("error",`${St} was already initialized on the ${Se} Firebase App with different settings.${Ve?" You may need to reload as Firebase is not HMR aware.":""}`),ke("warn",{is:bt,was:rt})),Mt;{const _t=Dt();return globalThis.\u0275AngularfireInstanceCache.push([ze,_t,bt]),_t}}const Ve=!!ln.hot,ke=(ze,...St)=>{(0,u.X6Q)()&&typeof console<"u"&&console[ze](...St)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6351:(ln,pt,O)=>{"use strict";O.d(pt,{q4:()=>ou,iC:()=>le,fc:()=>F,HU:()=>gi,vb:()=>jl,JM:()=>Ki});var u=O(4650),X=O(5867),W=O(5861),Be=O(9681),Ne=O(2090),J=O(4859),fe=O(1877),ve=O(8766);const Ee="@firebase/installations",ie="0.5.12",ne=`w:${ie}`,pe="FIS_v2",St=new Ne.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Se(P){return P instanceof Ne.ZR&&P.code.includes("request-failed")}function Dt({projectId:P}){return`https://firebaseinstallations.googleapis.com/v1/projects/${P}/installations`}function bt(P){return{token:P.token,requestStatus:2,expiresIn:ce(P.expiresIn),creationTime:Date.now()}}function Mt(P,j){return rt.apply(this,arguments)}function rt(){return(rt=(0,W.Z)(function*(P,j){const Ae=(yield j.json()).error;return St.create("request-failed",{requestName:P,serverCode:Ae.code,serverMessage:Ae.message,serverStatus:Ae.status})})).apply(this,arguments)}function _t({apiKey:P}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":P})}function Me(P,{refreshToken:j}){const te=_t(P);return te.append("Authorization",function xe(P){return`${pe} ${P}`}(j)),te}function Ge(P){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,W.Z)(function*(P){const j=yield P();return j.status>=500&&j.status<600?P():j})).apply(this,arguments)}function ce(P){return Number(P.replace("s","000"))}function oe(P,j){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,W.Z)(function*({appConfig:P,heartbeatServiceProvider:j},{fid:te}){const Ae=Dt(P),ht=_t(P),xt=j.getImmediate({optional:!0});if(xt){const ar=yield xt.getHeartbeatsHeader();ar&&ht.append("x-firebase-client",ar)}const nn={method:"POST",headers:ht,body:JSON.stringify({fid:te,authVersion:pe,appId:P.appId,sdkVersion:ne})},Yn=yield Ge(()=>fetch(Ae,nn));if(Yn.ok){const ar=yield Yn.json();return{fid:ar.fid||te,registrationStatus:2,refreshToken:ar.refreshToken,authToken:bt(ar.authToken)}}throw yield Mt("Create Installation",Yn)})).apply(this,arguments)}function re(P){return new Promise(j=>{setTimeout(j,P)})}const me=/^[cdef][\w-]{21}$/;function ye(){try{const P=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(P),P[0]=112+P[0]%16;const te=function Ie(P){return function be(P){return btoa(String.fromCharCode(...P)).replace(/\+/g,"-").replace(/\//g,"_")}(P).substr(0,22)}(P);return me.test(te)?te:""}catch{return""}}function Ue(P){return`${P.appName}!${P.appId}`}const qe=new Map;function nt(P,j){const te=Ue(P);Lt(te,j),function pn(P,j){const te=function An(){return!wn&&"BroadcastChannel"in self&&(wn=new BroadcastChannel("[Firebase] FID Change"),wn.onmessage=P=>{Lt(P.data.key,P.data.fid)}),wn}();te&&te.postMessage({key:P,fid:j}),function Nn(){0===qe.size&&wn&&(wn.close(),wn=null)}()}(te,j)}function Lt(P,j){const te=qe.get(P);if(te)for(const Ae of te)Ae(j)}let wn=null;const zr="firebase-installations-store";let Mr=null;function yn(){return Mr||(Mr=(0,ve.X3)("firebase-installations-database",1,{upgrade:(P,j)=>{0===j&&P.createObjectStore(zr)}})),Mr}function sn(P,j){return zt.apply(this,arguments)}function zt(){return(zt=(0,W.Z)(function*(P,j){const te=Ue(P),ht=(yield yn()).transaction(zr,"readwrite"),xt=ht.objectStore(zr),$t=yield xt.get(te);return yield xt.put(j,te),yield ht.done,(!$t||$t.fid!==j.fid)&&nt(P,j.fid),j})).apply(this,arguments)}function Ei(P){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,W.Z)(function*(P){const j=Ue(P),Ae=(yield yn()).transaction(zr,"readwrite");yield Ae.objectStore(zr).delete(j),yield Ae.done})).apply(this,arguments)}function Tr(P,j){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,W.Z)(function*(P,j){const te=Ue(P),ht=(yield yn()).transaction(zr,"readwrite"),xt=ht.objectStore(zr),$t=yield xt.get(te),nn=j($t);return void 0===nn?yield xt.delete(te):yield xt.put(nn,te),yield ht.done,nn&&(!$t||$t.fid!==nn.fid)&&nt(P,nn.fid),nn})).apply(this,arguments)}function Cn(P){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,W.Z)(function*(P){let j;const te=yield Tr(P.appConfig,Ae=>{const ht=Sr(Ae),xt=En(P,ht);return j=xt.registrationPromise,xt.installationEntry});return""===te.fid?{installationEntry:yield j}:{installationEntry:te,registrationPromise:j}})).apply(this,arguments)}function Sr(P){return $n(P||{fid:ye(),registrationStatus:0})}function En(P,j){if(0===j.registrationStatus){if(!navigator.onLine)return{installationEntry:j,registrationPromise:Promise.reject(St.create("app-offline"))};const te={fid:j.fid,registrationStatus:1,registrationTime:Date.now()},Ae=function In(P,j){return br.apply(this,arguments)}(P,te);return{installationEntry:te,registrationPromise:Ae}}return 1===j.registrationStatus?{installationEntry:j,registrationPromise:Jn(P)}:{installationEntry:j}}function br(){return(br=(0,W.Z)(function*(P,j){try{const te=yield oe(P,j);return sn(P.appConfig,te)}catch(te){throw Se(te)&&409===te.customData.serverCode?yield Ei(P.appConfig):yield sn(P.appConfig,{fid:j.fid,registrationStatus:0}),te}})).apply(this,arguments)}function Jn(P){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,W.Z)(function*(P){let j=yield Ar(P.appConfig);for(;1===j.registrationStatus;)yield re(100),j=yield Ar(P.appConfig);if(0===j.registrationStatus){const{installationEntry:te,registrationPromise:Ae}=yield Cn(P);return Ae||te}return j})).apply(this,arguments)}function Ar(P){return Tr(P,j=>{if(!j)throw St.create("installation-not-found");return $n(j)})}function $n(P){return function Ui(P){return 1===P.registrationStatus&&P.registrationTime+1e4<Date.now()}(P)?{fid:P.fid,registrationStatus:0}:P}function Un(P,j){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,W.Z)(function*({appConfig:P,heartbeatServiceProvider:j},te){const Ae=qn(P,te),ht=Me(P,te),xt=j.getImmediate({optional:!0});if(xt){const ar=yield xt.getHeartbeatsHeader();ar&&ht.append("x-firebase-client",ar)}const nn={method:"POST",headers:ht,body:JSON.stringify({installation:{sdkVersion:ne,appId:P.appId}})},Yn=yield Ge(()=>fetch(Ae,nn));if(Yn.ok)return bt(yield Yn.json());throw yield Mt("Generate Auth Token",Yn)})).apply(this,arguments)}function qn(P,{fid:j}){return`${Dt(P)}/${j}/authTokens:generate`}function ot(P){return tt.apply(this,arguments)}function tt(){return(tt=(0,W.Z)(function*(P,j=!1){let te;const Ae=yield Tr(P.appConfig,xt=>{if(!gn(xt))throw St.create("not-registered");const $t=xt.authToken;if(!j&&dr($t))return xt;if(1===$t.requestStatus)return te=Ze(P,j),xt;{if(!navigator.onLine)throw St.create("app-offline");const nn=tr(xt);return te=Wt(P,nn),nn}});return te?yield te:Ae.authToken})).apply(this,arguments)}function Ze(P,j){return et.apply(this,arguments)}function et(){return(et=(0,W.Z)(function*(P,j){let te=yield st(P.appConfig);for(;1===te.authToken.requestStatus;)yield re(100),te=yield st(P.appConfig);const Ae=te.authToken;return 0===Ae.requestStatus?ot(P,j):Ae})).apply(this,arguments)}function st(P){return Tr(P,j=>{if(!gn(j))throw St.create("not-registered");return function cn(P){return 1===P.requestStatus&&P.requestTime+1e4<Date.now()}(j.authToken)?Object.assign(Object.assign({},j),{authToken:{requestStatus:0}}):j})}function Wt(P,j){return tn.apply(this,arguments)}function tn(){return(tn=(0,W.Z)(function*(P,j){try{const te=yield Un(P,j),Ae=Object.assign(Object.assign({},j),{authToken:te});return yield sn(P.appConfig,Ae),te}catch(te){if(!Se(te)||401!==te.customData.serverCode&&404!==te.customData.serverCode){const Ae=Object.assign(Object.assign({},j),{authToken:{requestStatus:0}});yield sn(P.appConfig,Ae)}else yield Ei(P.appConfig);throw te}})).apply(this,arguments)}function gn(P){return void 0!==P&&2===P.registrationStatus}function dr(P){return 2===P.requestStatus&&!function zn(P){const j=Date.now();return j<P.creationTime||P.creationTime+P.expiresIn<j+36e5}(P)}function tr(P){const j={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},P),{authToken:j})}function Wr(){return(Wr=(0,W.Z)(function*(P){const j=P,{installationEntry:te,registrationPromise:Ae}=yield Cn(j);return Ae?Ae.catch(console.error):ot(j).catch(console.error),te.fid})).apply(this,arguments)}function Dn(){return(Dn=(0,W.Z)(function*(P,j=!1){const te=P;return yield hr(te),(yield ot(te,j)).token})).apply(this,arguments)}function hr(P){return ii.apply(this,arguments)}function ii(){return(ii=(0,W.Z)(function*(P){const{registrationPromise:j}=yield Cn(P);j&&(yield j)})).apply(this,arguments)}function Cr(P){return St.create("missing-app-config-values",{valueName:P})}const ci="installations",Jr=P=>{const j=P.getProvider("app").getImmediate(),te=function Rn(P){if(!P||!P.options)throw Cr("App Configuration");if(!P.name)throw Cr("App Name");const j=["projectId","apiKey","appId"];for(const te of j)if(!P.options[te])throw Cr(te);return{appName:P.name,projectId:P.options.projectId,apiKey:P.options.apiKey,appId:P.options.appId}}(j);return{app:j,appConfig:te,heartbeatServiceProvider:(0,Be._getProvider)(j,"heartbeat"),_delete:()=>Promise.resolve()}},Yr=P=>{const j=P.getProvider("app").getImmediate(),te=(0,Be._getProvider)(j,ci).getImmediate();return{getId:()=>function jn(P){return Wr.apply(this,arguments)}(te),getToken:ht=>function vr(P){return Dn.apply(this,arguments)}(te,ht)}};(function qi(){(0,Be._registerComponent)(new J.wA(ci,Jr,"PUBLIC")),(0,Be._registerComponent)(new J.wA("installations-internal",Yr,"PRIVATE"))})(),(0,Be.registerVersion)(Ee,ie),(0,Be.registerVersion)(Ee,ie,"esm2017");const ei="@firebase/remote-config",Pr=new Ne.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Bn{constructor(j,te,Ae,ht){this.client=j,this.storage=te,this.storageCache=Ae,this.logger=ht}isCachedDataFresh(j,te){if(!te)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Ae=Date.now()-te,ht=Ae<=j;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Ae}. Cache max age millis (minimumFetchIntervalMillis setting): ${j}. Is cache hit: ${ht}.`),ht}fetch(j){var te=this;return(0,W.Z)(function*(){const[Ae,ht]=yield Promise.all([te.storage.getLastSuccessfulFetchTimestampMillis(),te.storage.getLastSuccessfulFetchResponse()]);if(ht&&te.isCachedDataFresh(j.cacheMaxAgeMillis,Ae))return ht;j.eTag=ht&&ht.eTag;const xt=yield te.client.fetch(j),$t=[te.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===xt.status&&$t.push(te.storage.setLastSuccessfulFetchResponse(xt)),yield Promise.all($t),xt})()}}function Hn(P=navigator){return P.languages&&P.languages[0]||P.language}class Or{constructor(j,te,Ae,ht,xt,$t){this.firebaseInstallations=j,this.sdkVersion=te,this.namespace=Ae,this.projectId=ht,this.apiKey=xt,this.appId=$t}fetch(j){var te=this;return(0,W.Z)(function*(){var Ae,ht,xt;const[$t,nn]=yield Promise.all([te.firebaseInstallations.getId(),te.firebaseInstallations.getToken()]),ar=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${te.projectId}/namespaces/${te.namespace}:fetch?key=${te.apiKey}`,kr={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":j.eTag||"*"},Xn={sdk_version:te.sdkVersion,app_instance_id:$t,app_instance_id_token:nn,app_id:te.appId,language_code:Hn()},$i={method:"POST",headers:kr,body:JSON.stringify(Xn)},Zs=fetch(ar,$i),Is=new Promise((tl,us)=>{j.signal.addEventListener(()=>{const El=new Error("The operation was aborted.");El.name="AbortError",us(El)})});let Qo;try{yield Promise.race([Zs,Is]),Qo=yield Zs}catch(tl){let us="fetch-client-network";throw"AbortError"===(null===(Ae=tl)||void 0===Ae?void 0:Ae.name)&&(us="fetch-timeout"),Pr.create(us,{originalErrorMessage:null===(ht=tl)||void 0===ht?void 0:ht.message})}let Po=Qo.status;const _l=Qo.headers.get("ETag")||void 0;let el,wl;if(200===Qo.status){let tl;try{tl=yield Qo.json()}catch(us){throw Pr.create("fetch-client-parse",{originalErrorMessage:null===(xt=us)||void 0===xt?void 0:xt.message})}el=tl.entries,wl=tl.state}if("INSTANCE_STATE_UNSPECIFIED"===wl?Po=500:"NO_CHANGE"===wl?Po=304:("NO_TEMPLATE"===wl||"EMPTY_CONFIG"===wl)&&(el={}),304!==Po&&200!==Po)throw Pr.create("fetch-status",{httpStatus:Po});return{status:Po,eTag:_l,config:el}})()}}class at{constructor(j,te){this.client=j,this.storage=te}fetch(j){var te=this;return(0,W.Z)(function*(){const Ae=(yield te.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return te.attemptFetch(j,Ae)})()}attemptFetch(j,{throttleEndTimeMillis:te,backoffCount:Ae}){var ht=this;return(0,W.Z)(function*(){yield function Zn(P,j){return new Promise((te,Ae)=>{const ht=Math.max(j-Date.now(),0),xt=setTimeout(te,ht);P.addEventListener(()=>{clearTimeout(xt),Ae(Pr.create("fetch-throttle",{throttleEndTimeMillis:j}))})})}(j.signal,te);try{const xt=yield ht.client.fetch(j);return yield ht.storage.deleteThrottleMetadata(),xt}catch(xt){if(!function ct(P){if(!(P instanceof Ne.ZR&&P.customData))return!1;const j=Number(P.customData.httpStatus);return 429===j||500===j||503===j||504===j}(xt))throw xt;const $t={throttleEndTimeMillis:Date.now()+(0,Ne.$s)(Ae),backoffCount:Ae+1};return yield ht.storage.setThrottleMetadata($t),ht.attemptFetch(j,$t)}})()}}class on{constructor(j,te,Ae,ht,xt){this.app=j,this._client=te,this._storageCache=Ae,this._storage=ht,this._logger=xt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function mn(P,j){var te;const Ae=P.target.error||void 0;return Pr.create(j,{originalErrorMessage:Ae&&(null===(te=Ae)||void 0===te?void 0:te.message)})}const kn="app_namespace_store";class ji{constructor(j,te,Ae,ht=function ys(){return new Promise((P,j)=>{var te;try{const Ae=indexedDB.open("firebase_remote_config",1);Ae.onerror=ht=>{j(mn(ht,"storage-open"))},Ae.onsuccess=ht=>{P(ht.target.result)},Ae.onupgradeneeded=ht=>{0===ht.oldVersion&&ht.target.result.createObjectStore(kn,{keyPath:"compositeKey"})}}catch(Ae){j(Pr.create("storage-open",{originalErrorMessage:null===(te=Ae)||void 0===te?void 0:te.message}))}})}()){this.appId=j,this.appName=te,this.namespace=Ae,this.openDbPromise=ht}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(j){return this.set("last_fetch_status",j)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(j){return this.set("last_successful_fetch_timestamp_millis",j)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(j){return this.set("last_successful_fetch_response",j)}getActiveConfig(){return this.get("active_config")}setActiveConfig(j){return this.set("active_config",j)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(j){return this.set("active_config_etag",j)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(j){return this.set("throttle_metadata",j)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(j){var te=this;return(0,W.Z)(function*(){const Ae=yield te.openDbPromise;return new Promise((ht,xt)=>{var $t;const Yn=Ae.transaction([kn],"readonly").objectStore(kn),ar=te.createCompositeKey(j);try{const kr=Yn.get(ar);kr.onerror=Xn=>{xt(mn(Xn,"storage-get"))},kr.onsuccess=Xn=>{const $i=Xn.target.result;ht($i?$i.value:void 0)}}catch(kr){xt(Pr.create("storage-get",{originalErrorMessage:null===($t=kr)||void 0===$t?void 0:$t.message}))}})})()}set(j,te){var Ae=this;return(0,W.Z)(function*(){const ht=yield Ae.openDbPromise;return new Promise((xt,$t)=>{var nn;const ar=ht.transaction([kn],"readwrite").objectStore(kn),kr=Ae.createCompositeKey(j);try{const Xn=ar.put({compositeKey:kr,value:te});Xn.onerror=$i=>{$t(mn($i,"storage-set"))},Xn.onsuccess=()=>{xt()}}catch(Xn){$t(Pr.create("storage-set",{originalErrorMessage:null===(nn=Xn)||void 0===nn?void 0:nn.message}))}})})()}delete(j){var te=this;return(0,W.Z)(function*(){const Ae=yield te.openDbPromise;return new Promise((ht,xt)=>{var $t;const Yn=Ae.transaction([kn],"readwrite").objectStore(kn),ar=te.createCompositeKey(j);try{const kr=Yn.delete(ar);kr.onerror=Xn=>{xt(mn(Xn,"storage-delete"))},kr.onsuccess=()=>{ht()}}catch(kr){xt(Pr.create("storage-delete",{originalErrorMessage:null===($t=kr)||void 0===$t?void 0:$t.message}))}})})()}createCompositeKey(j){return[this.appId,this.appName,this.namespace,j].join()}}class Gi{constructor(j){this.storage=j}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var j=this;return(0,W.Z)(function*(){const te=j.storage.getLastFetchStatus(),Ae=j.storage.getLastSuccessfulFetchTimestampMillis(),ht=j.storage.getActiveConfig(),xt=yield te;xt&&(j.lastFetchStatus=xt);const $t=yield Ae;$t&&(j.lastSuccessfulFetchTimestampMillis=$t);const nn=yield ht;nn&&(j.activeConfig=nn)})()}setLastFetchStatus(j){return this.lastFetchStatus=j,this.storage.setLastFetchStatus(j)}setLastSuccessfulFetchTimestampMillis(j){return this.lastSuccessfulFetchTimestampMillis=j,this.storage.setLastSuccessfulFetchTimestampMillis(j)}setActiveConfig(j){return this.activeConfig=j,this.storage.setActiveConfig(j)}}function Bs(){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,W.Z)(function*(){if(!(0,Ne.hl)())return!1;try{return yield(0,Ne.eu)()}catch{return!1}})).apply(this,arguments)}!function bi(){(0,Be._registerComponent)(new J.wA("remote-config",function P(j,{instanceIdentifier:te}){const Ae=j.getProvider("app").getImmediate(),ht=j.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Pr.create("registration-window");if(!(0,Ne.hl)())throw Pr.create("indexed-db-unavailable");const{projectId:xt,apiKey:$t,appId:nn}=Ae.options;if(!xt)throw Pr.create("registration-project-id");if(!$t)throw Pr.create("registration-api-key");if(!nn)throw Pr.create("registration-app-id");const Yn=new ji(nn,Ae.name,te=te||"firebase"),ar=new Gi(Yn),kr=new fe.Yd(ei);kr.logLevel=fe.in.ERROR;const Xn=new Or(ht,Be.SDK_VERSION,te,xt,$t,nn),$i=new at(Xn,Yn),Zs=new Bn($i,Yn,ar,kr),Is=new on(Ae,Zs,ar,Yn,kr);return function De(P){const j=(0,Ne.m9)(P);j._initializePromise||(j._initializePromise=j._storageCache.loadFromStorage().then(()=>{j._isInitializationComplete=!0}))}(Is),Is},"PUBLIC").setMultipleInstances(!0)),(0,Be.registerVersion)(ei,"0.3.11"),(0,Be.registerVersion)(ei,"0.3.11","esm2017")}();const Kr="/firebase-messaging-sw.js",xs="/firebase-cloud-messaging-push-scope",fs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",mo="google.c.a.c_id",Ms="google.c.a.c_l",Rs="google.c.a.ts",Mi="google.c.a.e";var ui=(()=>{return(P=ui||(ui={})).PUSH_RECEIVED="push-received",P.NOTIFICATION_CLICKED="notification-clicked",ui;var P})();function rs(P){const j=new Uint8Array(P);return btoa(String.fromCharCode(...j)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Fi(P){const te=(P+"=".repeat((4-P.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Ae=atob(te),ht=new Uint8Array(Ae.length);for(let xt=0;xt<Ae.length;++xt)ht[xt]=Ae.charCodeAt(xt);return ht}const zi="fcm_token_details_db",Li="fcm_token_object_Store";function Ws(P){return Qs.apply(this,arguments)}function Qs(){return Qs=(0,W.Z)(function*(P){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(xt=>xt.name).includes(zi))return null;let j=null;return(yield(0,ve.X3)(zi,5,{upgrade:(Ae=(0,W.Z)(function*(ht,xt,$t,nn){var Yn;if(xt<2||!ht.objectStoreNames.contains(Li))return;const ar=nn.objectStore(Li),kr=yield ar.index("fcmSenderId").get(P);if(yield ar.clear(),kr)if(2===xt){const Xn=kr;if(!Xn.auth||!Xn.p256dh||!Xn.endpoint)return;j={token:Xn.fcmToken,createTime:null!==(Yn=Xn.createTime)&&void 0!==Yn?Yn:Date.now(),subscriptionOptions:{auth:Xn.auth,p256dh:Xn.p256dh,endpoint:Xn.endpoint,swScope:Xn.swScope,vapidKey:"string"==typeof Xn.vapidKey?Xn.vapidKey:rs(Xn.vapidKey)}}}else if(3===xt){const Xn=kr;j={token:Xn.fcmToken,createTime:Xn.createTime,subscriptionOptions:{auth:rs(Xn.auth),p256dh:rs(Xn.p256dh),endpoint:Xn.endpoint,swScope:Xn.swScope,vapidKey:rs(Xn.vapidKey)}}}else if(4===xt){const Xn=kr;j={token:Xn.fcmToken,createTime:Xn.createTime,subscriptionOptions:{auth:rs(Xn.auth),p256dh:rs(Xn.p256dh),endpoint:Xn.endpoint,swScope:Xn.swScope,vapidKey:rs(Xn.vapidKey)}}}}),function(xt,$t,nn,Yn){return Ae.apply(this,arguments)})})).close(),yield(0,ve.Lj)(zi),yield(0,ve.Lj)("fcm_vapid_details_db"),yield(0,ve.Lj)("undefined"),Ur(j)?j:null;var Ae}),Qs.apply(this,arguments)}function Ur(P){if(!P||!P.subscriptionOptions)return!1;const{subscriptionOptions:j}=P;return"number"==typeof P.createTime&&P.createTime>0&&"string"==typeof P.token&&P.token.length>0&&"string"==typeof j.auth&&j.auth.length>0&&"string"==typeof j.p256dh&&j.p256dh.length>0&&"string"==typeof j.endpoint&&j.endpoint.length>0&&"string"==typeof j.swScope&&j.swScope.length>0&&"string"==typeof j.vapidKey&&j.vapidKey.length>0}const Xi="firebase-messaging-store";let yr=null;function Ps(){return yr||(yr=(0,ve.X3)("firebase-messaging-database",1,{upgrade:(P,j)=>{0===j&&P.createObjectStore(Xi)}})),yr}function vs(P){return gs.apply(this,arguments)}function gs(){return(gs=(0,W.Z)(function*(P){const j=Os(P),Ae=yield(yield Ps()).transaction(Xi).objectStore(Xi).get(j);if(Ae)return Ae;{const ht=yield Ws(P.appConfig.senderId);if(ht)return yield Nr(P,ht),ht}})).apply(this,arguments)}function Nr(P,j){return ss.apply(this,arguments)}function ss(){return(ss=(0,W.Z)(function*(P,j){const te=Os(P),ht=(yield Ps()).transaction(Xi,"readwrite");return yield ht.objectStore(Xi).put(j,te),yield ht.done,j})).apply(this,arguments)}function Xs(P){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,W.Z)(function*(P){const j=Os(P),Ae=(yield Ps()).transaction(Xi,"readwrite");yield Ae.objectStore(Xi).delete(j),yield Ae.done})).apply(this,arguments)}function Os({appConfig:P}){return P.appId}const Hr=new Ne.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Vn(P,j){return yo.apply(this,arguments)}function yo(){return(yo=(0,W.Z)(function*(P,j){var te;const Ae=yield Uo(P),ht=qt(j),xt={method:"POST",headers:Ae,body:JSON.stringify(ht)};let $t;try{$t=yield(yield fetch(Ao(P.appConfig),xt)).json()}catch(nn){throw Hr.create("token-subscribe-failed",{errorInfo:null===(te=nn)||void 0===te?void 0:te.toString()})}if($t.error)throw Hr.create("token-subscribe-failed",{errorInfo:$t.error.message});if(!$t.token)throw Hr.create("token-subscribe-no-token");return $t.token})).apply(this,arguments)}function Sa(P,j){return vo.apply(this,arguments)}function vo(){return(vo=(0,W.Z)(function*(P,j){var te;const Ae=yield Uo(P),ht=qt(j.subscriptionOptions),xt={method:"PATCH",headers:Ae,body:JSON.stringify(ht)};let $t;try{$t=yield(yield fetch(`${Ao(P.appConfig)}/${j.token}`,xt)).json()}catch(nn){throw Hr.create("token-update-failed",{errorInfo:null===(te=nn)||void 0===te?void 0:te.toString()})}if($t.error)throw Hr.create("token-update-failed",{errorInfo:$t.error.message});if(!$t.token)throw Hr.create("token-update-no-token");return $t.token})).apply(this,arguments)}function Js(P,j){return pa.apply(this,arguments)}function pa(){return(pa=(0,W.Z)(function*(P,j){var te;const ht={method:"DELETE",headers:yield Uo(P)};try{const $t=yield(yield fetch(`${Ao(P.appConfig)}/${j}`,ht)).json();if($t.error)throw Hr.create("token-unsubscribe-failed",{errorInfo:$t.error.message})}catch(xt){throw Hr.create("token-unsubscribe-failed",{errorInfo:null===(te=xt)||void 0===te?void 0:te.toString()})}})).apply(this,arguments)}function Ao({projectId:P}){return`https://fcmregistrations.googleapis.com/v1/projects/${P}/registrations`}function Uo(P){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,W.Z)(function*({appConfig:P,installations:j}){const te=yield j.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":P.apiKey,"x-goog-firebase-installations-auth":`FIS ${te}`})})).apply(this,arguments)}function qt({p256dh:P,auth:j,endpoint:te,vapidKey:Ae}){const ht={web:{endpoint:te,auth:j,p256dh:P}};return Ae!==fs&&(ht.web.applicationPubKey=Ae),ht}const _r=6048e5;function jo(P){return b.apply(this,arguments)}function b(){return(b=(0,W.Z)(function*(P){const j=yield V(P.swRegistration,P.vapidKey),te={vapidKey:P.vapidKey,swScope:P.swRegistration.scope,endpoint:j.endpoint,auth:rs(j.getKey("auth")),p256dh:rs(j.getKey("p256dh"))},Ae=yield vs(P.firebaseDependencies);if(Ae){if(se(Ae.subscriptionOptions,te))return Date.now()>=Ae.createTime+_r?H(P,{token:Ae.token,createTime:Date.now(),subscriptionOptions:te}):Ae.token;try{yield Js(P.firebaseDependencies,Ae.token)}catch(ht){console.warn(ht)}return Nt(P.firebaseDependencies,te)}return Nt(P.firebaseDependencies,te)})).apply(this,arguments)}function z(P){return E.apply(this,arguments)}function E(){return(E=(0,W.Z)(function*(P){const j=yield vs(P.firebaseDependencies);j&&(yield Js(P.firebaseDependencies,j.token),yield Xs(P.firebaseDependencies));const te=yield P.swRegistration.pushManager.getSubscription();return!te||te.unsubscribe()})).apply(this,arguments)}function H(P,j){return _e.apply(this,arguments)}function _e(){return(_e=(0,W.Z)(function*(P,j){try{const te=yield Sa(P.firebaseDependencies,j),Ae=Object.assign(Object.assign({},j),{token:te,createTime:Date.now()});return yield Nr(P.firebaseDependencies,Ae),te}catch(te){throw yield z(P),te}})).apply(this,arguments)}function Nt(P,j){return $.apply(this,arguments)}function $(){return($=(0,W.Z)(function*(P,j){const Ae={token:yield Vn(P,j),createTime:Date.now(),subscriptionOptions:j};return yield Nr(P,Ae),Ae.token})).apply(this,arguments)}function V(P,j){return N.apply(this,arguments)}function N(){return(N=(0,W.Z)(function*(P,j){return(yield P.pushManager.getSubscription())||P.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Fi(j)})})).apply(this,arguments)}function se(P,j){return j.vapidKey===P.vapidKey&&j.endpoint===P.endpoint&&j.auth===P.auth&&j.p256dh===P.p256dh}function Ct(P){const j={from:P.from,collapseKey:P.collapse_key,messageId:P.fcmMessageId};return function Qt(P,j){if(!j.notification)return;P.notification={};const te=j.notification.title;te&&(P.notification.title=te);const Ae=j.notification.body;Ae&&(P.notification.body=Ae);const ht=j.notification.image;ht&&(P.notification.image=ht)}(j,P),function Wn(P,j){!j.data||(P.data=j.data)}(j,P),function qr(P,j){var te,Ae,ht,xt,$t;if(!(j.fcmOptions||null!==(te=j.notification)&&void 0!==te&&te.click_action))return;P.fcmOptions={};const nn=null!==(ht=null===(Ae=j.fcmOptions)||void 0===Ae?void 0:Ae.link)&&void 0!==ht?ht:null===(xt=j.notification)||void 0===xt?void 0:xt.click_action;nn&&(P.fcmOptions.link=nn);const Yn=null===($t=j.fcmOptions)||void 0===$t?void 0:$t.analytics_label;Yn&&(P.fcmOptions.analyticsLabel=Yn)}(j,P),j}function vi(P){return"object"==typeof P&&!!P&&mo in P}function wr(P,j){const te=[];for(let Ae=0;Ae<P.length;Ae++)te.push(P.charAt(Ae)),Ae<j.length&&te.push(j.charAt(Ae));return te.join("")}function _o(P){return Hr.create("missing-app-config-values",{valueName:P})}wr("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),wr("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class rc{constructor(j,te,Ae){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ht=function os(P){if(!P||!P.options)throw _o("App Configuration Object");if(!P.name)throw _o("App Name");const j=["projectId","apiKey","appId","messagingSenderId"],{options:te}=P;for(const Ae of j)if(!te[Ae])throw _o(Ae);return{appName:P.name,projectId:te.projectId,apiKey:te.apiKey,appId:te.appId,senderId:te.messagingSenderId}}(j);this.firebaseDependencies={app:j,appConfig:ht,installations:te,analyticsProvider:Ae}}_delete(){return Promise.resolve()}}function Ua(P){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,W.Z)(function*(P){var j;try{P.swRegistration=yield navigator.serviceWorker.register(Kr,{scope:xs}),P.swRegistration.update().catch(()=>{})}catch(te){throw Hr.create("failed-service-worker-registration",{browserErrorMessage:null===(j=te)||void 0===j?void 0:j.message})}})).apply(this,arguments)}function xa(P,j){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,W.Z)(function*(P,j){if(!j&&!P.swRegistration&&(yield Ua(P)),j||!P.swRegistration){if(!(j instanceof ServiceWorkerRegistration))throw Hr.create("invalid-sw-registration");P.swRegistration=j}})).apply(this,arguments)}function ia(P,j){return pl.apply(this,arguments)}function pl(){return(pl=(0,W.Z)(function*(P,j){j?P.vapidKey=j:P.vapidKey||(P.vapidKey=fs)})).apply(this,arguments)}function sa(){return(sa=(0,W.Z)(function*(P,j){if(!navigator)throw Hr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Hr.create("permission-blocked");return yield ia(P,j?.vapidKey),yield xa(P,j?.serviceWorkerRegistration),jo(P)})).apply(this,arguments)}function oa(P,j,te){return xo.apply(this,arguments)}function xo(){return(xo=(0,W.Z)(function*(P,j,te){const Ae=aa(j);(yield P.firebaseDependencies.analyticsProvider.get()).logEvent(Ae,{message_id:te[mo],message_name:te[Ms],message_time:te[Rs],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function aa(P){switch(P){case ui.NOTIFICATION_CLICKED:return"notification_open";case ui.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ee(){return(ee=(0,W.Z)(function*(P,j){const te=j.data;if(!te.isFirebaseMessaging)return;P.onMessageHandler&&te.messageType===ui.PUSH_RECEIVED&&("function"==typeof P.onMessageHandler?P.onMessageHandler(Ct(te)):P.onMessageHandler.next(Ct(te)));const Ae=te.data;vi(Ae)&&"1"===Ae[Mi]&&(yield oa(P,te.messageType,Ae))})).apply(this,arguments)}const U="@firebase/messaging",Xe=P=>{const j=new rc(P.getProvider("app").getImmediate(),P.getProvider("installations-internal").getImmediate(),P.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",te=>function B(P,j){return ee.apply(this,arguments)}(j,te)),j},Et=P=>{const j=P.getProvider("messaging").getImmediate();return{getToken:Ae=>function eo(P,j){return sa.apply(this,arguments)}(j,Ae)}};function Jt(){return xr.apply(this,arguments)}function xr(){return(xr=(0,W.Z)(function*(){try{yield(0,Ne.eu)()}catch{return!1}return typeof window<"u"&&(0,Ne.hl)()&&(0,Ne.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function At(){(0,Be._registerComponent)(new J.wA("messaging",Xe,"PUBLIC")),(0,Be._registerComponent)(new J.wA("messaging-internal",Et,"PRIVATE")),(0,Be.registerVersion)(U,"0.9.16"),(0,Be.registerVersion)(U,"0.9.16","esm2017")}();const wo="analytics",to="firebase_id",Ks="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",_s="https://www.googletagmanager.com/gtag/js",Wi=new fe.Yd("@firebase/analytics");function no(P){return Promise.all(P.map(j=>j.catch(te=>te)))}function ga(P,j){const te=document.createElement("script");te.src=`${_s}?l=${P}&id=${j}`,te.async=!0,document.head.appendChild(te)}function iu(P,j,te,Ae,ht,xt){return ja.apply(this,arguments)}function ja(){return(ja=(0,W.Z)(function*(P,j,te,Ae,ht,xt){const $t=Ae[ht];try{if($t)yield j[$t];else{const Yn=(yield no(te)).find(ar=>ar.measurementId===ht);Yn&&(yield j[Yn.appId])}}catch(nn){Wi.error(nn)}P("config",ht,xt)})).apply(this,arguments)}function ic(P,j,te,Ae,ht){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,W.Z)(function*(P,j,te,Ae,ht){try{let xt=[];if(ht&&ht.send_to){let $t=ht.send_to;Array.isArray($t)||($t=[$t]);const nn=yield no(te);for(const Yn of $t){const ar=nn.find(Xn=>Xn.measurementId===Yn),kr=ar&&j[ar.appId];if(!kr){xt=[];break}xt.push(kr)}}0===xt.length&&(xt=Object.values(j)),yield Promise.all(xt),P("event",Ae,ht||{})}catch(xt){Wi.error(xt)}})).apply(this,arguments)}function Go(){const P=window.document.getElementsByTagName("script");for(const j of Object.values(P))if(j.src&&j.src.includes(_s))return j;return null}const as=new Ne.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Wo=new class Pi{constructor(j={},te=1e3){this.throttleMetadata=j,this.intervalMillis=te}getThrottleMetadata(j){return this.throttleMetadata[j]}setThrottleMetadata(j,te){this.throttleMetadata[j]=te}deleteThrottleMetadata(j){delete this.throttleMetadata[j]}};function la(P){return new Headers({Accept:"application/json","x-goog-api-key":P})}function rn(P){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,W.Z)(function*(P){var j;const{appId:te,apiKey:Ae}=P,ht={method:"GET",headers:la(Ae)},xt=Ks.replace("{app-id}",te),$t=yield fetch(xt,ht);if(200!==$t.status&&304!==$t.status){let nn="";try{const Yn=yield $t.json();null!==(j=Yn.error)&&void 0!==j&&j.message&&(nn=Yn.error.message)}catch{}throw as.create("config-fetch-failed",{httpStatus:$t.status,responseMessage:nn})}return $t.json()})).apply(this,arguments)}function Oi(P){return $s.apply(this,arguments)}function $s(){return($s=(0,W.Z)(function*(P,j=Wo,te){const{appId:Ae,apiKey:ht,measurementId:xt}=P.options;if(!Ae)throw as.create("no-app-id");if(!ht){if(xt)return{measurementId:xt,appId:Ae};throw as.create("no-api-key")}const $t=j.getThrottleMetadata(Ae)||{backoffCount:0,throttleEndTimeMillis:Date.now()},nn=new Vt;return setTimeout((0,W.Z)(function*(){nn.abort()}),void 0!==te?te:6e4),On({appId:Ae,apiKey:ht,measurementId:xt},$t,nn,j)})).apply(this,arguments)}function On(P,j,te){return or.apply(this,arguments)}function or(){return(or=(0,W.Z)(function*(P,{throttleEndTimeMillis:j,backoffCount:te},Ae,ht=Wo){var xt,$t;const{appId:nn,measurementId:Yn}=P;try{yield gl(Ae,j)}catch(ar){if(Yn)return Wi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Yn} provided in the "measurementId" field in the local Firebase config. [${null===(xt=ar)||void 0===xt?void 0:xt.message}]`),{appId:nn,measurementId:Yn};throw ar}try{const ar=yield rn(P);return ht.deleteThrottleMetadata(nn),ar}catch(ar){const kr=ar;if(!bn(kr)){if(ht.deleteThrottleMetadata(nn),Yn)return Wi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Yn} provided in the "measurementId" field in the local Firebase config. [${kr?.message}]`),{appId:nn,measurementId:Yn};throw ar}const Xn=503===Number(null===($t=kr?.customData)||void 0===$t?void 0:$t.httpStatus)?(0,Ne.$s)(te,ht.intervalMillis,30):(0,Ne.$s)(te,ht.intervalMillis),$i={throttleEndTimeMillis:Date.now()+Xn,backoffCount:te+1};return ht.setThrottleMetadata(nn,$i),Wi.debug(`Calling attemptFetch again in ${Xn} millis`),On(P,$i,Ae,ht)}})).apply(this,arguments)}function gl(P,j){return new Promise((te,Ae)=>{const ht=Math.max(j-Date.now(),0),xt=setTimeout(te,ht);P.addEventListener(()=>{clearTimeout(xt),Ae(as.create("fetch-throttle",{throttleEndTimeMillis:j}))})})}function bn(P){if(!(P instanceof Ne.ZR&&P.customData))return!1;const j=Number(P.customData.httpStatus);return 429===j||500===j||503===j||504===j}class Vt{constructor(){this.listeners=[]}addEventListener(j){this.listeners.push(j)}abort(){this.listeners.forEach(j=>j())}}let Zt,ho;function ca(){return(ca=(0,W.Z)(function*(P,j,te,Ae,ht){if(ht&&ht.global)P("event",te,Ae);else{const xt=yield j;P("event",te,Object.assign(Object.assign({},Ae),{send_to:xt}))}})).apply(this,arguments)}function Ns(P){ho=P}function cr(P){Zt=P}function ur(){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,W.Z)(function*(){var P;if(!(0,Ne.hl)())return Wi.warn(as.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ne.eu)()}catch(j){return Wi.warn(as.create("indexeddb-unavailable",{errorInfo:null===(P=j)||void 0===P?void 0:P.toString()}).message),!1}return!0})).apply(this,arguments)}function nr(){return(nr=(0,W.Z)(function*(P,j,te,Ae,ht,xt,$t){var nn;const Yn=Oi(P);Yn.then(Zs=>{te[Zs.measurementId]=Zs.appId,P.options.measurementId&&Zs.measurementId!==P.options.measurementId&&Wi.warn(`The measurement ID in the local Firebase config (${P.options.measurementId}) does not match the measurement ID fetched from the server (${Zs.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Zs=>Wi.error(Zs)),j.push(Yn);const ar=ur().then(Zs=>{if(Zs)return Ae.getId()}),[kr,Xn]=yield Promise.all([Yn,ar]);Go()||ga(xt,kr.measurementId),ho&&(ht("consent","default",ho),Ns(void 0)),ht("js",new Date);const $i=null!==(nn=$t?.config)&&void 0!==nn?nn:{};return $i.origin="firebase",$i.update=!0,null!=Xn&&($i[to]=Xn),ht("config",kr.measurementId,$i),Zt&&(ht("set",Zt),cr(void 0)),kr.measurementId})).apply(this,arguments)}class pi{constructor(j){this.app=j}_delete(){return delete pr[this.app.options.appId],Promise.resolve()}}let pr={},va=[];const di={};let Di,ro,dn="dataLayer",Ya=!1;function $l(P,j,te){!function Dc(){const P=[];if((0,Ne.ru)()&&P.push("This is a browser extension environment."),(0,Ne.zI)()||P.push("Cookies are not available."),P.length>0){const j=P.map((Ae,ht)=>`(${ht+1}) ${Ae}`).join(" "),te=as.create("invalid-analytics-context",{errorInfo:j});Wi.warn(te.message)}}();const Ae=P.options.appId;if(!Ae)throw as.create("no-app-id");if(!P.options.apiKey){if(!P.options.measurementId)throw as.create("no-api-key");Wi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${P.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=pr[Ae])throw as.create("already-exists",{id:Ae});if(!Ya){!function kl(P){let j=[];Array.isArray(window[P])?j=window[P]:window[P]=j}(dn);const{wrappedGtag:xt,gtagCore:$t}=function Fl(P,j,te,Ae,ht){let xt=function(...$t){window[Ae].push(arguments)};return window[ht]&&"function"==typeof window[ht]&&(xt=window[ht]),window[ht]=function za(P,j,te,Ae){function xt(){return(xt=(0,W.Z)(function*($t,nn,Yn){try{"event"===$t?yield ic(P,j,te,nn,Yn):"config"===$t?yield iu(P,j,te,Ae,nn,Yn):"consent"===$t?P("consent","update",Yn):P("set",nn)}catch(ar){Wi.error(ar)}})).apply(this,arguments)}return function ht($t,nn,Yn){return xt.apply(this,arguments)}}(xt,P,j,te),{gtagCore:xt,wrappedGtag:window[ht]}}(pr,va,di,dn,"gtag");ro=xt,Di=$t,Ya=!0}return pr[Ae]=function si(P,j,te,Ae,ht,xt,$t){return nr.apply(this,arguments)}(P,va,di,j,Di,dn,te),new pi(P)}function qs(){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,W.Z)(function*(){if((0,Ne.ru)()||!(0,Ne.zI)()||!(0,Ne.hl)())return!1;try{return yield(0,Ne.eu)()}catch{return!1}})).apply(this,arguments)}const Ul="@firebase/analytics";!function Ji(){(0,Be._registerComponent)(new J.wA(wo,(j,{options:te})=>$l(j.getProvider("app").getImmediate(),j.getProvider("installations-internal").getImmediate(),te),"PUBLIC")),(0,Be._registerComponent)(new J.wA("analytics-internal",function P(j){try{const te=j.getProvider(wo).getImmediate();return{logEvent:(Ae,ht,xt)=>function Za(P,j,te,Ae){P=(0,Ne.m9)(P),function ws(P,j,te,Ae,ht){return ca.apply(this,arguments)}(ro,pr[P.app.options.appId],j,te,Ae).catch(ht=>Wi.error(ht))}(te,Ae,ht,xt)}}catch(te){throw as.create("interop-component-reg-failed",{reason:te})}},"PRIVATE")),(0,Be.registerVersion)(Ul,"0.8.0"),(0,Be.registerVersion)(Ul,"0.8.0","esm2017")}();var Mo=O(341),Io=O(353),Ra=O(2868),Ro=O(2102),Xa=O(8915);const ou=new u.GfV("7.4.1"),cs="__angularfire_symbol__analyticsIsSupportedValue",qo="__angularfire_symbol__analyticsIsSupported",Es="__angularfire_symbol__remoteConfigIsSupportedValue",Pa="__angularfire_symbol__remoteConfigIsSupported",ti="__angularfire_symbol__messagingIsSupportedValue",Oa="__angularfire_symbol__messagingIsSupported";function Ki(P,j,te){if(j){if(1===j.length)return j[0];const xt=j.filter($t=>$t.app===te);if(1===xt.length)return xt[0]}return te.container.getProvider(P).getImmediate({optional:!0})}globalThis[qo]||(globalThis[qo]=qs().then(P=>globalThis[cs]=P).catch(()=>globalThis[cs]=!1)),globalThis[Oa]||(globalThis[Oa]=Jt().then(P=>globalThis[ti]=P).catch(()=>globalThis[ti]=!1)),globalThis[Pa]||(globalThis[Pa]=Bs().then(P=>globalThis[Es]=P).catch(()=>globalThis[Es]=!1));const jl=(P,j)=>{const te=j?[j]:(0,X.C6)(),Ae=[];return te.forEach(ht=>{ht.container.getProvider(P).instances.forEach($t=>{Ae.includes($t)||Ae.push($t)})}),Ae};function Ni(){}class Ja{constructor(j,te=Mo.N){this.zone=j,this.delegate=te}now(){return this.delegate.now()}schedule(j,te,Ae){const ht=this.zone;return this.delegate.schedule(function($t){ht.runGuarded(()=>{j.apply(this,[$t])})},te,Ae)}}class Zo{constructor(j){this.zone=j,this.task=null}call(j,te){const Ae=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ni,{},Ni,Ni)),te.pipe((0,Ra.b)({next:Ae,complete:Ae,error:Ae})).subscribe(j).add(Ae)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let gi=(()=>{class P{constructor(te){this.ngZone=te,this.outsideAngular=te.runOutsideAngular(()=>new Ja(Zone.current)),this.insideAngular=te.run(()=>new Ja(Zone.current,Io.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return P.\u0275fac=function(te){return new(te||P)(u.LFG(u.R0b))},P.\u0275prov=u.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})();function S(){const P=globalThis.\u0275AngularFireScheduler;if(!P)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return P}function F(P){return P.pipe((0,Ro.QV)(S().outsideAngular))}function le(P){return S(),function je(P){return function(te){return(te=te.lift(new Zo(P.ngZone))).pipe((0,Xa.R)(P.outsideAngular),(0,Ro.QV)(P.insideAngular))}}(S())(P)}},8960:(ln,pt,O)=>{"use strict";O.d(pt,{b:()=>re});var u=O(655),W=O(6498),Be=O(3753),Ne={error:"cordova_not_available"},J={error:"plugin_not_installed"};function fe(be){if(typeof window<"u"&&window.angular){var Re=window.document,ye=window.angular.element(Re.querySelector("[ng-app]")||Re.body).injector();if(ye)return ye.get("$q")(function(Ue,qe){be(Ue,qe)});console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise(function(Ue,qe){be(Ue,qe)});console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function ve(be,me,Re,ye){void 0===ye&&(ye={});var Ie,Ue,qe=fe(function(nt,Rt){Ie=ye.destruct?Qe(be,me,Re,ye,function(){for(var gt=[],Lt=0;Lt<arguments.length;Lt++)gt[Lt]=arguments[Lt];return nt(gt)},function(){for(var gt=[],Lt=0;Lt<arguments.length;Lt++)gt[Lt]=arguments[Lt];return Rt(gt)}):Qe(be,me,Re,ye,nt,Rt),Ue=Rt});return Ie&&Ie.error&&(qe.catch(function(){}),"function"==typeof Ue&&Ue(Ie.error)),qe}function Ee(be,me,Re,ye){return void 0===ye&&(ye={}),fe(function(Ie,Ue){var qe=Qe(be,me,Re,ye);qe?qe.error?Ue(qe.error):qe.then&&qe.then(Ie).catch(Ue):Ue({error:"unexpected_error"})})}function ie(be,me,Re,ye){return void 0===ye&&(ye={}),new W.y(function(Ie){var Ue;return Ue=ye.destruct?Qe(be,me,Re,ye,function(){for(var qe=[],nt=0;nt<arguments.length;nt++)qe[nt]=arguments[nt];return Ie.next(qe)},function(){for(var qe=[],nt=0;nt<arguments.length;nt++)qe[nt]=arguments[nt];return Ie.error(qe)}):Qe(be,me,Re,ye,Ie.next.bind(Ie),Ie.error.bind(Ie)),Ue&&Ue.error&&(Ie.error(Ue.error),Ie.complete()),function(){try{if(ye.clearFunction)return ye.clearWithArgs?Qe(be,ye.clearFunction,Re,ye,Ie.next.bind(Ie),Ie.error.bind(Ie)):Qe(be,ye.clearFunction,[])}catch(qe){console.warn("Unable to clear the previous observable watch for",be.constructor.getPluginName(),me),console.warn(qe)}}})}function ae(be,me){return me=typeof window<"u"&&me?ze(window,me):me||(typeof window<"u"?window:{}),(0,Be.R)(me,be)}function ne(be,me,Re){var ye,Ie;"string"==typeof be?ye=be:(ye=be.constructor.getPluginRef(),Re=be.constructor.getPluginName(),Ie=be.constructor.getPluginInstallName());var Ue=ke(ye);return!(!Ue||me&&typeof Ue[me]>"u")||(typeof window>"u"||!window.cordova?(function Se(be,me){typeof process>"u"&&console.warn(me?"Native: tried calling "+be+"."+me+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator":"Native: tried accessing the "+be+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator")}(Re,me),Ne):(function St(be,me,Re){console.warn(Re?"Native: tried calling "+be+"."+Re+", but the "+be+" plugin is not installed.":"Native: tried accessing the "+be+" plugin but it's not installed."),me&&console.warn("Install the "+be+" plugin: 'ionic cordova plugin add "+me+"'")}(Re,Ie,me),J))}function Qe(be,me,Re,ye,Ie,Ue){void 0===ye&&(ye={}),Re=function He(be,me,Re,ye){if(void 0===me&&(me={}),me.sync)return be;if("reverse"===me.callbackOrder)be.unshift(ye),be.unshift(Re);else if("node"===me.callbackStyle)be.push(function(nt,Rt){nt?ye(nt):Re(Rt)});else if("object"===me.callbackStyle&&me.successName&&me.errorName){var Ie={};Ie[me.successName]=Re,Ie[me.errorName]=ye,be.push(Ie)}else if(typeof me.successIndex<"u"||typeof me.errorIndex<"u"){var Ue=function(){me.successIndex>be.length?be[me.successIndex]=Re:be.splice(me.successIndex,0,Re)},qe=function(){me.errorIndex>be.length?be[me.errorIndex]=ye:be.splice(me.errorIndex,0,ye)};me.successIndex>me.errorIndex?(qe(),Ue()):(Ue(),qe())}else be.push(Re),be.push(ye);return be}(Re,ye,Ie,Ue);var qe=ne(be,me);if(!0===qe){var nt=ke(be.constructor.getPluginRef());return nt[me].apply(nt,Re)}return qe}function ke(be){return typeof window<"u"?ze(window,be):null}function ze(be,me){for(var Re=me.split("."),ye=be,Ie=0;Ie<Re.length;Ie++){if(!ye)return null;ye=ye[Re[Ie]]}return ye}var _t=function(){function be(){}return be.installed=function(){return!0===ne(this.pluginRef)},be.getPlugin=function(){return typeof window<"u"?function Mt(be,me){for(var Re=me.split("."),ye=be,Ie=0;Ie<Re.length;Ie++){if(!ye)return null;ye=ye[Re[Ie]]}return ye}(window,this.pluginRef):null},be.getPluginName=function(){return this.pluginName},be.getPluginRef=function(){return this.pluginRef},be.getPluginInstallName=function(){return this.plugin},be.getSupportedPlatforms=function(){return this.platforms},be.pluginName="",be.pluginRef="",be.plugin="",be.repo="",be.platforms=[],be.install="",be}();function Me(be,me,Re,ye){return function(be,me,Re){return void 0===Re&&(Re={}),function(){for(var ye=[],Ie=0;Ie<arguments.length;Ie++)ye[Ie]=arguments[Ie];return Re.sync?Qe(be,me,ye,Re):Re.observable?ie(be,me,ye,Re):Re.eventObservable&&Re.event?ae(Re.event,Re.element):Re.otherPromise?Ee(be,me,ye,Re):ve(be,me,ye,Re)}}(be,me,Re).apply(this,ye)}!function X(){if(typeof process>"u"){var be=typeof window<"u"?window:{},Re=Date.now(),ye=!1;be.document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-Re)+" ms"),ye=!0}),setTimeout(function(){!ye&&be.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},5e3)}}();var Oe=O(4650),re=function(be){function me(){return null!==be&&be.apply(this,arguments)||this}return(0,u.ZT)(me,be),me.prototype.getAppName=function(){return Me(this,"getAppName",{},arguments)},me.prototype.getPackageName=function(){return Me(this,"getPackageName",{},arguments)},me.prototype.getVersionCode=function(){return Me(this,"getVersionCode",{},arguments)},me.prototype.getVersionNumber=function(){return Me(this,"getVersionNumber",{},arguments)},me.\u0275fac=function(){let Re;return function(Ie){return(Re||(Re=Oe.n5z(me)))(Ie||me)}}(),me.\u0275prov=Oe.Yz7({token:me,factory:me.\u0275fac}),me.pluginName="AppVersion",me.plugin="cordova-plugin-app-version",me.pluginRef="cordova.getAppVersion",me.repo="https://github.com/whiteoctober/cordova-plugin-app-version",me.platforms=["Android","iOS","Windows"],me=(0,u.gn)([],me)}(_t)},2090:(ln,pt,O)=>{"use strict";O.d(pt,{$s:()=>Ui,BH:()=>pe,G6:()=>_t,L:()=>ve,LL:()=>Oe,Sg:()=>He,UG:()=>ke,US:()=>J,ZB:()=>ae,ZR:()=>oe,b$:()=>Se,eu:()=>Ge,hl:()=>Me,jU:()=>ze,m9:()=>qn,ne:()=>yn,pd:()=>zr,r3:()=>Rt,ru:()=>St,tV:()=>Ee,uI:()=>Ve,vZ:()=>wn,w1:()=>bt,xO:()=>sr,xb:()=>Lt,z$:()=>Qe,zI:()=>Ce,zd:()=>ri});const Be=function(ot){const tt=[];let Ze=0;for(let et=0;et<ot.length;et++){let st=ot.charCodeAt(et);st<128?tt[Ze++]=st:st<2048?(tt[Ze++]=st>>6|192,tt[Ze++]=63&st|128):55296==(64512&st)&&et+1<ot.length&&56320==(64512&ot.charCodeAt(et+1))?(st=65536+((1023&st)<<10)+(1023&ot.charCodeAt(++et)),tt[Ze++]=st>>18|240,tt[Ze++]=st>>12&63|128,tt[Ze++]=st>>6&63|128,tt[Ze++]=63&st|128):(tt[Ze++]=st>>12|224,tt[Ze++]=st>>6&63|128,tt[Ze++]=63&st|128)}return tt},J={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ot,tt){if(!Array.isArray(ot))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Ze=tt?this.byteToCharMapWebSafe_:this.byteToCharMap_,et=[];for(let st=0;st<ot.length;st+=3){const Wt=ot[st],tn=st+1<ot.length,gn=tn?ot[st+1]:0,dr=st+2<ot.length,zn=dr?ot[st+2]:0;let jn=(15&gn)<<2|zn>>6,Wr=63&zn;dr||(Wr=64,tn||(jn=64)),et.push(Ze[Wt>>2],Ze[(3&Wt)<<4|gn>>4],Ze[jn],Ze[Wr])}return et.join("")},encodeString(ot,tt){return this.HAS_NATIVE_SUPPORT&&!tt?btoa(ot):this.encodeByteArray(Be(ot),tt)},decodeString(ot,tt){return this.HAS_NATIVE_SUPPORT&&!tt?atob(ot):function(ot){const tt=[];let Ze=0,et=0;for(;Ze<ot.length;){const st=ot[Ze++];if(st<128)tt[et++]=String.fromCharCode(st);else if(st>191&&st<224){const Wt=ot[Ze++];tt[et++]=String.fromCharCode((31&st)<<6|63&Wt)}else if(st>239&&st<365){const dr=((7&st)<<18|(63&ot[Ze++])<<12|(63&ot[Ze++])<<6|63&ot[Ze++])-65536;tt[et++]=String.fromCharCode(55296+(dr>>10)),tt[et++]=String.fromCharCode(56320+(1023&dr))}else{const Wt=ot[Ze++],tn=ot[Ze++];tt[et++]=String.fromCharCode((15&st)<<12|(63&Wt)<<6|63&tn)}}return tt.join("")}(this.decodeStringToByteArray(ot,tt))},decodeStringToByteArray(ot,tt){this.init_();const Ze=tt?this.charToByteMapWebSafe_:this.charToByteMap_,et=[];for(let st=0;st<ot.length;){const Wt=Ze[ot.charAt(st++)],gn=st<ot.length?Ze[ot.charAt(st)]:0;++st;const zn=st<ot.length?Ze[ot.charAt(st)]:64;++st;const cn=st<ot.length?Ze[ot.charAt(st)]:64;if(++st,null==Wt||null==gn||null==zn||null==cn)throw Error();et.push(Wt<<2|gn>>4),64!==zn&&(et.push(gn<<4&240|zn>>2),64!==cn&&et.push(zn<<6&192|cn))}return et},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ot=0;ot<this.ENCODED_VALS.length;ot++)this.byteToCharMap_[ot]=this.ENCODED_VALS.charAt(ot),this.charToByteMap_[this.byteToCharMap_[ot]]=ot,this.byteToCharMapWebSafe_[ot]=this.ENCODED_VALS_WEBSAFE.charAt(ot),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ot]]=ot,ot>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ot)]=ot,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ot)]=ot)}}},ve=function(ot){return function(ot){const tt=Be(ot);return J.encodeByteArray(tt,!0)}(ot).replace(/\./g,"")},Ee=function(ot){try{return J.decodeString(ot,!0)}catch(tt){console.error("base64Decode failed: ",tt)}return null};function ae(ot,tt){if(!(tt instanceof Object))return tt;switch(tt.constructor){case Date:return new Date(tt.getTime());case Object:void 0===ot&&(ot={});break;case Array:ot=[];break;default:return tt}for(const Ze in tt)!tt.hasOwnProperty(Ze)||!ne(Ze)||(ot[Ze]=ae(ot[Ze],tt[Ze]));return ot}function ne(ot){return"__proto__"!==ot}class pe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((tt,Ze)=>{this.resolve=tt,this.reject=Ze})}wrapCallback(tt){return(Ze,et)=>{Ze?this.reject(Ze):this.resolve(et),"function"==typeof tt&&(this.promise.catch(()=>{}),1===tt.length?tt(Ze):tt(Ze,et))}}}function He(ot,tt){if(ot.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const et=tt||"demo-project",st=ot.iat||0,Wt=ot.sub||ot.user_id;if(!Wt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const tn=Object.assign({iss:`https://securetoken.google.com/${et}`,aud:et,iat:st,exp:st+3600,auth_time:st,sub:Wt,user_id:Wt,firebase:{sign_in_provider:"custom",identities:{}}},ot);return[ve(JSON.stringify({alg:"none",type:"JWT"})),ve(JSON.stringify(tn)),""].join(".")}function Qe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ve(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qe())}function ke(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ze(){return"object"==typeof self&&self.self===self}function St(){const ot="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ot&&void 0!==ot.id}function Se(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function bt(){const ot=Qe();return ot.indexOf("MSIE ")>=0||ot.indexOf("Trident/")>=0}function _t(){return!ke()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Me(){return"object"==typeof indexedDB}function Ge(){return new Promise((ot,tt)=>{try{let Ze=!0;const et="validate-browser-context-for-indexeddb-analytics-module",st=self.indexedDB.open(et);st.onsuccess=()=>{st.result.close(),Ze||self.indexedDB.deleteDatabase(et),ot(!0)},st.onupgradeneeded=()=>{Ze=!1},st.onerror=()=>{var Wt;tt((null===(Wt=st.error)||void 0===Wt?void 0:Wt.message)||"")}}catch(Ze){tt(Ze)}})}function Ce(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class oe extends Error{constructor(tt,Ze,et){super(Ze),this.code=tt,this.customData=et,this.name="FirebaseError",Object.setPrototypeOf(this,oe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Oe.prototype.create)}}class Oe{constructor(tt,Ze,et){this.service=tt,this.serviceName=Ze,this.errors=et}create(tt,...Ze){const et=Ze[0]||{},st=`${this.service}/${tt}`,Wt=this.errors[tt],tn=Wt?function re(ot,tt){return ot.replace(be,(Ze,et)=>{const st=tt[et];return null!=st?String(st):`<${et}?>`})}(Wt,et):"Error";return new oe(st,`${this.serviceName}: ${tn} (${st}).`,et)}}const be=/\{\$([^}]+)}/g;function Rt(ot,tt){return Object.prototype.hasOwnProperty.call(ot,tt)}function Lt(ot){for(const tt in ot)if(Object.prototype.hasOwnProperty.call(ot,tt))return!1;return!0}function wn(ot,tt){if(ot===tt)return!0;const Ze=Object.keys(ot),et=Object.keys(tt);for(const st of Ze){if(!et.includes(st))return!1;const Wt=ot[st],tn=tt[st];if(An(Wt)&&An(tn)){if(!wn(Wt,tn))return!1}else if(Wt!==tn)return!1}for(const st of et)if(!Ze.includes(st))return!1;return!0}function An(ot){return null!==ot&&"object"==typeof ot}function sr(ot){const tt=[];for(const[Ze,et]of Object.entries(ot))Array.isArray(et)?et.forEach(st=>{tt.push(encodeURIComponent(Ze)+"="+encodeURIComponent(st))}):tt.push(encodeURIComponent(Ze)+"="+encodeURIComponent(et));return tt.length?"&"+tt.join("&"):""}function ri(ot){const tt={};return ot.replace(/^\?/,"").split("&").forEach(et=>{if(et){const[st,Wt]=et.split("=");tt[decodeURIComponent(st)]=decodeURIComponent(Wt)}}),tt}function zr(ot){const tt=ot.indexOf("?");if(!tt)return"";const Ze=ot.indexOf("#",tt);return ot.substring(tt,Ze>0?Ze:void 0)}function yn(ot,tt){const Ze=new sn(ot,tt);return Ze.subscribe.bind(Ze)}class sn{constructor(tt,Ze){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ze,this.task.then(()=>{tt(this)}).catch(et=>{this.error(et)})}next(tt){this.forEachObserver(Ze=>{Ze.next(tt)})}error(tt){this.forEachObserver(Ze=>{Ze.error(tt)}),this.close(tt)}complete(){this.forEachObserver(tt=>{tt.complete()}),this.close()}subscribe(tt,Ze,et){let st;if(void 0===tt&&void 0===Ze&&void 0===et)throw new Error("Missing Observer.");st=function Ei(ot,tt){if("object"!=typeof ot||null===ot)return!1;for(const Ze of tt)if(Ze in ot&&"function"==typeof ot[Ze])return!0;return!1}(tt,["next","error","complete"])?tt:{next:tt,error:Ze,complete:et},void 0===st.next&&(st.next=Ln),void 0===st.error&&(st.error=Ln),void 0===st.complete&&(st.complete=Ln);const Wt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?st.error(this.finalError):st.complete()}catch{}}),this.observers.push(st),Wt}unsubscribeOne(tt){void 0===this.observers||void 0===this.observers[tt]||(delete this.observers[tt],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(tt){if(!this.finalized)for(let Ze=0;Ze<this.observers.length;Ze++)this.sendOne(Ze,tt)}sendOne(tt,Ze){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[tt])try{Ze(this.observers[tt])}catch(et){typeof console<"u"&&console.error&&console.error(et)}})}close(tt){this.finalized||(this.finalized=!0,void 0!==tt&&(this.finalError=tt),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ln(){}function Ui(ot,tt=1e3,Ze=2){const et=tt*Math.pow(Ze,ot),st=Math.round(.5*et*(Math.random()-.5)*2);return Math.min(144e5,et+st)}function qn(ot){return ot&&ot._delegate?ot._delegate:ot}},602:(ln,pt,O)=>{"use strict";O.d(pt,{X:()=>Be});var u=O(655),X=O(5419),W=O(4650),Be=function(Ne){function J(){return null!==Ne&&Ne.apply(this,arguments)||this}return(0,u.ZT)(J,Ne),J.prototype.callNumber=function(fe,ve){return(0,X.DM)(this,"callNumber",{callbackOrder:"reverse"},arguments)},J.prototype.isCallSupported=function(){return(0,X.DM)(this,"isCallSupported",{},arguments)},J.pluginName="CallNumber",J.plugin="call-number",J.pluginRef="plugins.CallNumber",J.repo="https://github.com/Rohfosho/CordovaCallNumberPlugin",J.platforms=["Android","iOS"],J.\u0275fac=function(){var fe;return function(Ee){return(fe||(fe=W.n5z(J)))(Ee||J)}}(),J.\u0275prov=W.Yz7({token:J,factory:function(fe){return J.\u0275fac(fe)}}),J}(X.KY)},9646:(ln,pt,O)=>{"use strict";O.d(pt,{V1:()=>ie});var u=O(655),X=O(5419),W=O(4650),ie=function(ae){function ne(){var pe=null!==ae&&ae.apply(this,arguments)||this;return pe.DestinationType={DATA_URL:0,FILE_URI:1,NATIVE_URI:2},pe.EncodingType={JPEG:0,PNG:1},pe.MediaType={PICTURE:0,VIDEO:1,ALLMEDIA:2},pe.PictureSourceType={PHOTOLIBRARY:0,CAMERA:1,SAVEDPHOTOALBUM:2},pe.PopoverArrowDirection={ARROW_UP:1,ARROW_DOWN:2,ARROW_LEFT:4,ARROW_RIGHT:8,ARROW_ANY:15},pe.Direction={BACK:0,FRONT:1},pe}return(0,u.ZT)(ne,ae),ne.prototype.getPicture=function(pe){return(0,X.DM)(this,"getPicture",{callbackOrder:"reverse"},arguments)},ne.prototype.cleanup=function(){return(0,X.DM)(this,"cleanup",{platforms:["iOS"]},arguments)},ne.pluginName="Camera",ne.plugin="cordova-plugin-camera",ne.pluginRef="navigator.camera",ne.repo="https://github.com/apache/cordova-plugin-camera",ne.platforms=["Android","Browser","iOS","Windows"],ne.\u0275fac=function(){var pe;return function(Qe){return(pe||(pe=W.n5z(ne)))(Qe||ne)}}(),ne.\u0275prov=W.Yz7({token:ne,factory:function(pe){return ne.\u0275fac(pe)}}),ne}(X.KY)},5419:(ln,pt,O)=>{"use strict";O.d(pt,{KY:()=>rt,gR:()=>ae,DM:()=>_t,sM:()=>J});var X=O(6498),W=O(3753),Be={error:"cordova_not_available"},Ne={error:"plugin_not_installed"};function J(oe){if(typeof window<"u"&&window.angular){var re=window.document,be=window.angular.element(re.querySelector("[ng-app]")||re.body).injector();if(be)return be.get("$q")(function(Re,ye){oe(Re,ye)});console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise(function(Re,ye){oe(Re,ye)});console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function fe(oe,Oe,re,be){void 0===be&&(be={});var me,Re,ye=J(function(Ie,Ue){me=be.destruct?He(oe,Oe,re,be,function(){for(var qe=[],nt=0;nt<arguments.length;nt++)qe[nt]=arguments[nt];return Ie(qe)},function(){for(var qe=[],nt=0;nt<arguments.length;nt++)qe[nt]=arguments[nt];return Ue(qe)}):He(oe,Oe,re,be,Ie,Ue),Re=Ue});return me&&me.error&&(ye.catch(function(){}),"function"==typeof Re&&Re(me.error)),ye}function ve(oe,Oe,re,be){return void 0===be&&(be={}),J(function(me,Re){var ye=He(oe,Oe,re,be);ye?ye.error?Re(ye.error):ye.then&&ye.then(me).catch(Re):Re({error:"unexpected_error"})})}function Ee(oe,Oe,re,be){return void 0===be&&(be={}),new X.y(function(me){var Re;return Re=be.destruct?He(oe,Oe,re,be,function(){for(var ye=[],Ie=0;Ie<arguments.length;Ie++)ye[Ie]=arguments[Ie];return me.next(ye)},function(){for(var ye=[],Ie=0;Ie<arguments.length;Ie++)ye[Ie]=arguments[Ie];return me.error(ye)}):He(oe,Oe,re,be,me.next.bind(me),me.error.bind(me)),Re&&Re.error&&(me.error(Re.error),me.complete()),function(){try{if(be.clearFunction)return be.clearWithArgs?He(oe,be.clearFunction,re,be,me.next.bind(me),me.error.bind(me)):He(oe,be.clearFunction,[])}catch(ye){console.warn("Unable to clear the previous observable watch for",oe.constructor.getPluginName(),Oe),console.warn(ye)}}})}function ie(oe,Oe){return Oe=typeof window<"u"&&Oe?ke(window,Oe):Oe||(typeof window<"u"?window:{}),(0,W.R)(Oe,oe)}function ae(oe,Oe,re){var be,me,Re;return"string"==typeof oe?be=oe:(be=oe.constructor.getPluginRef(),re=oe.constructor.getPluginName(),Re=oe.constructor.getPluginInstallName()),!(!(me=Ve(be))||Oe&&typeof me[Oe]>"u")||(typeof window>"u"||!window.cordova?(function St(oe,Oe){typeof process>"u"&&console.warn(Oe?"Native: tried calling "+oe+"."+Oe+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator":"Native: tried accessing the "+oe+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator")}(re,Oe),Be):(function ze(oe,Oe,re){console.warn(re?"Native: tried calling "+oe+"."+re+", but the "+oe+" plugin is not installed.":"Native: tried accessing the "+oe+" plugin but it's not installed."),Oe&&console.warn("Install the "+oe+" plugin: 'ionic cordova plugin add "+Oe+"'")}(re,Re,Oe),Ne))}function He(oe,Oe,re,be,me,Re){void 0===be&&(be={}),re=function pe(oe,Oe,re,be){if(void 0===Oe&&(Oe={}),Oe.sync)return oe;if("reverse"===Oe.callbackOrder)oe.unshift(be),oe.unshift(re);else if("node"===Oe.callbackStyle)oe.push(function(Ie,Ue){Ie?be(Ie):re(Ue)});else if("object"===Oe.callbackStyle&&Oe.successName&&Oe.errorName){var me={};me[Oe.successName]=re,me[Oe.errorName]=be,oe.push(me)}else if(typeof Oe.successIndex<"u"||typeof Oe.errorIndex<"u"){var Re=function(){Oe.successIndex>oe.length?oe[Oe.successIndex]=re:oe.splice(Oe.successIndex,0,re)},ye=function(){Oe.errorIndex>oe.length?oe[Oe.errorIndex]=be:oe.splice(Oe.errorIndex,0,be)};Oe.successIndex>Oe.errorIndex?(ye(),Re()):(Re(),ye())}else oe.push(re),oe.push(be);return oe}(re,be,me,Re);var ye=ae(oe,Oe);if(!0===ye){var Ie=Ve(oe.constructor.getPluginRef());return Ie[Oe].apply(Ie,re)}return ye}function Ve(oe){return typeof window<"u"?ke(window,oe):null}function ke(oe,Oe){for(var re=Oe.split("."),be=oe,me=0;me<re.length;me++){if(!be)return null;be=be[re[me]]}return be}var rt=function(){function oe(){}return oe.installed=function(){return!0===ae(this.pluginRef)},oe.getPlugin=function(){return typeof window<"u"?function bt(oe,Oe){for(var re=Oe.split("."),be=oe,me=0;me<re.length;me++){if(!be)return null;be=be[re[me]]}return be}(window,this.pluginRef):null},oe.getPluginName=function(){return this.pluginName},oe.getPluginRef=function(){return this.pluginRef},oe.getPluginInstallName=function(){return this.plugin},oe.getSupportedPlatforms=function(){return this.platforms},oe.pluginName="",oe.pluginRef="",oe.plugin="",oe.repo="",oe.platforms=[],oe.install="",oe}();function _t(oe,Oe,re,be){return function(oe,Oe,re){return void 0===re&&(re={}),function(){for(var be=[],me=0;me<arguments.length;me++)be[me]=arguments[me];return re.sync?He(oe,Oe,be,re):re.observable?Ee(oe,Oe,be,re):re.eventObservable&&re.event?ie(re.event,re.element):re.otherPromise?ve(oe,Oe,be,re):fe(oe,Oe,be,re)}}(oe,Oe,re).apply(this,be)}!function u(){if(typeof process>"u"){var oe=typeof window<"u"?window:{},re=Date.now(),be=!1;oe.document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-re)+" ms"),be=!0}),setTimeout(function(){!be&&oe.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},5e3)}}()},8394:(ln,pt,O)=>{"use strict";O.d(pt,{w:()=>Be});var u=O(655),X=O(5419),W=O(4650),Be=function(Ne){function J(){return null!==Ne&&Ne.apply(this,arguments)||this}return(0,u.ZT)(J,Ne),J.prototype.hasPermission=function(){return(0,X.DM)(this,"hasPermission",{successIndex:0,errorIndex:2},arguments)},J.prototype.requestPermission=function(){return(0,X.DM)(this,"requestPermission",{successIndex:0,errorIndex:2},arguments)},J.prototype.hasAccount=function(){var fe=this;return function(){if(!0===(0,X.gR)(fe))return(0,X.sM)(function(ve){J.getPlugin().hasAccount(function(Ee){ve(!!Ee)})})}()},J.prototype.hasClient=function(fe){var ve=this;return function(){if(!0===(0,X.gR)(ve))return(0,X.sM)(function(Ee){fe?J.getPlugin().hasClient(fe,function(ie){Ee(!!ie)}):J.getPlugin().getClients(function(ie){Ee(ie&&ie.length>0)})})}()},J.prototype.getClients=function(){var fe=this;return function(){if(!0===(0,X.gR)(fe))return(0,X.sM)(function(ve){J.getPlugin().getClients(function(Ee){"[object String]"===Object.prototype.toString.call(Ee)&&(Ee=[Ee]),ve(Ee)})})}()},J.prototype.isAvailable=function(fe){var ve=this;return function(){if(!0===(0,X.gR)(ve))return(0,X.sM)(function(Ee){Promise.all([ve.hasAccount,ve.hasClient(fe)]).then(function(ie){return Ee(2===ie.length&&ie[0]&&ie[1])})})}()},J.prototype.open=function(fe,ve){return(0,X.DM)(this,"open",{successIndex:1,errorIndex:3},arguments)},J.prototype.addAlias=function(fe,ve){return(0,X.DM)(this,"addAlias",{},arguments)},J.pluginName="EmailComposer",J.plugin="cordova-plugin-email-composer",J.pluginRef="cordova.plugins.email",J.repo="https://github.com/katzer/cordova-plugin-email-composer",J.platforms=["Amazon Fire OS","Android","Browser","iOS","Windows","macOS"],J.\u0275fac=function(){var fe;return function(Ee){return(fe||(fe=W.n5z(J)))(Ee||J)}}(),J.\u0275prov=W.Yz7({token:J,factory:function(fe){return J.\u0275fac(fe)}}),J}(X.KY)},191:(ln,pt,O)=>{"use strict";O.d(pt,{BX:()=>Xs,vB:()=>pa,w:()=>wn,dr:()=>Tr,BJ:()=>Fr,oU:()=>Cn,cs:()=>Ws,YG:()=>br,Sm:()=>Jn,PM:()=>Kn,nz:()=>Xr,wI:()=>ot,W2:()=>tt,x4:()=>Ze,fr:()=>gn,jY:()=>dr,Gu:()=>zn,gu:()=>tr,pK:()=>vr,Ie:()=>Dn,Q$:()=>It,jP:()=>zi,Nd:()=>Pn,VI:()=>fi,t9:()=>Ss,n0:()=>yi,yW:()=>mt,wd:()=>Yt,sr:()=>Bn,Pc:()=>jo,r4:()=>Uo,IN:()=>Vn,SH:()=>Mi,X1:()=>Hn,as:()=>An,t4:()=>mo,QI:()=>sr,j9:()=>ri,yF:()=>Sa});var u=O(4650),X=O(4719),W=O(655),Be=O(3753),Ne=O(8929),J=O(591),fe=O(5181),ve=O(9442),ae=(O(9950),O(4802),O(8685)),pe=(O(3139),O(1671)),He=O(3756),Qe=O(471),ke=(O(604),O(4239)),St=(O(3509),O(7936)),_t=O(2198),Me=O(7545),Ge=O(5778),Ce=O(6895);const xe=pe.i,re=["*"],Ue=b=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(b):"function"==typeof requestAnimationFrame?requestAnimationFrame(b):setTimeout(b),qe=b=>!!b.resolveComponentFactory;let nt=(()=>{class b{constructor(E,H){this.injector=E,this.el=H,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(E){this.el.nativeElement.value=this.lastValue=E??"",Rt(this.el)}handleChangeEvent(E,H){E===this.el.nativeElement&&(H!==this.lastValue&&(this.lastValue=H,this.onChange(H)),Rt(this.el))}_handleBlurEvent(E){E===this.el.nativeElement&&(this.onTouched(),Rt(this.el))}registerOnChange(E){this.onChange=E}registerOnTouched(E){this.onTouched=E}setDisabledState(E){this.el.nativeElement.disabled=E}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let E;try{E=this.injector.get(X.a5)}catch{}if(!E)return;E.statusChanges&&(this.statusChanges=E.statusChanges.subscribe(()=>Rt(this.el)));const H=E.control;H&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(Nt=>{if(typeof H[Nt]<"u"){const $=H[Nt].bind(H);H[Nt]=(...V)=>{$(...V),Rt(this.el)}}})}}return b.\u0275fac=function(E){return new(E||b)(u.Y36(u.zs3),u.Y36(u.SBq))},b.\u0275dir=u.lG2({type:b,hostBindings:function(E,H){1&E&&u.NdJ("ionBlur",function(Nt){return H._handleBlurEvent(Nt.target)})}}),b})();const Rt=b=>{Ue(()=>{const z=b.nativeElement,E=null!=z.value&&z.value.toString().length>0,H=gt(z);Lt(z,H);const _e=z.closest("ion-item");_e&&Lt(_e,E?[...H,"item-has-value"]:H)})},gt=b=>{const z=b.classList,E=[];for(let H=0;H<z.length;H++){const _e=z.item(H);null!==_e&&pn(_e,"ng-")&&E.push(`ion-${_e.substring(3)}`)}return E},Lt=(b,z)=>{const E=b.classList;E.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),E.add(...z)},pn=(b,z)=>b.substring(0,z.length)===z;let wn=(()=>{class b extends nt{constructor(E,H){super(E,H)}writeValue(E){this.el.nativeElement.checked=this.lastValue=E??!1,Rt(this.el)}_handleIonChange(E){this.handleChangeEvent(E,E.checked)}}return b.\u0275fac=function(E){return new(E||b)(u.Y36(u.zs3),u.Y36(u.SBq))},b.\u0275dir=u.lG2({type:b,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(E,H){1&E&&u.NdJ("ionChange",function(Nt){return H._handleIonChange(Nt.target)})},features:[u._Bn([{provide:X.JU,useExisting:b,multi:!0}]),u.qOj]}),b})(),An=(()=>{class b extends nt{constructor(E,H){super(E,H)}_handleIonChange(E){this.handleChangeEvent(E,E.value)}registerOnChange(E){super.registerOnChange(H=>{E(""===H?null:parseFloat(H))})}}return b.\u0275fac=function(E){return new(E||b)(u.Y36(u.zs3),u.Y36(u.SBq))},b.\u0275dir=u.lG2({type:b,selectors:[["ion-input","type","number"]],hostBindings:function(E,H){1&E&&u.NdJ("ionChange",function(Nt){return H._handleIonChange(Nt.target)})},features:[u._Bn([{provide:X.JU,useExisting:b,multi:!0}]),u.qOj]}),b})(),sr=(()=>{class b extends nt{constructor(E,H){super(E,H)}_handleChangeEvent(E){this.handleChangeEvent(E,E.value)}}return b.\u0275fac=function(E){return new(E||b)(u.Y36(u.zs3),u.Y36(u.SBq))},b.\u0275dir=u.lG2({type:b,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(E,H){1&E&&u.NdJ("ionChange",function(Nt){return H._handleChangeEvent(Nt.target)})},features:[u._Bn([{provide:X.JU,useExisting:b,multi:!0}]),u.qOj]}),b})(),ri=(()=>{class b extends nt{constructor(E,H){super(E,H)}_handleInputEvent(E){this.handleChangeEvent(E,E.value)}}return b.\u0275fac=function(E){return new(E||b)(u.Y36(u.zs3),u.Y36(u.SBq))},b.\u0275dir=u.lG2({type:b,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(E,H){1&E&&u.NdJ("ionChange",function(Nt){return H._handleInputEvent(Nt.target)})},features:[u._Bn([{provide:X.JU,useExisting:b,multi:!0}]),u.qOj]}),b})();const zr=(b,z)=>{const E=b.prototype;z.forEach(H=>{Object.defineProperty(E,H,{get(){return this.el[H]},set(_e){this.z.runOutsideAngular(()=>this.el[H]=_e)}})})},Mr=(b,z)=>{const E=b.prototype;z.forEach(H=>{E[H]=function(){const _e=arguments;return this.z.runOutsideAngular(()=>this.el[H].apply(this.el,_e))}})},yn=(b,z,E)=>{E.forEach(H=>b[H]=(0,Be.R)(z,H))};function zt(b){return function(E){const{defineCustomElementFn:H,inputs:_e,methods:Nt}=b;return void 0!==H&&H(),_e&&zr(E,_e),Nt&&Mr(E,Nt),E}}let Tr=(()=>{let b=class{constructor(E,H,_e){this.z=_e,E.detach(),this.el=H.nativeElement}};return b.\u0275fac=function(E){return new(E||b)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},b.\u0275cmp=u.Xpm({type:b,selectors:[["ion-app"]],ngContentSelectors:re,decls:1,vars:0,template:function(E,H){1&E&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,W.gn)([zt({defineCustomElementFn:void 0})],b),b})(),Fr=(()=>{let b=class{constructor(E,H,_e){this.z=_e,E.detach(),this.el=H.nativeElement}};return b.\u0275fac=function(E){return new(E||b)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},b.\u0275cmp=u.Xpm({type:b,selectors:[["ion-avatar"]],ngContentSelectors:re,decls:1,vars:0,template:function(E,H){1&E&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,W.gn)([zt({defineCustomElementFn:void 0})],b),b})(),Cn=(()=>{let b=class{constructor(E,H,_e){this.z=_e,E.detach(),this.el=H.nativeElement}};return b.\u0275fac=function(E){return new(E||b)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},b.\u0275cmp=u.Xpm({type:b,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:re,decls:1,vars:0,template:function(E,H){1&E&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,W.gn)([zt({defineCustomElementFn:void 0,inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],b),b})(),br=(()=>{let b=class{constructor(E,H,_e){this.z=_e,E.detach(),this.el=H.nativeElement,yn(this,this.el,["ionFocus","ionBlur"])}};return b.\u0275fac=function(E){return new(E||b)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},b.\u0275cmp=u.Xpm({type:b,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:re,decls:1,vars:0,template:function(E,H){1&E&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,W.gn)([zt({defineCustomElementFn:void 0,inputs:["buttonType","color","disabled","download","expand","fill","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],b),b})(),Jn=(()=>{let b=class{constructor(E,H,_e){this.z=_e,E.detach(),this.el=H.nativeElement}};return b.\u0275fac=function(E){return new(E||b)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},b.\u0275cmp=u.Xpm({type:b,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:re,decls:1,vars:0,template:function(E,H){1&E&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,W.gn)([zt({defineCustomElementFn:void 0,inputs:["collapse"]})],b),b})(),Kn=(()=>{let b=class{constructor(E,H,_e){this.z=_e,E.detach(),this.el=H.nativeElement}};return b.\u0275fac=function(E){return new(E||b)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},b.\u0275cmp=u.Xpm({type:b,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:re,decls:1,vars:0,template:function(E,H){1&E&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,W.gn)([zt({defineCustomElementFn:void 0,inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],b),b})(),Xr=(()=>{let b=class{constructor(E,H,_e){this.z=_e,E.detach(),this.el=H.nativeElement,yn(this,this.el,["ionChange","ionFocus","ionBlur"])}};return b.\u0275fac=function(E){return new(E||b)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},b.\u0275cmp=u.Xpm({type:b,selectors:[["ion-checkbox"]],inputs:{checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",mode:"mode",name:"name",value:"value"},ngContentSelectors:re,decls:1,vars:0,template:function(E,H){1&E&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,W.gn)([zt({defineCustomElementFn:void 0,inputs:["checked","color","disabled","indeterminate","mode","name","value"]})],b),b})(),ot=(()=>{let b=class{constructor(E,H,_e){this.z=_e,E.detach(),this.el=H.nativeElement}};return b.\u0275fac=function(E){return new(E||b)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},b.\u0275cmp=u.Xpm({type:b,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:re,decls:1,vars:0,template:function(E,H){1&E&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,W.gn)([zt({defineCustomElementFn:void 0,inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],b),b})(),tt=(()=>{let b=class{constructor(E,H,_e){this.z=_e,E.detach(),this.el=H.nativeElement,yn(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return b.\u0275fac=function(E){return new(E||b)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},b.\u0275cmp=u.Xpm({type:b,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:re,decls:1,vars:0,template:function(E,H){1&E&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,W.gn)([zt({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],b),b})(),Ze=(()=>{let b=class{constructor(E,H,_e){this.z=_e,E.detach(),this.el=H.nativeElement,yn(this,this.el,["ionCancel","ionChange","ionFocus","ionBlur"])}};return b.\u0275fac=function(E){return new(E||b)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},b.\u0275cmp=u.Xpm({type:b,selectors:[["ion-datetime"]],inputs:{cancelText:"cancelText",clearText:"clearText",color:"color",dayValues:"dayValues",disabled:"disabled",doneText:"doneText",firstDayOfWeek:"firstDayOfWeek",hourCycle:"hourCycle",hourValues:"hourValues",isDateEnabled:"isDateEnabled",locale:"locale",max:"max",min:"min",minuteValues:"minuteValues",mode:"mode",monthValues:"monthValues",multiple:"multiple",name:"name",preferWheel:"preferWheel",presentation:"presentation",readonly:"readonly",showClearButton:"showClearButton",showDefaultButtons:"showDefaultButtons",showDefaultTimeLabel:"showDefaultTimeLabel",showDefaultTitle:"showDefaultTitle",size:"size",value:"value",yearValues:"yearValues"},ngContentSelectors:re,decls:1,vars:0,template:function(E,H){1&E&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,W.gn)([zt({defineCustomElementFn:void 0,inputs:["cancelText","clearText","color","dayValues","disabled","doneText","firstDayOfWeek","hourCycle","hourValues","isDateEnabled","locale","max","min","minuteValues","mode","monthValues","multiple","name","preferWheel","presentation","readonly","showClearButton","showDefaultButtons","showDefaultTimeLabel","showDefaultTitle","size","value","yearValues"],methods:["confirm","reset","cancel"]})],b),b})(),gn=(()=>{let b=class{constructor(E,H,_e){this.z=_e,E.detach(),this.el=H.nativeElement}};return b.\u0275fac=function(E){return new(E||b)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},b.\u0275cmp=u.Xpm({type:b,selectors:[["ion-footer"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:re,decls:1,vars:0,template:function(E,H){1&E&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,W.gn)([zt({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],b),b})(),dr=(()=>{let b=class{constructor(E,H,_e){this.z=_e,E.detach(),this.el=H.nativeElement}};return b.\u0275fac=function(E){return new(E||b)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},b.\u0275cmp=u.Xpm({type:b,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:re,decls:1,vars:0,template:function(E,H){1&E&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,W.gn)([zt({defineCustomElementFn:void 0,inputs:["fixed"]})],b),b})(),zn=(()=>{let b=class{constructor(E,H,_e){this.z=_e,E.detach(),this.el=H.nativeElement}};return b.\u0275fac=function(E){return new(E||b)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},b.\u0275cmp=u.Xpm({type:b,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:re,decls:1,vars:0,template:function(E,H){1&E&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,W.gn)([zt({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],b),b})(),tr=(()=>{let b=class{constructor(E,H,_e){this.z=_e,E.detach(),this.el=H.nativeElement}};return b.\u0275fac=function(E){return new(E||b)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},b.\u0275cmp=u.Xpm({type:b,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:re,decls:1,vars:0,template:function(E,H){1&E&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,W.gn)([zt({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],b),b})(),vr=(()=>{let b=class{constructor(E,H,_e){this.z=_e,E.detach(),this.el=H.nativeElement,yn(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return b.\u0275fac=function(E){return new(E||b)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},b.\u0275cmp=u.Xpm({type:b,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:re,decls:1,vars:0,template:function(E,H){1&E&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,W.gn)([zt({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],b),b})(),Dn=(()=>{let b=class{constructor(E,H,_e){this.z=_e,E.detach(),this.el=H.nativeElement}};return b.\u0275fac=function(E){return new(E||b)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},b.\u0275cmp=u.Xpm({type:b,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:re,decls:1,vars:0,template:function(E,H){1&E&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,W.gn)([zt({defineCustomElementFn:void 0,inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],b),b})(),It=(()=>{let b=class{constructor(E,H,_e){this.z=_e,E.detach(),this.el=H.nativeElement}};return b.\u0275fac=function(E){return new(E||b)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},b.\u0275cmp=u.Xpm({type:b,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:re,decls:1,vars:0,template:function(E,H){1&E&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,W.gn)([zt({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],b),b})(),Pn=(()=>{let b=class{constructor(E,H,_e){this.z=_e,E.detach(),this.el=H.nativeElement}};return b.\u0275fac=function(E){return new(E||b)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},b.\u0275cmp=u.Xpm({type:b,selectors:[["ion-row"]],ngContentSelectors:re,decls:1,vars:0,template:function(E,H){1&E&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,W.gn)([zt({defineCustomElementFn:void 0})],b),b})(),fi=(()=>{let b=class{constructor(E,H,_e){this.z=_e,E.detach(),this.el=H.nativeElement,yn(this,this.el,["ionInput","ionChange","ionCancel","ionClear","ionBlur","ionFocus"])}};return b.\u0275fac=function(E){return new(E||b)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},b.\u0275cmp=u.Xpm({type:b,selectors:[["ion-searchbar"]],inputs:{animated:"animated",autocomplete:"autocomplete",autocorrect:"autocorrect",cancelButtonIcon:"cancelButtonIcon",cancelButtonText:"cancelButtonText",clearIcon:"clearIcon",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",mode:"mode",placeholder:"placeholder",searchIcon:"searchIcon",showCancelButton:"showCancelButton",showClearButton:"showClearButton",spellcheck:"spellcheck",type:"type",value:"value"},ngContentSelectors:re,decls:1,vars:0,template:function(E,H){1&E&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,W.gn)([zt({defineCustomElementFn:void 0,inputs:["animated","autocomplete","autocorrect","cancelButtonIcon","cancelButtonText","clearIcon","color","debounce","disabled","enterkeyhint","inputmode","mode","placeholder","searchIcon","showCancelButton","showClearButton","spellcheck","type","value"],methods:["setFocus","getInputElement"]})],b),b})(),Ss=(()=>{let b=class{constructor(E,H,_e){this.z=_e,E.detach(),this.el=H.nativeElement,yn(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return b.\u0275fac=function(E){return new(E||b)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},b.\u0275cmp=u.Xpm({type:b,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",compareWith:"compareWith",disabled:"disabled",interface:"interface",interfaceOptions:"interfaceOptions",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",value:"value"},ngContentSelectors:re,decls:1,vars:0,template:function(E,H){1&E&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,W.gn)([zt({defineCustomElementFn:void 0,inputs:["cancelText","compareWith","disabled","interface","interfaceOptions","mode","multiple","name","okText","placeholder","selectedText","value"],methods:["open"]})],b),b})(),yi=(()=>{let b=class{constructor(E,H,_e){this.z=_e,E.detach(),this.el=H.nativeElement}};return b.\u0275fac=function(E){return new(E||b)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},b.\u0275cmp=u.Xpm({type:b,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:re,decls:1,vars:0,template:function(E,H){1&E&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,W.gn)([zt({defineCustomElementFn:void 0,inputs:["disabled","value"]})],b),b})(),mt=(()=>{let b=class{constructor(E,H,_e){this.z=_e,E.detach(),this.el=H.nativeElement}};return b.\u0275fac=function(E){return new(E||b)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},b.\u0275cmp=u.Xpm({type:b,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:re,decls:1,vars:0,template:function(E,H){1&E&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,W.gn)([zt({defineCustomElementFn:void 0,inputs:["color","mode"]})],b),b})(),Yt=(()=>{let b=class{constructor(E,H,_e){this.z=_e,E.detach(),this.el=H.nativeElement}};return b.\u0275fac=function(E){return new(E||b)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},b.\u0275cmp=u.Xpm({type:b,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:re,decls:1,vars:0,template:function(E,H){1&E&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,W.gn)([zt({defineCustomElementFn:void 0,inputs:["color","size"]})],b),b})(),Bn=(()=>{let b=class{constructor(E,H,_e){this.z=_e,E.detach(),this.el=H.nativeElement}};return b.\u0275fac=function(E){return new(E||b)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},b.\u0275cmp=u.Xpm({type:b,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:re,decls:1,vars:0,template:function(E,H){1&E&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),b=(0,W.gn)([zt({defineCustomElementFn:void 0,inputs:["color","mode"]})],b),b})();class Hn{constructor(z={}){this.data=z}get(z){return this.data[z]}}let Or=(()=>{class b{constructor(E,H){this.zone=E,this.appRef=H}create(E,H,_e){return new Zn(E,H,_e,this.appRef,this.zone)}}return b.\u0275fac=function(E){return new(E||b)(u.LFG(u.R0b),u.LFG(u.z2F))},b.\u0275prov=u.Yz7({token:b,factory:b.\u0275fac}),b})();class Zn{constructor(z,E,H,_e,Nt){this.resolverOrInjector=z,this.injector=E,this.location=H,this.appRef=_e,this.zone=Nt,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(z,E,H,_e){return this.zone.run(()=>new Promise(Nt=>{Nt(ct(this.zone,this.resolverOrInjector,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,z,E,H,_e))}))}removeViewFromDom(z,E){return this.zone.run(()=>new Promise(H=>{const _e=this.elRefMap.get(E);if(_e){_e.destroy(),this.elRefMap.delete(E);const Nt=this.elEventsMap.get(E);Nt&&(Nt(),this.elEventsMap.delete(E))}H()}))}}const ct=(b,z,E,H,_e,Nt,$,V,N,se,Ct)=>{let Qt;const Wn=u.zs3.create({providers:on(se),parent:E});if(z&&qe(z)){const os=z.resolveComponentFactory(N);Qt=H?H.createComponent(os,H.length,Wn):os.create(Wn)}else{if(!H)return null;Qt=H.createComponent(N,{index:H.indexOf,injector:Wn,environmentInjector:z})}const qr=Qt.instance,vi=Qt.location.nativeElement;if(se&&Object.assign(qr,se),Ct)for(const os of Ct)vi.classList.add(os);const wr=yt(b,qr,vi);return V.appendChild(vi),H||_e.attachView(Qt.hostView),Qt.changeDetectorRef.reattach(),Nt.set(vi,Qt),$.set(vi,wr),vi},at=[Qe.L,Qe.a,Qe.b,Qe.c,Qe.d],yt=(b,z,E)=>b.run(()=>{const H=at.filter(_e=>"function"==typeof z[_e]).map(_e=>{const Nt=$=>z[_e]($.detail);return E.addEventListener(_e,Nt),()=>E.removeEventListener(_e,Nt)});return()=>H.forEach(_e=>_e())}),jt=new u.OlP("NavParamsToken"),on=b=>[{provide:jt,useValue:b},{provide:Hn,useFactory:mn,deps:[jt]}],mn=b=>new Hn(b),Ii=(b,z)=>((b=b.filter(E=>E.stackId!==z.stackId)).push(z),b),ji=(b,z)=>{const E=b.createUrlTree(["."],{relativeTo:z});return b.serializeUrl(E)},bi=(b,z)=>{if(!b)return;const E=As(z);for(let H=0;H<E.length;H++){if(H>=b.length)return E[H];if(E[H]!==b[H])return}},As=b=>b.split("/").map(z=>z.trim()).filter(z=>""!==z),go=b=>{b&&(b.ref.destroy(),b.unlistenEvents())};class Bs{constructor(z,E,H,_e,Nt,$){this.containerEl=E,this.router=H,this.navCtrl=_e,this.zone=Nt,this.location=$,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==z?As(z):void 0}createView(z,E){var H;const _e=ji(this.router,E),Nt=null===(H=z?.location)||void 0===H?void 0:H.nativeElement,$=yt(this.zone,z.instance,Nt);return{id:this.nextId++,stackId:bi(this.tabsPrefix,_e),unlistenEvents:$,element:Nt,ref:z,url:_e}}getExistingView(z){const E=ji(this.router,z),H=this.views.find(_e=>_e.url===E);return H&&H.ref.changeDetectorRef.reattach(),H}setActive(z){var E,H;const _e=this.navCtrl.consumeTransition();let{direction:Nt,animation:$,animationBuilder:V}=_e;const N=this.activeView,se=((b,z)=>!z||b.stackId!==z.stackId)(z,N);se&&(Nt="back",$=void 0);const Ct=this.views.slice();let Qt;const Wn=this.router;Wn.getCurrentNavigation?Qt=Wn.getCurrentNavigation():!(null===(E=Wn.navigations)||void 0===E)&&E.value&&(Qt=Wn.navigations.value),null!==(H=Qt?.extras)&&void 0!==H&&H.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const qr=this.views.includes(z),vi=this.insertView(z,Nt);qr||z.ref.changeDetectorRef.detectChanges();const wr=z.animationBuilder;return void 0===V&&"back"===Nt&&!se&&void 0!==wr&&(V=wr),N&&(N.animationBuilder=V),this.zone.runOutsideAngular(()=>this.wait(()=>(N&&N.ref.changeDetectorRef.detach(),z.ref.changeDetectorRef.reattach(),this.transition(z,N,$,this.canGoBack(1),!1,V).then(()=>Bo(z,vi,Ct,this.location,this.zone)).then(()=>({enteringView:z,direction:Nt,animation:$,tabSwitch:se})))))}canGoBack(z,E=this.getActiveStackId()){return this.getStack(E).length>z}pop(z,E=this.getActiveStackId()){return this.zone.run(()=>{var H,_e;const Nt=this.getStack(E);if(Nt.length<=z)return Promise.resolve(!1);const $=Nt[Nt.length-z-1];let V=$.url;const N=$.savedData;if(N){const Ct=N.get("primary");null!==(_e=null===(H=Ct?.route)||void 0===H?void 0:H._routerState)&&void 0!==_e&&_e.snapshot.url&&(V=Ct.route._routerState.snapshot.url)}const{animationBuilder:se}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(V,Object.assign(Object.assign({},$.savedExtras),{animation:se})).then(()=>!0)})}startBackTransition(){const z=this.activeView;if(z){const E=this.getStack(z.stackId),H=E[E.length-2],_e=H.animationBuilder;return this.wait(()=>this.transition(H,z,"back",this.canGoBack(2),!0,_e))}return Promise.resolve()}endBackTransition(z){z?(this.skipTransition=!0,this.pop(1)):this.activeView&&Kr(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(z){const E=this.getStack(z);return E.length>0?E[E.length-1]:void 0}getRootUrl(z){const E=this.getStack(z);return E.length>0?E[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(go),this.activeView=void 0,this.views=[]}getStack(z){return this.views.filter(E=>E.stackId===z)}insertView(z,E){return this.activeView=z,this.views=((b,z,E)=>"root"===E?Ii(b,z):"forward"===E?((b,z)=>(b.indexOf(z)>=0?b=b.filter(H=>H.stackId!==z.stackId||H.id<=z.id):b.push(z),b))(b,z):((b,z)=>b.indexOf(z)>=0?b.filter(H=>H.stackId!==z.stackId||H.id<=z.id):Ii(b,z))(b,z))(this.views,z,E),this.views.slice()}transition(z,E,H,_e,Nt,$){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(E===z)return Promise.resolve(!1);const V=z?z.element:void 0,N=E?E.element:void 0,se=this.containerEl;return V&&V!==N&&(V.classList.add("ion-page"),V.classList.add("ion-page-invisible"),V.parentElement!==se&&se.appendChild(V),se.commit)?se.commit(V,N,{deepWait:!0,duration:void 0===H?0:void 0,direction:H,showGoBack:_e,progressAnimation:Nt,animationBuilder:$}):Promise.resolve(!1)}wait(z){return(0,W.mG)(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const E=this.runningTask=z();return E.finally(()=>this.runningTask=void 0),E})}}const Bo=(b,z,E,H,_e)=>"function"==typeof requestAnimationFrame?new Promise(Nt=>{requestAnimationFrame(()=>{Kr(b,z,E,H,_e),Nt()})}):Promise.resolve(),Kr=(b,z,E,H,_e)=>{_e.run(()=>E.filter(Nt=>!z.includes(Nt)).forEach(go)),z.forEach(Nt=>{const V=H.path().split("?")[0].split("#")[0];if(Nt!==b&&Nt.url!==V){const N=Nt.element;N.setAttribute("aria-hidden","true"),N.classList.add("ion-page-hidden"),Nt.ref.changeDetectorRef.detach()}})};let xs=(()=>{class b{get(E,H){const _e=Vs();return _e?_e.get(E,H):null}getBoolean(E,H){const _e=Vs();return!!_e&&_e.getBoolean(E,H)}getNumber(E,H){const _e=Vs();return _e?_e.getNumber(E,H):0}}return b.\u0275fac=function(E){return new(E||b)},b.\u0275prov=u.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();const fs=new u.OlP("USERCONFIG"),Vs=()=>{if(typeof window<"u"){const b=window.Ionic;if(b?.config)return b.config}return null};let mo=(()=>{class b{constructor(E,H){this.doc=E,this.backButton=new Ne.xQ,this.keyboardDidShow=new Ne.xQ,this.keyboardDidHide=new Ne.xQ,this.pause=new Ne.xQ,this.resume=new Ne.xQ,this.resize=new Ne.xQ,H.run(()=>{var _e;let Nt;this.win=E.defaultView,this.backButton.subscribeWithPriority=function($,V){return this.subscribe(N=>N.register($,se=>H.run(()=>V(se))))},Rs(this.pause,E,"pause"),Rs(this.resume,E,"resume"),Rs(this.backButton,E,"ionBackButton"),Rs(this.resize,this.win,"resize"),Rs(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Rs(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise($=>{Nt=$}),null!==(_e=this.win)&&void 0!==_e&&_e.cordova?E.addEventListener("deviceready",()=>{Nt("cordova")},{once:!0}):Nt("dom")})}is(E){return(0,pe.a)(this.win,E)}platforms(){return(0,pe.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(E){return Ms(this.win.location.href,E)}isLandscape(){return!this.isPortrait()}isPortrait(){var E,H;return null===(H=(E=this.win).matchMedia)||void 0===H?void 0:H.call(E,"(orientation: portrait)").matches}testUserAgent(E){const H=this.win.navigator;return!!(H?.userAgent&&H.userAgent.indexOf(E)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return b.\u0275fac=function(E){return new(E||b)(u.LFG(Ce.K0),u.LFG(u.R0b))},b.\u0275prov=u.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();const Ms=(b,z)=>{z=z.replace(/[[\]\\]/g,"\\$&");const H=new RegExp("[\\?&]"+z+"=([^&#]*)").exec(b);return H?decodeURIComponent(H[1].replace(/\+/g," ")):null},Rs=(b,z,E)=>{z&&z.addEventListener(E,H=>{b.next(H?.detail)})};let Mi=(()=>{class b{constructor(E,H,_e,Nt){this.location=H,this.serializer=_e,this.router=Nt,this.direction=ui,this.animated=rs,this.guessDirection="forward",this.lastNavId=-1,Nt&&Nt.events.subscribe($=>{if($ instanceof fe.OD){const V=$.restoredState?$.restoredState.navigationId:$.id;this.guessDirection=V<this.lastNavId?"back":"forward",this.guessAnimation=$.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?$.id:V}}),E.backButton.subscribeWithPriority(0,$=>{this.pop(),$()})}navigateForward(E,H={}){return this.setDirection("forward",H.animated,H.animationDirection,H.animation),this.navigate(E,H)}navigateBack(E,H={}){return this.setDirection("back",H.animated,H.animationDirection,H.animation),this.navigate(E,H)}navigateRoot(E,H={}){return this.setDirection("root",H.animated,H.animationDirection,H.animation),this.navigate(E,H)}back(E={animated:!0,animationDirection:"back"}){return this.setDirection("back",E.animated,E.animationDirection,E.animation),this.location.back()}pop(){return(0,W.mG)(this,void 0,void 0,function*(){let E=this.topOutlet;for(;E&&!(yield E.pop());)E=E.parentOutlet})}setDirection(E,H,_e,Nt){this.direction=E,this.animated=Qi(E,H,_e),this.animationBuilder=Nt}setTopOutlet(E){this.topOutlet=E}consumeTransition(){let H,E="root";const _e=this.animationBuilder;return"auto"===this.direction?(E=this.guessDirection,H=this.guessAnimation):(H=this.animated,E=this.direction),this.direction=ui,this.animated=rs,this.animationBuilder=void 0,{direction:E,animation:H,animationBuilder:_e}}navigate(E,H){if(Array.isArray(E))return this.router.navigate(E,H);{const _e=this.serializer.parse(E.toString());return void 0!==H.queryParams&&(_e.queryParams=Object.assign({},H.queryParams)),void 0!==H.fragment&&(_e.fragment=H.fragment),this.router.navigateByUrl(_e,H)}}}return b.\u0275fac=function(E){return new(E||b)(u.LFG(mo),u.LFG(Ce.Ye),u.LFG(fe.Hx),u.LFG(fe.F0,8))},b.\u0275prov=u.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();const Qi=(b,z,E)=>{if(!1!==z){if(void 0!==E)return E;if("forward"===b||"back"===b)return b;if("root"===b&&!0===z)return"forward"}},ui="auto",rs=void 0;class Fi{}let zi=(()=>{class b{constructor(E,H,_e,Nt,$,V,N,se,Ct,Qt,Wn,qr,vi,wr){this.parentContexts=E,this.location=H,this.config=$,this.navCtrl=V,this.environmentInjector=N,this.componentFactoryResolver=se,this.parentOutlet=wr,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new J.X(null),this.stackEvents=new u.vpe,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.nativeEl=Qt.nativeElement,this.name=_e||fe.eC,this.tabsPrefix="true"===Nt?ji(Wn,vi):void 0,this.stackCtrl=new Bs(this.tabsPrefix,this.nativeEl,Wn,V,qr,Ct),E.onChildOutletCreated(this.name,this)}set animation(E){this.nativeEl.animation=E}set animated(E){this.nativeEl.animated=E}set swipeGesture(E){this._swipeGesture=E,this.nativeEl.swipeHandler=E?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:H=>this.stackCtrl.endBackTransition(H)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const E=this.getContext();E?.route&&this.activateWith(E.route,E.resolver||null)}new Promise(E=>(0,He.c)(this.nativeEl,E)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(E,H){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const H=this.getContext();this.activatedView.savedData=new Map(H.children.contexts);const _e=this.activatedView.savedData.get("primary");if(_e&&H.route&&(_e.route=Object.assign({},H.route)),this.activatedView.savedExtras={},H.route){const Nt=H.route.snapshot;this.activatedView.savedExtras.queryParams=Nt.queryParams,this.activatedView.savedExtras.fragment=Nt.fragment}}const E=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(E)}}activateWith(E,H){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=E;let _e,Nt=this.stackCtrl.getExistingView(E);if(Nt){_e=this.activated=Nt.ref;const $=Nt.savedData;$&&(this.getContext().children.contexts=$),this.updateActivatedRouteProxy(_e.instance,E)}else{const $=E._futureSnapshot,V=$.routeConfig.component;if(null==V&&$.component)return void console.warn("[Ionic Warning]: Standalone components are not currently supported with ion-router-outlet. You can track this feature request at https://github.com/ionic-team/ionic-framework/issues/25404");const N=this.parentContexts.getOrCreateContext(this.name).children,se=new J.X(null),Ct=this.createActivatedRouteProxy(se,E),Qt=new ra(Ct,N,this.location.injector);if((H=H||this.componentFactoryResolver)&&qe(H)){const Wn=H.resolveComponentFactory(V);_e=this.activated=this.location.createComponent(Wn,this.location.length,Qt)}else _e=this.activated=this.location.createComponent(V,{index:this.location.length,injector:Qt,environmentInjector:H??this.environmentInjector});se.next(_e.instance),Nt=this.stackCtrl.createView(this.activated,E),this.proxyMap.set(_e.instance,Ct),this.currentActivatedRoute$.next({component:_e.instance,activatedRoute:E})}this.activatedView=Nt,this.stackCtrl.setActive(Nt).then($=>{this.navCtrl.setTopOutlet(this),this.activateEvents.emit(_e.instance),this.stackEvents.emit($)})}canGoBack(E=1,H){return this.stackCtrl.canGoBack(E,H)}pop(E=1,H){return this.stackCtrl.pop(E,H)}getLastUrl(E){const H=this.stackCtrl.getLastUrl(E);return H?H.url:void 0}getLastRouteView(E){return this.stackCtrl.getLastUrl(E)}getRootView(E){return this.stackCtrl.getRootUrl(E)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(E,H){const _e=new fe.gz;return _e._futureSnapshot=H._futureSnapshot,_e._routerState=H._routerState,_e.snapshot=H.snapshot,_e.outlet=H.outlet,_e.component=H.component,_e._paramMap=this.proxyObservable(E,"paramMap"),_e._queryParamMap=this.proxyObservable(E,"queryParamMap"),_e.url=this.proxyObservable(E,"url"),_e.params=this.proxyObservable(E,"params"),_e.queryParams=this.proxyObservable(E,"queryParams"),_e.fragment=this.proxyObservable(E,"fragment"),_e.data=this.proxyObservable(E,"data"),_e}proxyObservable(E,H){return E.pipe((0,_t.h)(_e=>!!_e),(0,Me.w)(_e=>this.currentActivatedRoute$.pipe((0,_t.h)(Nt=>null!==Nt&&Nt.component===_e),(0,Me.w)(Nt=>Nt&&Nt.activatedRoute[H]),(0,Ge.x)())))}updateActivatedRouteProxy(E,H){const _e=this.proxyMap.get(E);if(!_e)throw new Error("Could not find activated route proxy for view");_e._futureSnapshot=H._futureSnapshot,_e._routerState=H._routerState,_e.snapshot=H.snapshot,_e.outlet=H.outlet,_e.component=H.component,this.currentActivatedRoute$.next({component:E,activatedRoute:H})}}return b.\u0275fac=function(E){return new(E||b)(u.Y36(fe.y6),u.Y36(u.s_b),u.$8M("name"),u.$8M("tabs"),u.Y36(xs),u.Y36(Mi),u.Y36(Fi,8),u.Y36(u._Vd,8),u.Y36(Ce.Ye),u.Y36(u.SBq),u.Y36(fe.F0),u.Y36(u.R0b),u.Y36(fe.gz),u.Y36(b,12))},b.\u0275dir=u.lG2({type:b,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),b})();class ra{constructor(z,E,H){this.route=z,this.childContexts=E,this.parent=H}get(z,E){return z===fe.gz?this.route:z===fe.y6?this.childContexts:this.parent.get(z,E)}}let Ws=(()=>{class b{constructor(E,H,_e){this.routerOutlet=E,this.navCtrl=H,this.config=_e}onClick(E){var H;const _e=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(H=this.routerOutlet)&&void 0!==H&&H.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),E.preventDefault()):null!=_e&&(this.navCtrl.navigateBack(_e,{animation:this.routerAnimation}),E.preventDefault())}}return b.\u0275fac=function(E){return new(E||b)(u.Y36(zi,8),u.Y36(Mi),u.Y36(xs))},b.\u0275dir=u.lG2({type:b,selectors:[["ion-back-button"]],hostBindings:function(E,H){1&E&&u.NdJ("click",function(Nt){return H.onClick(Nt)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),b})();class ss{constructor(z){this.ctrl=z}create(z){return this.ctrl.create(z||{})}dismiss(z,E,H){return this.ctrl.dismiss(z,E,H)}getTop(){return this.ctrl.getTop()}}let Xs=(()=>{class b extends ss{constructor(){super(ke.b)}}return b.\u0275fac=function(E){return new(E||b)},b.\u0275prov=u.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})(),Vn=(()=>{class b extends ss{constructor(E,H,_e,Nt){super(ke.m),this.angularDelegate=E,this.resolver=H,this.injector=_e,this.environmentInjector=Nt}create(E){var H;return super.create(Object.assign(Object.assign({},E),{delegate:this.angularDelegate.create(null!==(H=this.resolver)&&void 0!==H?H:this.environmentInjector,this.injector)}))}}return b.\u0275fac=function(E){return new(E||b)(u.LFG(Or),u.LFG(u._Vd),u.LFG(u.zs3),u.LFG(Fi,8))},b.\u0275prov=u.Yz7({token:b,factory:b.\u0275fac}),b})(),yo=(()=>{class b extends ss{constructor(E,H,_e,Nt){super(ke.c),this.angularDelegate=E,this.resolver=H,this.injector=_e,this.environmentInjector=Nt}create(E){var H;return super.create(Object.assign(Object.assign({},E),{delegate:this.angularDelegate.create(null!==(H=this.resolver)&&void 0!==H?H:this.environmentInjector,this.injector)}))}}return b.\u0275fac=function(E){return new(E||b)(u.LFG(Or),u.LFG(u._Vd),u.LFG(u.zs3),u.LFG(Fi,8))},b.\u0275prov=u.Yz7({token:b,factory:b.\u0275fac}),b})(),Sa=(()=>{class b extends ss{constructor(){super(ke.t)}}return b.\u0275fac=function(E){return new(E||b)},b.\u0275prov=u.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})(),pa=(()=>{class b{create(E){return(0,ve.c)(E)}easingTime(E,H,_e,Nt,$){return(0,ae.g)(E,H,_e,Nt,$)}}return b.\u0275fac=function(E){return new(E||b)},b.\u0275prov=u.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();class Uo{shouldDetach(z){return!1}shouldAttach(z){return!1}store(z,E){}retrieve(z){return null}shouldReuseRoute(z,E){if(z.routeConfig!==E.routeConfig)return!1;const H=z.params,_e=E.params,Nt=Object.keys(H),$=Object.keys(_e);if(Nt.length!==$.length)return!1;for(const V of Nt)if(_e[V]!==H[V])return!1;return!0}}const Ho=(b,z,E)=>()=>{if(z.defaultView&&typeof window<"u"){(b=>{const z=window,E=z.Ionic;E&&E.config&&"Object"!==E.config.constructor.name||(z.Ionic=z.Ionic||{},z.Ionic.config=Object.assign(Object.assign({},z.Ionic.config),b))})(Object.assign(Object.assign({},b),{_zoneGate:Nt=>E.run(Nt)}));const _e="__zone_symbol__addEventListener"in z.body?"__zone_symbol__addEventListener":"addEventListener";return function ce(){var b=[];if(typeof window<"u"){var z=window;(!z.customElements||z.Element&&(!z.Element.prototype.closest||!z.Element.prototype.matches||!z.Element.prototype.remove||!z.Element.prototype.getRootNode))&&b.push(O.e(6748).then(O.t.bind(O,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||z.NodeList&&!z.NodeList.prototype.forEach||!z.fetch||!function(){try{var H=new URL("b","http://a");return H.pathname="c%20d","http://a/c%20d"===H.href&&H.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&b.push(O.e(2214).then(O.t.bind(O,4144,23)))}return Promise.all(b)}().then(()=>((b,z)=>typeof window>"u"?Promise.resolve():(0,St.p)().then(()=>(xe(),(0,St.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"activated":[32]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal"]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"multiple":[4],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),z))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:Ue,jmp:Nt=>E.runOutsideAngular(Nt),ael(Nt,$,V,N){Nt[_e]($,V,N)},rel(Nt,$,V,N){Nt.removeEventListener($,V,N)}}))}};let jo=(()=>{class b{static forRoot(E){return{ngModule:b,providers:[{provide:fs,useValue:E},{provide:u.ip1,useFactory:Ho,multi:!0,deps:[fs,Ce.K0,u.R0b]}]}}}return b.\u0275fac=function(E){return new(E||b)},b.\u0275mod=u.oAB({type:b}),b.\u0275inj=u.cJS({providers:[Or,Vn,yo],imports:[[Ce.ez]]}),b})()},9442:(ln,pt,O)=>{"use strict";O.d(pt,{c:()=>Qe});var u=O(3756);let X;const Be=Ve=>Ve.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ne=Ve=>{if(void 0===X){const ze=void 0!==Ve.style.webkitAnimationName;X=void 0===Ve.style.animationName&&ze?"-webkit-":""}return X},J=(Ve,ke,ze)=>{const St=ke.startsWith("animation")?Ne(Ve):"";Ve.style.setProperty(St+ke,ze)},fe=(Ve,ke)=>{const ze=ke.startsWith("animation")?Ne(Ve):"";Ve.style.removeProperty(ze+ke)},ie=[],He=(Ve=[],ke)=>{if(void 0!==ke){const ze=Array.isArray(ke)?ke:[ke];return[...Ve,...ze]}return Ve},Qe=Ve=>{let ke,ze,St,Se,Dt,bt,Ge,me,Re,ye,Ie,Rt,gt,Mt=[],rt=[],_t=[],Me=!1,Ce={},ce=[],xe=[],oe={},Oe=0,re=!1,be=!1,Ue=!0,qe=!1,nt=!0,Lt=!1;const pn=Ve,wn=[],An=[],Nn=[],sr=[],ri=[],zr=[],Mr=[],yn=[],sn=[],zt=[],Ei="function"==typeof AnimationEffect||"function"==typeof window.AnimationEffect,Ln="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Ei,Fr=()=>zt,In=(Pe,Ke)=>((Ke?.oneTimeCallback?An:wn).push({c:Pe,o:Ke}),gt),Jn=()=>{if(Ln)zt.forEach(Pe=>{Pe.cancel()}),zt.length=0;else{const Pe=Nn.slice();(0,u.r)(()=>{Pe.forEach(Ke=>{fe(Ke,"animation-name"),fe(Ke,"animation-duration"),fe(Ke,"animation-timing-function"),fe(Ke,"animation-iteration-count"),fe(Ke,"animation-delay"),fe(Ke,"animation-play-state"),fe(Ke,"animation-fill-mode"),fe(Ke,"animation-direction")})})}},Kn=()=>{ri.forEach(Pe=>{Pe?.parentNode&&Pe.parentNode.removeChild(Pe)}),ri.length=0},tn=()=>void 0!==Dt?Dt:Ge?Ge.getFill():"both",gn=()=>void 0!==Re?Re:void 0!==bt?bt:Ge?Ge.getDirection():"normal",dr=()=>re?"linear":void 0!==St?St:Ge?Ge.getEasing():"linear",zn=()=>be?0:void 0!==ye?ye:void 0!==ze?ze:Ge?Ge.getDuration():0,tr=()=>void 0!==Se?Se:Ge?Ge.getIterations():1,cn=()=>void 0!==Ie?Ie:void 0!==ke?ke:Ge?Ge.getDelay():0,Cr=()=>{0!==Oe&&(Oe--,0===Oe&&((()=>{fi(),yn.forEach(Ot=>Ot()),sn.forEach(Ot=>Ot());const Pe=Ue?1:0,Ke=ce,mt=xe,Gt=oe;Nn.forEach(Ot=>{const Yt=Ot.classList;Ke.forEach(hn=>Yt.add(hn)),mt.forEach(hn=>Yt.remove(hn));for(const hn in Gt)Gt.hasOwnProperty(hn)&&J(Ot,hn,Gt[hn])}),wn.forEach(Ot=>Ot.c(Pe,gt)),An.forEach(Ot=>Ot.c(Pe,gt)),An.length=0,nt=!0,Ue&&(qe=!0),Ue=!0})(),Ge&&Ge.animationFinish()))},ci=(Pe=!0)=>{Kn();const Ke=(Ve=>(Ve.forEach(ke=>{for(const ze in ke)if(ke.hasOwnProperty(ze)){const St=ke[ze];if("easing"===ze)ke["animation-timing-function"]=St,delete ke[ze];else{const Se=Be(ze);Se!==ze&&(ke[Se]=St,delete ke[ze])}}}),Ve))(Mt);Nn.forEach(mt=>{if(Ke.length>0){const Gt=((Ve=[])=>Ve.map(ke=>{const ze=ke.offset,St=[];for(const Se in ke)ke.hasOwnProperty(Se)&&"offset"!==Se&&St.push(`${Se}: ${ke[Se]};`);return`${100*ze}% { ${St.join(" ")} }`}).join(" "))(Ke);Rt=void 0!==Ve?Ve:(Ve=>{let ke=ie.indexOf(Ve);return ke<0&&(ke=ie.push(Ve)-1),`ion-animation-${ke}`})(Gt);const Ot=((Ve,ke,ze)=>{const St=(Ve=>{const ke=Ve.getRootNode();return ke.head||ke})(ze),Se=Ne(ze),Dt=St.querySelector("#"+Ve);if(Dt)return Dt;const bt=(ze.ownerDocument||document).createElement("style");return bt.id=Ve,bt.textContent=`@${Se}keyframes ${Ve} { ${ke} } @${Se}keyframes ${Ve}-alt { ${ke} }`,St.appendChild(bt),bt})(Rt,Gt,mt);ri.push(Ot),J(mt,"animation-duration",`${zn()}ms`),J(mt,"animation-timing-function",dr()),J(mt,"animation-delay",`${cn()}ms`),J(mt,"animation-fill-mode",tn()),J(mt,"animation-direction",gn());const Yt=tr()===1/0?"infinite":tr().toString();J(mt,"animation-iteration-count",Yt),J(mt,"animation-play-state","paused"),Pe&&J(mt,"animation-name",`${Ot.id}-alt`),(0,u.r)(()=>{J(mt,"animation-name",Ot.id||null)})}})},Jr=(Pe=!0)=>{(()=>{zr.forEach(Gt=>Gt()),Mr.forEach(Gt=>Gt());const Pe=rt,Ke=_t,mt=Ce;Nn.forEach(Gt=>{const Ot=Gt.classList;Pe.forEach(Yt=>Ot.add(Yt)),Ke.forEach(Yt=>Ot.remove(Yt));for(const Yt in mt)mt.hasOwnProperty(Yt)&&J(Gt,Yt,mt[Yt])})})(),Mt.length>0&&(Ln?(Nn.forEach(Pe=>{const Ke=Pe.animate(Mt,{id:pn,delay:cn(),duration:zn(),easing:dr(),iterations:tr(),fill:tn(),direction:gn()});Ke.pause(),zt.push(Ke)}),zt.length>0&&(zt[0].onfinish=()=>{Cr()})):ci(Pe)),Me=!0},Yr=Pe=>{if(Pe=Math.min(Math.max(Pe,0),.9999),Ln)zt.forEach(Ke=>{Ke.currentTime=Ke.effect.getComputedTiming().delay+zn()*Pe,Ke.pause()});else{const Ke=`-${zn()*Pe}ms`;Nn.forEach(mt=>{Mt.length>0&&(J(mt,"animation-delay",Ke),J(mt,"animation-play-state","paused"))})}},qi=Pe=>{zt.forEach(Ke=>{Ke.effect.updateTiming({delay:cn(),duration:zn(),easing:dr(),iterations:tr(),fill:tn(),direction:gn()})}),void 0!==Pe&&Yr(Pe)},ei=(Pe=!0,Ke)=>{(0,u.r)(()=>{Nn.forEach(mt=>{J(mt,"animation-name",Rt||null),J(mt,"animation-duration",`${zn()}ms`),J(mt,"animation-timing-function",dr()),J(mt,"animation-delay",void 0!==Ke?`-${Ke*zn()}ms`:`${cn()}ms`),J(mt,"animation-fill-mode",tn()||null),J(mt,"animation-direction",gn()||null);const Gt=tr()===1/0?"infinite":tr().toString();J(mt,"animation-iteration-count",Gt),Pe&&J(mt,"animation-name",`${Rt}-alt`),(0,u.r)(()=>{J(mt,"animation-name",Rt||null)})})})},mr=(Pe=!1,Ke=!0,mt)=>(Pe&&sr.forEach(Gt=>{Gt.update(Pe,Ke,mt)}),Ln?qi(mt):ei(Ke,mt),gt),Pr=()=>{Me&&(Ln?zt.forEach(Pe=>{Pe.pause()}):Nn.forEach(Pe=>{J(Pe,"animation-play-state","paused")}),Lt=!0)},Pn=()=>{me=void 0,Cr()},fi=()=>{me&&clearTimeout(me)},xi=Pe=>new Promise(Ke=>{Pe?.sync&&(be=!0,In(()=>be=!1,{oneTimeCallback:!0})),Me||Jr(),qe&&(Ln?(Yr(0),qi()):ei(),qe=!1),nt&&(Oe=sr.length+1,nt=!1),In(()=>Ke(),{oneTimeCallback:!0}),sr.forEach(mt=>{mt.play()}),Ln?(zt.forEach(Pe=>{Pe.play()}),(0===Mt.length||0===Nn.length)&&Cr()):(()=>{if(fi(),(0,u.r)(()=>{Nn.forEach(Pe=>{Mt.length>0&&J(Pe,"animation-play-state","running")})}),0===Mt.length||0===Nn.length)Cr();else{const Pe=cn()||0,Ke=zn()||0,mt=tr()||1;isFinite(mt)&&(me=setTimeout(Pn,Pe+Ke*mt+100)),((Ve,ke)=>{let ze;const St={passive:!0},Dt=bt=>{Ve===bt.target&&(ze&&ze(),fi(),(0,u.r)(()=>{Nn.forEach(Pe=>{fe(Pe,"animation-duration"),fe(Pe,"animation-delay"),fe(Pe,"animation-play-state")}),(0,u.r)(Cr)}))};Ve&&(Ve.addEventListener("webkitAnimationEnd",Dt,St),Ve.addEventListener("animationend",Dt,St),ze=()=>{Ve.removeEventListener("webkitAnimationEnd",Dt,St),Ve.removeEventListener("animationend",Dt,St)})})(Nn[0])}})(),Lt=!1}),De=(Pe,Ke)=>{const mt=Mt[0];return void 0===mt||void 0!==mt.offset&&0!==mt.offset?Mt=[{offset:0,[Pe]:Ke},...Mt]:mt[Pe]=Ke,gt};return gt={parentAnimation:Ge,elements:Nn,childAnimations:sr,id:pn,animationFinish:Cr,from:De,to:(Pe,Ke)=>{const mt=Mt[Mt.length-1];return void 0===mt||void 0!==mt.offset&&1!==mt.offset?Mt=[...Mt,{offset:1,[Pe]:Ke}]:mt[Pe]=Ke,gt},fromTo:(Pe,Ke,mt)=>De(Pe,Ke).to(Pe,mt),parent:Pe=>(Ge=Pe,gt),play:xi,pause:()=>(sr.forEach(Pe=>{Pe.pause()}),Pr(),gt),stop:()=>{sr.forEach(Pe=>{Pe.stop()}),Me&&(Jn(),Me=!1),re=!1,be=!1,nt=!0,Re=void 0,ye=void 0,Ie=void 0,Oe=0,qe=!1,Ue=!0,Lt=!1},destroy:Pe=>(sr.forEach(Ke=>{Ke.destroy(Pe)}),(Pe=>{Jn(),Pe&&Kn()})(Pe),Nn.length=0,sr.length=0,Mt.length=0,wn.length=0,An.length=0,Me=!1,nt=!0,gt),keyframes:Pe=>{const Ke=Mt!==Pe;return Mt=Pe,Ke&&(Pe=>{Ln?Fr().forEach(Ke=>{if(Ke.effect.setKeyframes)Ke.effect.setKeyframes(Pe);else{const mt=new KeyframeEffect(Ke.effect.target,Pe,Ke.effect.getTiming());Ke.effect=mt}}):ci()})(Mt),gt},addAnimation:Pe=>{if(null!=Pe)if(Array.isArray(Pe))for(const Ke of Pe)Ke.parent(gt),sr.push(Ke);else Pe.parent(gt),sr.push(Pe);return gt},addElement:Pe=>{if(null!=Pe)if(1===Pe.nodeType)Nn.push(Pe);else if(Pe.length>=0)for(let Ke=0;Ke<Pe.length;Ke++)Nn.push(Pe[Ke]);else console.error("Invalid addElement value");return gt},update:mr,fill:Pe=>(Dt=Pe,mr(!0),gt),direction:Pe=>(bt=Pe,mr(!0),gt),iterations:Pe=>(Se=Pe,mr(!0),gt),duration:Pe=>(!Ln&&0===Pe&&(Pe=1),ze=Pe,mr(!0),gt),easing:Pe=>(St=Pe,mr(!0),gt),delay:Pe=>(ke=Pe,mr(!0),gt),getWebAnimations:Fr,getKeyframes:()=>Mt,getFill:tn,getDirection:gn,getDelay:cn,getIterations:tr,getEasing:dr,getDuration:zn,afterAddRead:Pe=>(yn.push(Pe),gt),afterAddWrite:Pe=>(sn.push(Pe),gt),afterClearStyles:(Pe=[])=>{for(const Ke of Pe)oe[Ke]="";return gt},afterStyles:(Pe={})=>(oe=Pe,gt),afterRemoveClass:Pe=>(xe=He(xe,Pe),gt),afterAddClass:Pe=>(ce=He(ce,Pe),gt),beforeAddRead:Pe=>(zr.push(Pe),gt),beforeAddWrite:Pe=>(Mr.push(Pe),gt),beforeClearStyles:(Pe=[])=>{for(const Ke of Pe)Ce[Ke]="";return gt},beforeStyles:(Pe={})=>(Ce=Pe,gt),beforeRemoveClass:Pe=>(_t=He(_t,Pe),gt),beforeAddClass:Pe=>(rt=He(rt,Pe),gt),onFinish:In,isRunning:()=>0!==Oe&&!Lt,progressStart:(Pe=!1,Ke)=>(sr.forEach(mt=>{mt.progressStart(Pe,Ke)}),Pr(),re=Pe,Me||Jr(),mr(!1,!0,Ke),gt),progressStep:Pe=>(sr.forEach(Ke=>{Ke.progressStep(Pe)}),Yr(Pe),gt),progressEnd:(Pe,Ke,mt)=>(re=!1,sr.forEach(Gt=>{Gt.progressEnd(Pe,Ke,mt)}),void 0!==mt&&(ye=mt),qe=!1,Ue=!0,0===Pe?(Re="reverse"===gn()?"normal":"reverse","reverse"===Re&&(Ue=!1),Ln?(mr(),Yr(1-Ke)):(Ie=(1-Ke)*zn()*-1,mr(!1,!1))):1===Pe&&(Ln?(mr(),Yr(Ke)):(Ie=Ke*zn()*-1,mr(!1,!1))),void 0!==Pe&&(In(()=>{ye=void 0,Re=void 0,Ie=void 0},{oneTimeCallback:!0}),Ge||xi()),gt)}}},8685:(ln,pt,O)=>{"use strict";O.d(pt,{g:()=>u});const u=(J,fe,ve,Ee,ie)=>W(J[1],fe[1],ve[1],Ee[1],ie).map(ae=>X(J[0],fe[0],ve[0],Ee[0],ae)),X=(J,fe,ve,Ee,ie)=>ie*(3*fe*Math.pow(ie-1,2)+ie*(-3*ve*ie+3*ve+Ee*ie))-J*Math.pow(ie-1,3),W=(J,fe,ve,Ee,ie)=>Ne((Ee-=ie)-3*(ve-=ie)+3*(fe-=ie)-(J-=ie),3*ve-6*fe+3*J,3*fe-3*J,J).filter(ne=>ne>=0&&ne<=1),Ne=(J,fe,ve,Ee)=>{if(0===J)return((J,fe,ve)=>{const Ee=fe*fe-4*J*ve;return Ee<0?[]:[(-fe+Math.sqrt(Ee))/(2*J),(-fe-Math.sqrt(Ee))/(2*J)]})(fe,ve,Ee);const ie=(3*(ve/=J)-(fe/=J)*fe)/3,ae=(2*fe*fe*fe-9*fe*ve+27*(Ee/=J))/27;if(0===ie)return[Math.pow(-ae,1/3)];if(0===ae)return[Math.sqrt(-ie),-Math.sqrt(-ie)];const ne=Math.pow(ae/2,2)+Math.pow(ie/3,3);if(0===ne)return[Math.pow(ae/2,.5)-fe/3];if(ne>0)return[Math.pow(-ae/2+Math.sqrt(ne),1/3)-Math.pow(ae/2+Math.sqrt(ne),1/3)-fe/3];const pe=Math.sqrt(Math.pow(-ie/3,3)),He=Math.acos(-ae/(2*Math.sqrt(Math.pow(-ie/3,3)))),Qe=2*Math.pow(pe,1/3);return[Qe*Math.cos(He/3)-fe/3,Qe*Math.cos((He+2*Math.PI)/3)-fe/3,Qe*Math.cos((He+4*Math.PI)/3)-fe/3]}},3509:(ln,pt,O)=>{"use strict";O.d(pt,{G:()=>Ne});class X{constructor(fe,ve,Ee,ie,ae){this.id=ve,this.name=Ee,this.disableScroll=ae,this.priority=1e6*ie+ve,this.ctrl=fe}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const fe=this.ctrl.capture(this.name,this.id,this.priority);return fe&&this.disableScroll&&this.ctrl.disableScroll(this.id),fe}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class W{constructor(fe,ve,Ee,ie){this.id=ve,this.disable=Ee,this.disableScroll=ie,this.ctrl=fe}block(){if(this.ctrl){if(this.disable)for(const fe of this.disable)this.ctrl.disableGesture(fe,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const fe of this.disable)this.ctrl.enableGesture(fe,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Be="backdrop-no-scroll",Ne=new class u{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(fe){return new X(this,this.newID(),fe.name,fe.priority||0,!!fe.disableScroll)}createBlocker(fe={}){return new W(this,this.newID(),fe.disable,!!fe.disableScroll)}start(fe,ve,Ee){return this.canStart(fe)?(this.requestedStart.set(ve,Ee),!0):(this.requestedStart.delete(ve),!1)}capture(fe,ve,Ee){if(!this.start(fe,ve,Ee))return!1;const ie=this.requestedStart;let ae=-1e4;if(ie.forEach(ne=>{ae=Math.max(ae,ne)}),ae===Ee){this.capturedId=ve,ie.clear();const ne=new CustomEvent("ionGestureCaptured",{detail:{gestureName:fe}});return document.dispatchEvent(ne),!0}return ie.delete(ve),!1}release(fe){this.requestedStart.delete(fe),this.capturedId===fe&&(this.capturedId=void 0)}disableGesture(fe,ve){let Ee=this.disabledGestures.get(fe);void 0===Ee&&(Ee=new Set,this.disabledGestures.set(fe,Ee)),Ee.add(ve)}enableGesture(fe,ve){const Ee=this.disabledGestures.get(fe);void 0!==Ee&&Ee.delete(ve)}disableScroll(fe){this.disabledScroll.add(fe),1===this.disabledScroll.size&&document.body.classList.add(Be)}enableScroll(fe){this.disabledScroll.delete(fe),0===this.disabledScroll.size&&document.body.classList.remove(Be)}canStart(fe){return!(void 0!==this.capturedId||this.isDisabled(fe))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(fe){const ve=this.disabledGestures.get(fe);return!!(ve&&ve.size>0)}newID(){return this.gestureId++,this.gestureId}}},7593:(ln,pt,O)=>{"use strict";O.r(pt),O.d(pt,{MENU_BACK_BUTTON_PRIORITY:()=>Ne,OVERLAY_BACK_BUTTON_PRIORITY:()=>Be,blockHardwareBackButton:()=>X,startHardwareBackButton:()=>W});var u=O(5861);const X=()=>{document.addEventListener("backbutton",()=>{})},W=()=>{const J=document;let fe=!1;J.addEventListener("backbutton",()=>{if(fe)return;let ve=0,Ee=[];const ie=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(pe,He){Ee.push({priority:pe,handler:He,id:ve++})}}});J.dispatchEvent(ie);const ae=function(){var pe=(0,u.Z)(function*(He){try{if(He?.handler){const Qe=He.handler(ne);null!=Qe&&(yield Qe)}}catch(Qe){console.error(Qe)}});return function(Qe){return pe.apply(this,arguments)}}(),ne=()=>{if(Ee.length>0){let pe={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Ee.forEach(He=>{He.priority>=pe.priority&&(pe=He)}),fe=!0,Ee=Ee.filter(He=>He.id!==pe.id),ae(pe).then(()=>fe=!1)}};ne()})},Be=100,Ne=99},3756:(ln,pt,O)=>{"use strict";O.d(pt,{a:()=>fe,b:()=>ve,c:()=>W,d:()=>He,e:()=>Qe,f:()=>pe,g:()=>Ee,h:()=>Dt,i:()=>J,j:()=>Be,k:()=>ne,l:()=>Ve,m:()=>ae,n:()=>ke,o:()=>Se,p:()=>St,q:()=>bt,r:()=>ie,s:()=>Mt,t:()=>u,u:()=>ze});const u=(rt,_t=0)=>new Promise(Me=>{X(rt,_t,Me)}),X=(rt,_t=0,Me)=>{let Ge,Ce;const ce={passive:!0},oe=()=>{Ge&&Ge()},Oe=re=>{(void 0===re||rt===re.target)&&(oe(),Me(re))};return rt&&(rt.addEventListener("webkitTransitionEnd",Oe,ce),rt.addEventListener("transitionend",Oe,ce),Ce=setTimeout(Oe,_t+500),Ge=()=>{Ce&&(clearTimeout(Ce),Ce=void 0),rt.removeEventListener("webkitTransitionEnd",Oe,ce),rt.removeEventListener("transitionend",Oe,ce)}),oe},W=(rt,_t)=>{rt.componentOnReady?rt.componentOnReady().then(Me=>_t(Me)):ie(()=>_t(rt))},Be=(rt,_t=[])=>{const Me={};return _t.forEach(Ge=>{rt.hasAttribute(Ge)&&(null!==rt.getAttribute(Ge)&&(Me[Ge]=rt.getAttribute(Ge)),rt.removeAttribute(Ge))}),Me},Ne=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],J=rt=>Be(rt,Ne),fe=(rt,_t,Me,Ge)=>{var Ce;if(typeof window<"u"){const xe=null===(Ce=window?.Ionic)||void 0===Ce?void 0:Ce.config;if(xe){const oe=xe.get("_ael");if(oe)return oe(rt,_t,Me,Ge);if(xe._ael)return xe._ael(rt,_t,Me,Ge)}}return rt.addEventListener(_t,Me,Ge)},ve=(rt,_t,Me,Ge)=>{var Ce;if(typeof window<"u"){const xe=null===(Ce=window?.Ionic)||void 0===Ce?void 0:Ce.config;if(xe){const oe=xe.get("_rel");if(oe)return oe(rt,_t,Me,Ge);if(xe._rel)return xe._rel(rt,_t,Me,Ge)}}return rt.removeEventListener(_t,Me,Ge)},Ee=(rt,_t=rt)=>rt.shadowRoot||_t,ie=rt=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(rt):"function"==typeof requestAnimationFrame?requestAnimationFrame(rt):setTimeout(rt),ae=rt=>!!rt.shadowRoot&&!!rt.attachShadow,ne=rt=>{const _t=rt.closest("ion-item");return _t?_t.querySelector("ion-label"):null},pe=rt=>{if(rt.focus(),rt.classList.contains("ion-focusable")){const _t=rt.closest("ion-app");_t&&_t.setFocus([rt])}},He=(rt,_t)=>{let Me;const Ge=rt.getAttribute("aria-labelledby"),Ce=rt.id;let ce=null!==Ge&&""!==Ge.trim()?Ge:_t+"-lbl",xe=null!==Ge&&""!==Ge.trim()?document.getElementById(Ge):ne(rt);return xe?(null===Ge&&(xe.id=ce),Me=xe.textContent,xe.setAttribute("aria-hidden","true")):""!==Ce.trim()&&(xe=document.querySelector(`label[for="${Ce}"]`),xe&&(""!==xe.id?ce=xe.id:xe.id=ce=`${Ce}-lbl`,Me=xe.textContent)),{label:xe,labelId:ce,labelText:Me}},Qe=(rt,_t,Me,Ge,Ce)=>{if(rt||ae(_t)){let ce=_t.querySelector("input.aux-input");ce||(ce=_t.ownerDocument.createElement("input"),ce.type="hidden",ce.classList.add("aux-input"),_t.appendChild(ce)),ce.disabled=Ce,ce.name=Me,ce.value=Ge||""}},Ve=(rt,_t,Me)=>Math.max(rt,Math.min(_t,Me)),ke=(rt,_t)=>{if(!rt){const Me="ASSERT: "+_t;throw console.error(Me),new Error(Me)}},ze=rt=>rt.timeStamp||Date.now(),St=rt=>{if(rt){const _t=rt.changedTouches;if(_t&&_t.length>0){const Me=_t[0];return{x:Me.clientX,y:Me.clientY}}if(void 0!==rt.pageX)return{x:rt.pageX,y:rt.pageY}}return{x:0,y:0}},Se=rt=>{const _t="rtl"===document.dir;switch(rt){case"start":return _t;case"end":return!_t;default:throw new Error(`"${rt}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Dt=(rt,_t)=>{const Me=rt._original||rt;return{_original:rt,emit:bt(Me.emit.bind(Me),_t)}},bt=(rt,_t=0)=>{let Me;return(...Ge)=>{clearTimeout(Me),Me=setTimeout(rt,_t,...Ge)}},Mt=(rt,_t)=>{if(rt??(rt={}),_t??(_t={}),rt===_t)return!0;const Me=Object.keys(rt);if(Me.length!==Object.keys(_t).length)return!1;for(const Ge of Me)if(!(Ge in _t)||rt[Ge]!==_t[Ge])return!1;return!0}},7936:(ln,pt,O)=>{"use strict";O.d(pt,{B:()=>xi,H:()=>sr,a:()=>qe,b:()=>Rn,c:()=>yi,e:()=>ot,f:()=>Ss,g:()=>nt,h:()=>An,i:()=>qn,j:()=>dr,k:()=>Cr,p:()=>Ve,r:()=>Jr,s:()=>He});var u=O(5861);let W,Be,Ne,J=!1,fe=!1,ve=!1,Ee=!1,ie=!1;const ae=typeof window<"u"?window:{},ne=ae.document||{head:{}},pe={$flags$:0,$resourcesUrl$:"",jmp:ue=>ue(),raf:ue=>requestAnimationFrame(ue),ael:(ue,De,lt,ut)=>ue.addEventListener(De,lt,ut),rel:(ue,De,lt,ut)=>ue.removeEventListener(De,lt,ut),ce:(ue,De)=>new CustomEvent(ue,De)},He=ue=>{Object.assign(pe,ue)},Ve=ue=>Promise.resolve(ue),ke=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),ze=(ue,De,lt,ut)=>{lt&&lt.map(([Pe,Ke,mt])=>{const Gt=Se(ue,Pe),Ot=St(De,mt),Yt=Dt(Pe);pe.ael(Gt,Ke,Ot,Yt),(De.$rmListeners$=De.$rmListeners$||[]).push(()=>pe.rel(Gt,Ke,Ot,Yt))})},St=(ue,De)=>lt=>{try{256&ue.$flags$?ue.$lazyInstance$[De](lt):(ue.$queuedListeners$=ue.$queuedListeners$||[]).push([De,lt])}catch(ut){ei(ut)}},Se=(ue,De)=>4&De?ne:8&De?ae:16&De?ne.body:ue,Dt=ue=>0!=(2&ue),Me="s-id",Ge="sty-id",xe="http://www.w3.org/1999/xlink",re=new WeakMap,be=(ue,De,lt)=>{let ut=Zi.get(ue);ke&&lt?(ut=ut||new CSSStyleSheet,"string"==typeof ut?ut=De:ut.replaceSync(De)):ut=De,Zi.set(ue,ut)},me=(ue,De,lt,ut)=>{let Pe=ye(De,lt);const Ke=Zi.get(Pe);if(ue=11===ue.nodeType?ue:ne,Ke)if("string"==typeof Ke){let Gt,mt=re.get(ue=ue.head||ue);mt||re.set(ue,mt=new Set),mt.has(Pe)||(ue.host&&(Gt=ue.querySelector(`[${Ge}="${Pe}"]`))?Gt.innerHTML=Ke:(Gt=ne.createElement("style"),Gt.innerHTML=Ke,ue.insertBefore(Gt,ue.querySelector("link"))),mt&&mt.add(Pe))}else ue.adoptedStyleSheets.includes(Ke)||(ue.adoptedStyleSheets=[...ue.adoptedStyleSheets,Ke]);return Pe},ye=(ue,De)=>"sc-"+(De&&32&ue.$flags$?ue.$tagName$+"-"+De:ue.$tagName$),Ie=ue=>ue.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),qe=ue=>li.push(ue),nt=ue=>Gn(ue).$modeName$,Rt={},wn=ue=>"object"==(ue=typeof ue)||"function"===ue,An=(ue,De,...lt)=>{let ut=null,Pe=null,Ke=null,mt=!1,Gt=!1;const Ot=[],Yt=Bn=>{for(let Hn=0;Hn<Bn.length;Hn++)ut=Bn[Hn],Array.isArray(ut)?Yt(ut):null!=ut&&"boolean"!=typeof ut&&((mt="function"!=typeof ue&&!wn(ut))&&(ut=String(ut)),mt&&Gt?Ot[Ot.length-1].$text$+=ut:Ot.push(mt?Nn(null,ut):ut),Gt=mt)};if(Yt(lt),De){De.key&&(Pe=De.key),De.name&&(Ke=De.name);{const Bn=De.className||De.class;Bn&&(De.class="object"!=typeof Bn?Bn:Object.keys(Bn).filter(Hn=>Bn[Hn]).join(" "))}}if("function"==typeof ue)return ue(null===De?{}:De,Ot,zr);const hn=Nn(ue,null);return hn.$attrs$=De,Ot.length>0&&(hn.$children$=Ot),hn.$key$=Pe,hn.$name$=Ke,hn},Nn=(ue,De)=>({$flags$:0,$tag$:ue,$text$:De,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),sr={},zr={forEach:(ue,De)=>ue.map(Mr).forEach(De),map:(ue,De)=>ue.map(Mr).map(De).map(yn)},Mr=ue=>({vattrs:ue.$attrs$,vchildren:ue.$children$,vkey:ue.$key$,vname:ue.$name$,vtag:ue.$tag$,vtext:ue.$text$}),yn=ue=>{if("function"==typeof ue.vtag){const lt=Object.assign({},ue.vattrs);return ue.vkey&&(lt.key=ue.vkey),ue.vname&&(lt.name=ue.vname),An(ue.vtag,lt,...ue.vchildren||[])}const De=Nn(ue.vtag,ue.vtext);return De.$attrs$=ue.vattrs,De.$children$=ue.vchildren,De.$key$=ue.vkey,De.$name$=ue.vname,De},sn=(ue,De,lt,ut,Pe,Ke)=>{if(lt!==ut){let mt=qi(ue,De),Gt=De.toLowerCase();if("class"===De){const Ot=ue.classList,Yt=Ei(lt),hn=Ei(ut);Ot.remove(...Yt.filter(Bn=>Bn&&!hn.includes(Bn))),Ot.add(...hn.filter(Bn=>Bn&&!Yt.includes(Bn)))}else if("style"===De){for(const Ot in lt)(!ut||null==ut[Ot])&&(Ot.includes("-")?ue.style.removeProperty(Ot):ue.style[Ot]="");for(const Ot in ut)(!lt||ut[Ot]!==lt[Ot])&&(Ot.includes("-")?ue.style.setProperty(Ot,ut[Ot]):ue.style[Ot]=ut[Ot])}else if("key"!==De)if("ref"===De)ut&&ut(ue);else if(mt||"o"!==De[0]||"n"!==De[1]){const Ot=wn(ut);if((mt||Ot&&null!==ut)&&!Pe)try{if(ue.tagName.includes("-"))ue[De]=ut;else{const hn=ut??"";"list"===De?mt=!1:(null==lt||ue[De]!=hn)&&(ue[De]=hn)}}catch{}let Yt=!1;Gt!==(Gt=Gt.replace(/^xlink\:?/,""))&&(De=Gt,Yt=!0),null==ut||!1===ut?(!1!==ut||""===ue.getAttribute(De))&&(Yt?ue.removeAttributeNS(xe,De):ue.removeAttribute(De)):(!mt||4&Ke||Pe)&&!Ot&&(ut=!0===ut?"":ut,Yt?ue.setAttributeNS(xe,De,ut):ue.setAttribute(De,ut))}else De="-"===De[2]?De.slice(3):qi(ae,Gt)?Gt.slice(2):Gt[2]+De.slice(3),lt&&pe.rel(ue,De,lt,!1),ut&&pe.ael(ue,De,ut,!1)}},zt=/\s/,Ei=ue=>ue?ue.split(zt):[],Ln=(ue,De,lt,ut)=>{const Pe=11===De.$elm$.nodeType&&De.$elm$.host?De.$elm$.host:De.$elm$,Ke=ue&&ue.$attrs$||Rt,mt=De.$attrs$||Rt;for(ut in Ke)ut in mt||sn(Pe,ut,Ke[ut],void 0,lt,De.$flags$);for(ut in mt)sn(Pe,ut,Ke[ut],mt[ut],lt,De.$flags$)},Tr=(ue,De,lt,ut)=>{const Pe=De.$children$[lt];let mt,Gt,Ot,Ke=0;if(J||(ve=!0,"slot"===Pe.$tag$&&(W&&ut.classList.add(W+"-s"),Pe.$flags$|=Pe.$children$?2:1)),null!==Pe.$text$)mt=Pe.$elm$=ne.createTextNode(Pe.$text$);else if(1&Pe.$flags$)mt=Pe.$elm$=ne.createTextNode("");else{if(Ee||(Ee="svg"===Pe.$tag$),mt=Pe.$elm$=ne.createElementNS(Ee?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Pe.$flags$?"slot-fb":Pe.$tag$),Ee&&"foreignObject"===Pe.$tag$&&(Ee=!1),Ln(null,Pe,Ee),(ue=>null!=ue)(W)&&mt["s-si"]!==W&&mt.classList.add(mt["s-si"]=W),Pe.$children$)for(Ke=0;Ke<Pe.$children$.length;++Ke)Gt=Tr(ue,Pe,Ke,mt),Gt&&mt.appendChild(Gt);"svg"===Pe.$tag$?Ee=!1:"foreignObject"===mt.tagName&&(Ee=!0)}return mt["s-hn"]=Ne,3&Pe.$flags$&&(mt["s-sr"]=!0,mt["s-cr"]=Be,mt["s-sn"]=Pe.$name$||"",Ot=ue&&ue.$children$&&ue.$children$[lt],Ot&&Ot.$tag$===Pe.$tag$&&ue.$elm$&&Fr(ue.$elm$,!1)),mt},Fr=(ue,De)=>{pe.$flags$|=1;const lt=ue.childNodes;for(let ut=lt.length-1;ut>=0;ut--){const Pe=lt[ut];Pe["s-hn"]!==Ne&&Pe["s-ol"]&&(br(Pe).insertBefore(Pe,In(Pe)),Pe["s-ol"].remove(),Pe["s-ol"]=void 0,ve=!0),De&&Fr(Pe,De)}pe.$flags$&=-2},Cn=(ue,De,lt,ut,Pe,Ke)=>{let Gt,mt=ue["s-cr"]&&ue["s-cr"].parentNode||ue;for(mt.shadowRoot&&mt.tagName===Ne&&(mt=mt.shadowRoot);Pe<=Ke;++Pe)ut[Pe]&&(Gt=Tr(null,lt,Pe,ue),Gt&&(ut[Pe].$elm$=Gt,mt.insertBefore(Gt,In(De))))},Rr=(ue,De,lt,ut,Pe)=>{for(;De<=lt;++De)(ut=ue[De])&&(Pe=ut.$elm$,Un(ut),fe=!0,Pe["s-ol"]?Pe["s-ol"].remove():Fr(Pe,!0),Pe.remove())},En=(ue,De)=>ue.$tag$===De.$tag$&&("slot"===ue.$tag$?ue.$name$===De.$name$:ue.$key$===De.$key$),In=ue=>ue&&ue["s-ol"]||ue,br=ue=>(ue["s-ol"]?ue["s-ol"]:ue).parentNode,Jn=(ue,De)=>{const lt=De.$elm$=ue.$elm$,ut=ue.$children$,Pe=De.$children$,Ke=De.$tag$,mt=De.$text$;let Gt;null===mt?(Ee="svg"===Ke||"foreignObject"!==Ke&&Ee,"slot"===Ke||Ln(ue,De,Ee),null!==ut&&null!==Pe?((ue,De,lt,ut)=>{let Zn,ct,Pe=0,Ke=0,mt=0,Gt=0,Ot=De.length-1,Yt=De[0],hn=De[Ot],Bn=ut.length-1,Hn=ut[0],Or=ut[Bn];for(;Pe<=Ot&&Ke<=Bn;)if(null==Yt)Yt=De[++Pe];else if(null==hn)hn=De[--Ot];else if(null==Hn)Hn=ut[++Ke];else if(null==Or)Or=ut[--Bn];else if(En(Yt,Hn))Jn(Yt,Hn),Yt=De[++Pe],Hn=ut[++Ke];else if(En(hn,Or))Jn(hn,Or),hn=De[--Ot],Or=ut[--Bn];else if(En(Yt,Or))("slot"===Yt.$tag$||"slot"===Or.$tag$)&&Fr(Yt.$elm$.parentNode,!1),Jn(Yt,Or),ue.insertBefore(Yt.$elm$,hn.$elm$.nextSibling),Yt=De[++Pe],Or=ut[--Bn];else if(En(hn,Hn))("slot"===Yt.$tag$||"slot"===Or.$tag$)&&Fr(hn.$elm$.parentNode,!1),Jn(hn,Hn),ue.insertBefore(hn.$elm$,Yt.$elm$),hn=De[--Ot],Hn=ut[++Ke];else{for(mt=-1,Gt=Pe;Gt<=Ot;++Gt)if(De[Gt]&&null!==De[Gt].$key$&&De[Gt].$key$===Hn.$key$){mt=Gt;break}mt>=0?(ct=De[mt],ct.$tag$!==Hn.$tag$?Zn=Tr(De&&De[Ke],lt,mt,ue):(Jn(ct,Hn),De[mt]=void 0,Zn=ct.$elm$),Hn=ut[++Ke]):(Zn=Tr(De&&De[Ke],lt,Ke,ue),Hn=ut[++Ke]),Zn&&br(Yt.$elm$).insertBefore(Zn,In(Yt.$elm$))}Pe>Ot?Cn(ue,null==ut[Bn+1]?null:ut[Bn+1].$elm$,lt,ut,Ke,Bn):Ke>Bn&&Rr(De,Pe,Ot)})(lt,ut,De,Pe):null!==Pe?(null!==ue.$text$&&(lt.textContent=""),Cn(lt,null,De,Pe,0,Pe.length-1)):null!==ut&&Rr(ut,0,ut.length-1),Ee&&"svg"===Ke&&(Ee=!1)):(Gt=lt["s-cr"])?Gt.parentNode.textContent=mt:ue.$text$!==mt&&(lt.data=mt)},Kn=ue=>{const De=ue.childNodes;let lt,ut,Pe,Ke,mt,Gt;for(ut=0,Pe=De.length;ut<Pe;ut++)if(lt=De[ut],1===lt.nodeType){if(lt["s-sr"])for(mt=lt["s-sn"],lt.hidden=!1,Ke=0;Ke<Pe;Ke++)if(Gt=De[Ke].nodeType,De[Ke]["s-hn"]!==lt["s-hn"]||""!==mt){if(1===Gt&&mt===De[Ke].getAttribute("slot")){lt.hidden=!0;break}}else if(1===Gt||3===Gt&&""!==De[Ke].textContent.trim()){lt.hidden=!0;break}Kn(lt)}},Ar=[],$n=ue=>{let De,lt,ut,Pe,Ke,mt,Gt=0;const Ot=ue.childNodes,Yt=Ot.length;for(;Gt<Yt;Gt++){if(De=Ot[Gt],De["s-sr"]&&(lt=De["s-cr"])&&lt.parentNode)for(ut=lt.parentNode.childNodes,Pe=De["s-sn"],mt=ut.length-1;mt>=0;mt--)lt=ut[mt],!lt["s-cn"]&&!lt["s-nr"]&&lt["s-hn"]!==De["s-hn"]&&(Ui(lt,Pe)?(Ke=Ar.find(hn=>hn.$nodeToRelocate$===lt),fe=!0,lt["s-sn"]=lt["s-sn"]||Pe,Ke?Ke.$slotRefNode$=De:Ar.push({$slotRefNode$:De,$nodeToRelocate$:lt}),lt["s-sr"]&&Ar.map(hn=>{Ui(hn.$nodeToRelocate$,lt["s-sn"])&&(Ke=Ar.find(Bn=>Bn.$nodeToRelocate$===lt),Ke&&!hn.$slotRefNode$&&(hn.$slotRefNode$=Ke.$slotRefNode$))})):Ar.some(hn=>hn.$nodeToRelocate$===lt)||Ar.push({$nodeToRelocate$:lt}));1===De.nodeType&&$n(De)}},Ui=(ue,De)=>1===ue.nodeType?null===ue.getAttribute("slot")&&""===De||ue.getAttribute("slot")===De:ue["s-sn"]===De||""===De,Un=ue=>{ue.$attrs$&&ue.$attrs$.ref&&ue.$attrs$.ref(null),ue.$children$&&ue.$children$.map(Un)},qn=ue=>Gn(ue).$hostElement$,ot=(ue,De,lt)=>{const ut=qn(ue);return{emit:Pe=>tt(ut,De,{bubbles:!!(4&lt),composed:!!(2&lt),cancelable:!!(1&lt),detail:Pe})}},tt=(ue,De,lt)=>{const ut=pe.ce(De,lt);return ue.dispatchEvent(ut),ut},Ze=(ue,De)=>{De&&!ue.$onRenderResolve$&&De["s-p"]&&De["s-p"].push(new Promise(lt=>ue.$onRenderResolve$=lt))},et=(ue,De)=>{if(ue.$flags$|=16,!(4&ue.$flags$))return Ze(ue,ue.$ancestorComponent$),yi(()=>st(ue,De));ue.$flags$|=512},st=(ue,De)=>{const ut=ue.$lazyInstance$;let Pe;return De&&(ue.$flags$|=256,ue.$queuedListeners$&&(ue.$queuedListeners$.map(([Ke,mt])=>tr(ut,Ke,mt)),ue.$queuedListeners$=null),Pe=tr(ut,"componentWillLoad")),Pe=cn(Pe,()=>tr(ut,"componentWillRender")),cn(Pe,()=>Wt(ue,ut,De))},Wt=function(){var ue=(0,u.Z)(function*(De,lt,ut){const Pe=De.$hostElement$,mt=Pe["s-rc"];ut&&(ue=>{const De=ue.$cmpMeta$,lt=ue.$hostElement$,ut=De.$flags$,Ke=me(lt.shadowRoot?lt.shadowRoot:lt.getRootNode(),De,ue.$modeName$);10&ut&&(lt["s-sc"]=Ke,lt.classList.add(Ke+"-h"),2&ut&&lt.classList.add(Ke+"-s"))})(De);tn(De,lt),mt&&(mt.map(Ot=>Ot()),Pe["s-rc"]=void 0);{const Ot=Pe["s-p"],Yt=()=>gn(De);0===Ot.length?Yt():(Promise.all(Ot).then(Yt),De.$flags$|=4,Ot.length=0)}});return function(lt,ut,Pe){return ue.apply(this,arguments)}}(),tn=(ue,De,lt)=>{try{De=De.render&&De.render(),ue.$flags$&=-17,ue.$flags$|=2,((ue,De)=>{const lt=ue.$hostElement$,ut=ue.$cmpMeta$,Pe=ue.$vnode$||Nn(null,null),Ke=(ue=>ue&&ue.$tag$===sr)(De)?De:An(null,null,De);if(Ne=lt.tagName,ut.$attrsToReflect$&&(Ke.$attrs$=Ke.$attrs$||{},ut.$attrsToReflect$.map(([mt,Gt])=>Ke.$attrs$[Gt]=lt[mt])),Ke.$tag$=null,Ke.$flags$|=4,ue.$vnode$=Ke,Ke.$elm$=Pe.$elm$=lt.shadowRoot||lt,W=lt["s-sc"],Be=lt["s-cr"],J=0!=(1&ut.$flags$),fe=!1,Jn(Pe,Ke),pe.$flags$|=1,ve){$n(Ke.$elm$);let mt,Gt,Ot,Yt,hn,Bn,Hn=0;for(;Hn<Ar.length;Hn++)mt=Ar[Hn],Gt=mt.$nodeToRelocate$,Gt["s-ol"]||(Ot=ne.createTextNode(""),Ot["s-nr"]=Gt,Gt.parentNode.insertBefore(Gt["s-ol"]=Ot,Gt));for(Hn=0;Hn<Ar.length;Hn++)if(mt=Ar[Hn],Gt=mt.$nodeToRelocate$,mt.$slotRefNode$){for(Yt=mt.$slotRefNode$.parentNode,hn=mt.$slotRefNode$.nextSibling,Ot=Gt["s-ol"];Ot=Ot.previousSibling;)if(Bn=Ot["s-nr"],Bn&&Bn["s-sn"]===Gt["s-sn"]&&Yt===Bn.parentNode&&(Bn=Bn.nextSibling,!Bn||!Bn["s-nr"])){hn=Bn;break}(!hn&&Yt!==Gt.parentNode||Gt.nextSibling!==hn)&&Gt!==hn&&(!Gt["s-hn"]&&Gt["s-ol"]&&(Gt["s-hn"]=Gt["s-ol"].parentNode.nodeName),Yt.insertBefore(Gt,hn))}else 1===Gt.nodeType&&(Gt.hidden=!0)}fe&&Kn(Ke.$elm$),pe.$flags$&=-2,Ar.length=0})(ue,De)}catch(ut){ei(ut,ue.$hostElement$)}return null},gn=ue=>{const lt=ue.$hostElement$,Pe=ue.$lazyInstance$,Ke=ue.$ancestorComponent$;tr(Pe,"componentDidRender"),64&ue.$flags$?tr(Pe,"componentDidUpdate"):(ue.$flags$|=64,jn(lt),tr(Pe,"componentDidLoad"),ue.$onReadyResolve$(lt),Ke||zn()),ue.$onInstanceResolve$(lt),ue.$onRenderResolve$&&(ue.$onRenderResolve$(),ue.$onRenderResolve$=void 0),512&ue.$flags$&&ns(()=>et(ue,!1)),ue.$flags$&=-517},dr=ue=>{{const De=Gn(ue),lt=De.$hostElement$.isConnected;return lt&&2==(18&De.$flags$)&&et(De,!1),lt}},zn=ue=>{jn(ne.documentElement),ns(()=>tt(ae,"appload",{detail:{namespace:"ionic"}}))},tr=(ue,De,lt)=>{if(ue&&ue[De])try{return ue[De](lt)}catch(ut){ei(ut)}},cn=(ue,De)=>ue&&ue.then?ue.then(De):De(),jn=ue=>ue.classList.add("hydrated"),vr=(ue,De,lt,ut,Pe,Ke,mt)=>{let Gt,Ot,Yt,hn;if(1===Ke.nodeType){for(Gt=Ke.getAttribute("c-id"),Gt&&(Ot=Gt.split("."),(Ot[0]===mt||"0"===Ot[0])&&(Yt={$flags$:0,$hostId$:Ot[0],$nodeId$:Ot[1],$depth$:Ot[2],$index$:Ot[3],$tag$:Ke.tagName.toLowerCase(),$elm$:Ke,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},De.push(Yt),Ke.removeAttribute("c-id"),ue.$children$||(ue.$children$=[]),ue.$children$[Yt.$index$]=Yt,ue=Yt,ut&&"0"===Yt.$depth$&&(ut[Yt.$index$]=Yt.$elm$))),hn=Ke.childNodes.length-1;hn>=0;hn--)vr(ue,De,lt,ut,Pe,Ke.childNodes[hn],mt);if(Ke.shadowRoot)for(hn=Ke.shadowRoot.childNodes.length-1;hn>=0;hn--)vr(ue,De,lt,ut,Pe,Ke.shadowRoot.childNodes[hn],mt)}else if(8===Ke.nodeType)Ot=Ke.nodeValue.split("."),(Ot[1]===mt||"0"===Ot[1])&&(Gt=Ot[0],Yt={$flags$:0,$hostId$:Ot[1],$nodeId$:Ot[2],$depth$:Ot[3],$index$:Ot[4],$elm$:Ke,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Gt?(Yt.$elm$=Ke.nextSibling,Yt.$elm$&&3===Yt.$elm$.nodeType&&(Yt.$text$=Yt.$elm$.textContent,De.push(Yt),Ke.remove(),ue.$children$||(ue.$children$=[]),ue.$children$[Yt.$index$]=Yt,ut&&"0"===Yt.$depth$&&(ut[Yt.$index$]=Yt.$elm$))):Yt.$hostId$===mt&&("s"===Gt?(Yt.$tag$="slot",Ke["s-sn"]=Ot[5]?Yt.$name$=Ot[5]:"",Ke["s-sr"]=!0,ut&&(Yt.$elm$=ne.createElement(Yt.$tag$),Yt.$name$&&Yt.$elm$.setAttribute("name",Yt.$name$),Ke.parentNode.insertBefore(Yt.$elm$,Ke),Ke.remove(),"0"===Yt.$depth$&&(ut[Yt.$index$]=Yt.$elm$)),lt.push(Yt),ue.$children$||(ue.$children$=[]),ue.$children$[Yt.$index$]=Yt):"r"===Gt&&(ut?Ke.remove():(Pe["s-cr"]=Ke,Ke["s-cn"]=!0))));else if(ue&&"style"===ue.$tag$){const Bn=Nn(null,Ke.textContent);Bn.$elm$=Ke,Bn.$index$="0",ue.$children$=[Bn]}},Dn=(ue,De)=>{if(1===ue.nodeType){let lt=0;for(;lt<ue.childNodes.length;lt++)Dn(ue.childNodes[lt],De);if(ue.shadowRoot)for(lt=0;lt<ue.shadowRoot.childNodes.length;lt++)Dn(ue.shadowRoot.childNodes[lt],De)}else if(8===ue.nodeType){const lt=ue.nodeValue.split(".");"o"===lt[0]&&(De.set(lt[1]+"."+lt[2],ue),ue.nodeValue="",ue["s-en"]=lt[3])}},We=(ue,De,lt)=>{if(De.$members$){ue.watchers&&(De.$watchers$=ue.watchers);const ut=Object.entries(De.$members$),Pe=ue.prototype;if(ut.map(([Ke,[mt]])=>{31&mt||2&lt&&32&mt?Object.defineProperty(Pe,Ke,{get(){return((ue,De)=>Gn(this).$instanceValues$.get(De))(0,Ke)},set(Gt){((ue,De,lt,ut)=>{const Pe=Gn(ue),Ke=Pe.$hostElement$,mt=Pe.$instanceValues$.get(De),Gt=Pe.$flags$,Ot=Pe.$lazyInstance$;lt=((ue,De)=>null==ue||wn(ue)?ue:4&De?"false"!==ue&&(""===ue||!!ue):2&De?parseFloat(ue):1&De?String(ue):ue)(lt,ut.$members$[De][0]);const Yt=Number.isNaN(mt)&&Number.isNaN(lt);if((!(8&Gt)||void 0===mt)&&lt!==mt&&!Yt&&(Pe.$instanceValues$.set(De,lt),Ot)){if(ut.$watchers$&&128&Gt){const Bn=ut.$watchers$[De];Bn&&Bn.map(Hn=>{try{Ot[Hn](lt,mt,De)}catch(Or){ei(Or,Ke)}})}2==(18&Gt)&&et(Pe,!1)}})(this,Ke,Gt,De)},configurable:!0,enumerable:!0}):1&lt&&64&mt&&Object.defineProperty(Pe,Ke,{value(...Gt){const Ot=Gn(this);return Ot.$onInstancePromise$.then(()=>Ot.$lazyInstance$[Ke](...Gt))}})}),1&lt){const Ke=new Map;Pe.attributeChangedCallback=function(mt,Gt,Ot){pe.jmp(()=>{const Yt=Ke.get(mt);if(this.hasOwnProperty(Yt))Ot=this[Yt],delete this[Yt];else if(Pe.hasOwnProperty(Yt)&&"number"==typeof this[Yt]&&this[Yt]==Ot)return;this[Yt]=(null!==Ot||"boolean"!=typeof this[Yt])&&Ot})},ue.observedAttributes=ut.filter(([mt,Gt])=>15&Gt[0]).map(([mt,Gt])=>{const Ot=Gt[1]||mt;return Ke.set(Ot,mt),512&Gt[0]&&De.$attrsToReflect$.push([mt,Ot]),Ot})}}return ue},Le=function(){var ue=(0,u.Z)(function*(De,lt,ut,Pe,Ke){if(0==(32&lt.$flags$)){{if(lt.$flags$|=32,(Ke=hs(ut)).then){const Yt=()=>{};Ke=yield Ke,Yt()}Ke.isProxied||(ut.$watchers$=Ke.watchers,We(Ke,ut,2),Ke.isProxied=!0);const Ot=()=>{};lt.$flags$|=8;try{new Ke(lt)}catch(Yt){ei(Yt)}lt.$flags$&=-9,lt.$flags$|=128,Ot(),It(lt.$lazyInstance$)}if(Ke.style){let Ot=Ke.style;"string"!=typeof Ot&&(Ot=Ot[lt.$modeName$=(ue=>li.map(De=>De(ue)).find(De=>!!De))(De)]);const Yt=ye(ut,lt.$modeName$);if(!Zi.has(Yt)){const hn=()=>{};be(Yt,Ot,!!(1&ut.$flags$)),hn()}}}const mt=lt.$ancestorComponent$,Gt=()=>et(lt,!0);mt&&mt["s-rc"]?mt["s-rc"].push(Gt):Gt()});return function(lt,ut,Pe,Ke,mt){return ue.apply(this,arguments)}}(),It=ue=>{tr(ue,"connectedCallback")},_n=ue=>{const De=ue["s-cr"]=ne.createComment("");De["s-cn"]=!0,ue.insertBefore(De,ue.firstChild)},Rn=(ue,De={})=>{const ut=[],Pe=De.exclude||[],Ke=ae.customElements,mt=ne.head,Gt=mt.querySelector("meta[charset]"),Ot=ne.createElement("style"),Yt=[],hn=ne.querySelectorAll(`[${Ge}]`);let Bn,Hn=!0,Or=0;for(Object.assign(pe,De),pe.$resourcesUrl$=new URL(De.resourcesUrl||"./",ne.baseURI).href,pe.$flags$|=2;Or<hn.length;Or++)be(hn[Or].getAttribute(Ge),Ie(hn[Or].innerHTML),!0);ue.map(Zn=>{Zn[1].map(ct=>{const at={$flags$:ct[0],$tagName$:ct[1],$members$:ct[2],$listeners$:ct[3]};at.$members$=ct[2],at.$listeners$=ct[3],at.$attrsToReflect$=[],at.$watchers$={};const yt=at.$tagName$,jt=class extends HTMLElement{constructor(on){super(on),Yr(on=this,at),1&at.$flags$&&on.attachShadow({mode:"open",delegatesFocus:!!(16&at.$flags$)})}connectedCallback(){Bn&&(clearTimeout(Bn),Bn=null),Hn?Yt.push(this):pe.jmp(()=>(ue=>{if(0==(1&pe.$flags$)){const De=Gn(ue),lt=De.$cmpMeta$,ut=()=>{};if(1&De.$flags$)ze(ue,De,lt.$listeners$),It(De.$lazyInstance$);else{let Pe;if(De.$flags$|=1,Pe=ue.getAttribute(Me),Pe){if(1&lt.$flags$){const Ke=me(ue.shadowRoot,lt,ue.getAttribute("s-mode"));ue.classList.remove(Ke+"-h",Ke+"-s")}((ue,De,lt,ut)=>{const Ke=ue.shadowRoot,mt=[],Ot=Ke?[]:null,Yt=ut.$vnode$=Nn(De,null);pe.$orgLocNodes$||Dn(ne.body,pe.$orgLocNodes$=new Map),ue[Me]=lt,ue.removeAttribute(Me),vr(Yt,mt,[],Ot,ue,ue,lt),mt.map(hn=>{const Bn=hn.$hostId$+"."+hn.$nodeId$,Hn=pe.$orgLocNodes$.get(Bn),Or=hn.$elm$;Hn&&""===Hn["s-en"]&&Hn.parentNode.insertBefore(Or,Hn.nextSibling),Ke||(Or["s-hn"]=De,Hn&&(Or["s-ol"]=Hn,Or["s-ol"]["s-nr"]=Or)),pe.$orgLocNodes$.delete(Bn)}),Ke&&Ot.map(hn=>{hn&&Ke.appendChild(hn)})})(ue,lt.$tagName$,Pe,De)}Pe||12&lt.$flags$&&_n(ue);{let Ke=ue;for(;Ke=Ke.parentNode||Ke.host;)if(1===Ke.nodeType&&Ke.hasAttribute("s-id")&&Ke["s-p"]||Ke["s-p"]){Ze(De,De.$ancestorComponent$=Ke);break}}lt.$members$&&Object.entries(lt.$members$).map(([Ke,[mt]])=>{if(31&mt&&ue.hasOwnProperty(Ke)){const Gt=ue[Ke];delete ue[Ke],ue[Ke]=Gt}}),ns(()=>Le(ue,De,lt))}ut()}})(this))}disconnectedCallback(){pe.jmp(()=>(ue=>{if(0==(1&pe.$flags$)){const De=Gn(this),lt=De.$lazyInstance$;De.$rmListeners$&&(De.$rmListeners$.map(ut=>ut()),De.$rmListeners$=void 0),tr(lt,"disconnectedCallback")}})())}componentOnReady(){return Gn(this).$onReadyPromise$}};at.$lazyBundleId$=Zn[0],!Pe.includes(yt)&&!Ke.get(yt)&&(ut.push(yt),Ke.define(yt,We(jt,at,1)))})}),Ot.innerHTML=ut+"{visibility:hidden}.hydrated{visibility:inherit}",Ot.setAttribute("data-styles",""),mt.insertBefore(Ot,Gt?Gt.nextSibling:mt.firstChild),Hn=!1,Yt.length?Yt.map(Zn=>Zn.connectedCallback()):pe.jmp(()=>Bn=setTimeout(zn,30))},Cr=ue=>{const De=new URL(ue,pe.$resourcesUrl$);return De.origin!==ae.location.origin?De.href:De.pathname},ci=new WeakMap,Gn=ue=>ci.get(ue),Jr=(ue,De)=>ci.set(De.$lazyInstance$=ue,De),Yr=(ue,De)=>{const lt={$flags$:0,$hostElement$:ue,$cmpMeta$:De,$instanceValues$:new Map};return lt.$onInstancePromise$=new Promise(ut=>lt.$onInstanceResolve$=ut),lt.$onReadyPromise$=new Promise(ut=>lt.$onReadyResolve$=ut),ue["s-p"]=[],ue["s-rc"]=[],ze(ue,lt,De.$listeners$),ci.set(ue,lt)},qi=(ue,De)=>De in ue,ei=(ue,De)=>(0,console.error)(ue,De),mr=new Map,hs=(ue,De,lt)=>{const ut=ue.$tagName$.replace(/-/g,"_"),Pe=ue.$lazyBundleId$,Ke=mr.get(Pe);return Ke?Ke[ut]:O(863)(`./${Pe}.entry.js`).then(mt=>(mr.set(Pe,mt),mt[ut]),ei)},Zi=new Map,li=[],Pr=[],Ai=[],Pn=(ue,De)=>lt=>{ue.push(lt),ie||(ie=!0,De&&4&pe.$flags$?ns(Hi):pe.raf(Hi))},fi=ue=>{for(let De=0;De<ue.length;De++)try{ue[De](performance.now())}catch(lt){ei(lt)}ue.length=0},Hi=()=>{fi(Pr),fi(Ai),(ie=Pr.length>0)&&pe.raf(Hi)},ns=ue=>Ve().then(ue),Ss=Pn(Pr,!1),yi=Pn(Ai,!0),xi={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},3139:(ln,pt,O)=>{"use strict";O.r(pt),O.d(pt,{GESTURE_CONTROLLER:()=>u.G,createGesture:()=>Ee});var u=O(3509);const X=(pe,He,Qe,Ve)=>{const ke=W(pe)?{capture:!!Ve.capture,passive:!!Ve.passive}:!!Ve.capture;let ze,St;return pe.__zone_symbol__addEventListener?(ze="__zone_symbol__addEventListener",St="__zone_symbol__removeEventListener"):(ze="addEventListener",St="removeEventListener"),pe[ze](He,Qe,ke),()=>{pe[St](He,Qe,ke)}},W=pe=>{if(void 0===Be)try{const He=Object.defineProperty({},"passive",{get:()=>{Be=!0}});pe.addEventListener("optsTest",()=>{},He)}catch{Be=!1}return!!Be};let Be;const fe=pe=>pe instanceof Document?pe:pe.ownerDocument,Ee=pe=>{let He=!1,Qe=!1,Ve=!0,ke=!1;const ze=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},pe),St=ze.canStart,Se=ze.onWillStart,Dt=ze.onStart,bt=ze.onEnd,Mt=ze.notCaptured,rt=ze.onMove,_t=ze.threshold,Me=ze.passive,Ge=ze.blurOnStart,Ce={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},ce=((pe,He,Qe)=>{const Ve=Qe*(Math.PI/180),ke="x"===pe,ze=Math.cos(Ve),St=He*He;let Se=0,Dt=0,bt=!1,Mt=0;return{start(rt,_t){Se=rt,Dt=_t,Mt=0,bt=!0},detect(rt,_t){if(!bt)return!1;const Me=rt-Se,Ge=_t-Dt,Ce=Me*Me+Ge*Ge;if(Ce<St)return!1;const ce=Math.sqrt(Ce),xe=(ke?Me:Ge)/ce;return Mt=xe>ze?1:xe<-ze?-1:0,bt=!1,!0},isGesture:()=>0!==Mt,getDirection:()=>Mt}})(ze.direction,ze.threshold,ze.maxAngle),xe=u.G.createGesture({name:pe.gestureName,priority:pe.gesturePriority,disableScroll:pe.disableScroll}),re=()=>{!He||(ke=!1,rt&&rt(Ce))},be=()=>!(xe&&!xe.capture()||(He=!0,Ve=!1,Ce.startX=Ce.currentX,Ce.startY=Ce.currentY,Ce.startTime=Ce.currentTime,Se?Se(Ce).then(Re):Re(),0)),Re=()=>{Ge&&(()=>{if(typeof document<"u"){const nt=document.activeElement;nt?.blur&&nt.blur()}})(),Dt&&Dt(Ce),Ve=!0},ye=()=>{He=!1,Qe=!1,ke=!1,Ve=!0,xe.release()},Ie=nt=>{const Rt=He,gt=Ve;if(ye(),gt){if(ie(Ce,nt),Rt)return void(bt&&bt(Ce));Mt&&Mt(Ce)}},Ue=((pe,He,Qe,Ve,ke)=>{let ze,St,Se,Dt,bt,Mt,rt,_t=0;const Me=me=>{_t=Date.now()+2e3,He(me)&&(!St&&Qe&&(St=X(pe,"touchmove",Qe,ke)),Se||(Se=X(me.target,"touchend",Ce,ke)),Dt||(Dt=X(me.target,"touchcancel",Ce,ke)))},Ge=me=>{_t>Date.now()||!He(me)||(!Mt&&Qe&&(Mt=X(fe(pe),"mousemove",Qe,ke)),rt||(rt=X(fe(pe),"mouseup",ce,ke)))},Ce=me=>{xe(),Ve&&Ve(me)},ce=me=>{oe(),Ve&&Ve(me)},xe=()=>{St&&St(),Se&&Se(),Dt&&Dt(),St=Se=Dt=void 0},oe=()=>{Mt&&Mt(),rt&&rt(),Mt=rt=void 0},Oe=()=>{xe(),oe()},re=(me=!0)=>{me?(ze||(ze=X(pe,"touchstart",Me,ke)),bt||(bt=X(pe,"mousedown",Ge,ke))):(ze&&ze(),bt&&bt(),ze=bt=void 0,Oe())};return{enable:re,stop:Oe,destroy:()=>{re(!1),Ve=Qe=He=void 0}}})(ze.el,nt=>{const Rt=ne(nt);return!(Qe||!Ve||(ae(nt,Ce),Ce.startX=Ce.currentX,Ce.startY=Ce.currentY,Ce.startTime=Ce.currentTime=Rt,Ce.velocityX=Ce.velocityY=Ce.deltaX=Ce.deltaY=0,Ce.event=nt,St&&!1===St(Ce))||(xe.release(),!xe.start()))&&(Qe=!0,0===_t?be():(ce.start(Ce.startX,Ce.startY),!0))},nt=>{He?!ke&&Ve&&(ke=!0,ie(Ce,nt),requestAnimationFrame(re)):(ie(Ce,nt),ce.detect(Ce.currentX,Ce.currentY)&&(!ce.isGesture()||!be())&&qe())},Ie,{capture:!1,passive:Me}),qe=()=>{ye(),Ue.stop(),Mt&&Mt(Ce)};return{enable(nt=!0){nt||(He&&Ie(void 0),ye()),Ue.enable(nt)},destroy(){xe.destroy(),Ue.destroy()}}},ie=(pe,He)=>{if(!He)return;const Qe=pe.currentX,Ve=pe.currentY,ke=pe.currentTime;ae(He,pe);const ze=pe.currentX,St=pe.currentY,Dt=(pe.currentTime=ne(He))-ke;if(Dt>0&&Dt<100){const Mt=(St-Ve)/Dt;pe.velocityX=(ze-Qe)/Dt*.7+.3*pe.velocityX,pe.velocityY=.7*Mt+.3*pe.velocityY}pe.deltaX=ze-pe.startX,pe.deltaY=St-pe.startY,pe.event=He},ae=(pe,He)=>{let Qe=0,Ve=0;if(pe){const ke=pe.changedTouches;if(ke&&ke.length>0){const ze=ke[0];Qe=ze.clientX,Ve=ze.clientY}else void 0!==pe.pageX&&(Qe=pe.pageX,Ve=pe.pageY)}He.currentX=Qe,He.currentY=Ve},ne=pe=>pe.timeStamp||Date.now()},471:(ln,pt,O)=>{"use strict";O.d(pt,{L:()=>Be,a:()=>Ne,b:()=>J,c:()=>fe,d:()=>ve,e:()=>_t,g:()=>Ce,l:()=>Mt,s:()=>Me,t:()=>ae});var u=O(5861),X=O(7936),W=O(3756);const Be="ionViewWillEnter",Ne="ionViewDidEnter",J="ionViewWillLeave",fe="ionViewDidLeave",ve="ionViewWillUnload",ae=ce=>new Promise((xe,oe)=>{(0,X.c)(()=>{ne(ce),pe(ce).then(Oe=>{Oe.animation&&Oe.animation.destroy(),He(ce),xe(Oe)},Oe=>{He(ce),oe(Oe)})})}),ne=ce=>{const xe=ce.enteringEl,oe=ce.leavingEl;Ge(xe,oe,ce.direction),ce.showGoBack?xe.classList.add("can-go-back"):xe.classList.remove("can-go-back"),Me(xe,!1),xe.style.setProperty("pointer-events","none"),oe&&(Me(oe,!1),oe.style.setProperty("pointer-events","none"))},pe=function(){var ce=(0,u.Z)(function*(xe){const oe=yield Qe(xe);return oe&&X.B.isBrowser?Ve(oe,xe):ke(xe)});return function(oe){return ce.apply(this,arguments)}}(),He=ce=>{const xe=ce.enteringEl,oe=ce.leavingEl;xe.classList.remove("ion-page-invisible"),xe.style.removeProperty("pointer-events"),void 0!==oe&&(oe.classList.remove("ion-page-invisible"),oe.style.removeProperty("pointer-events"))},Qe=function(){var ce=(0,u.Z)(function*(xe){return xe.leavingEl&&xe.animated&&0!==xe.duration?xe.animationBuilder?xe.animationBuilder:"ios"===xe.mode?(yield Promise.resolve().then(O.bind(O,9950))).iosTransitionAnimation:(yield Promise.resolve().then(O.bind(O,4802))).mdTransitionAnimation:void 0});return function(oe){return ce.apply(this,arguments)}}(),Ve=function(){var ce=(0,u.Z)(function*(xe,oe){yield ze(oe,!0);const Oe=xe(oe.baseEl,oe);Dt(oe.enteringEl,oe.leavingEl);const re=yield Se(Oe,oe);return oe.progressCallback&&oe.progressCallback(void 0),re&&bt(oe.enteringEl,oe.leavingEl),{hasCompleted:re,animation:Oe}});return function(oe,Oe){return ce.apply(this,arguments)}}(),ke=function(){var ce=(0,u.Z)(function*(xe){const oe=xe.enteringEl,Oe=xe.leavingEl;return yield ze(xe,!1),Dt(oe,Oe),bt(oe,Oe),{hasCompleted:!0}});return function(oe){return ce.apply(this,arguments)}}(),ze=function(){var ce=(0,u.Z)(function*(xe,oe){const re=(void 0!==xe.deepWait?xe.deepWait:oe)?[_t(xe.enteringEl),_t(xe.leavingEl)]:[rt(xe.enteringEl),rt(xe.leavingEl)];yield Promise.all(re),yield St(xe.viewIsReady,xe.enteringEl)});return function(oe,Oe){return ce.apply(this,arguments)}}(),St=function(){var ce=(0,u.Z)(function*(xe,oe){xe&&(yield xe(oe))});return function(oe,Oe){return ce.apply(this,arguments)}}(),Se=(ce,xe)=>{const oe=xe.progressCallback,Oe=new Promise(re=>{ce.onFinish(be=>re(1===be))});return oe?(ce.progressStart(!0),oe(ce)):ce.play(),Oe},Dt=(ce,xe)=>{Mt(xe,J),Mt(ce,Be)},bt=(ce,xe)=>{Mt(ce,Ne),Mt(xe,fe)},Mt=(ce,xe)=>{if(ce){const oe=new CustomEvent(xe,{bubbles:!1,cancelable:!1});ce.dispatchEvent(oe)}},rt=ce=>ce?new Promise(xe=>(0,W.c)(ce,xe)):Promise.resolve(),_t=function(){var ce=(0,u.Z)(function*(xe){const oe=xe;if(oe){if(null!=oe.componentOnReady){if(null!=(yield oe.componentOnReady()))return}else if(null!=oe.__registerHost)return void(yield new Promise(re=>(0,W.r)(re)));yield Promise.all(Array.from(oe.children).map(_t))}});return function(oe){return ce.apply(this,arguments)}}(),Me=(ce,xe)=>{xe?(ce.setAttribute("aria-hidden","true"),ce.classList.add("ion-page-hidden")):(ce.hidden=!1,ce.removeAttribute("aria-hidden"),ce.classList.remove("ion-page-hidden"))},Ge=(ce,xe,oe)=>{void 0!==ce&&(ce.style.zIndex="back"===oe?"99":"101"),void 0!==xe&&(xe.style.zIndex="100")},Ce=ce=>ce.classList.contains("ion-page")?ce:ce.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||ce},604:(ln,pt,O)=>{"use strict";O.d(pt,{m:()=>ae});var u=O(5861),X=O(7593),W=O(3756),Be=O(1671),Ne=O(9442);const J=ne=>(0,Ne.c)().duration(ne?400:300),fe=ne=>{let pe,He;const Qe=ne.width+8,Ve=(0,Ne.c)(),ke=(0,Ne.c)();ne.isEndSide?(pe=Qe+"px",He="0px"):(pe=-Qe+"px",He="0px"),Ve.addElement(ne.menuInnerEl).fromTo("transform",`translateX(${pe})`,`translateX(${He})`);const St="ios"===(0,Be.b)(ne),Se=St?.2:.25;return ke.addElement(ne.backdropEl).fromTo("opacity",.01,Se),J(St).addAnimation([Ve,ke])},ve=ne=>{let pe,He;const Qe=(0,Be.b)(ne),Ve=ne.width;ne.isEndSide?(pe=-Ve+"px",He=Ve+"px"):(pe=Ve+"px",He=-Ve+"px");const ke=(0,Ne.c)().addElement(ne.menuInnerEl).fromTo("transform",`translateX(${He})`,"translateX(0px)"),ze=(0,Ne.c)().addElement(ne.contentEl).fromTo("transform","translateX(0px)",`translateX(${pe})`),St=(0,Ne.c)().addElement(ne.backdropEl).fromTo("opacity",.01,.32);return J("ios"===Qe).addAnimation([ke,ze,St])},Ee=ne=>{const pe=(0,Be.b)(ne),He=ne.width*(ne.isEndSide?-1:1)+"px",Qe=(0,Ne.c)().addElement(ne.contentEl).fromTo("transform","translateX(0px)",`translateX(${He})`);return J("ios"===pe).addAnimation(Qe)},ae=(()=>{const ne=new Map,pe=[],He=function(){var Re=(0,u.Z)(function*(ye){const Ie=yield Dt(ye);return!!Ie&&Ie.open()});return function(Ie){return Re.apply(this,arguments)}}(),Qe=function(){var Re=(0,u.Z)(function*(ye){const Ie=yield void 0!==ye?Dt(ye):bt();return void 0!==Ie&&Ie.close()});return function(Ie){return Re.apply(this,arguments)}}(),Ve=function(){var Re=(0,u.Z)(function*(ye){const Ie=yield Dt(ye);return!!Ie&&Ie.toggle()});return function(Ie){return Re.apply(this,arguments)}}(),ke=function(){var Re=(0,u.Z)(function*(ye,Ie){const Ue=yield Dt(Ie);return Ue&&(Ue.disabled=!ye),Ue});return function(Ie,Ue){return Re.apply(this,arguments)}}(),ze=function(){var Re=(0,u.Z)(function*(ye,Ie){const Ue=yield Dt(Ie);return Ue&&(Ue.swipeGesture=ye),Ue});return function(Ie,Ue){return Re.apply(this,arguments)}}(),St=function(){var Re=(0,u.Z)(function*(ye){if(null!=ye){const Ie=yield Dt(ye);return void 0!==Ie&&Ie.isOpen()}return void 0!==(yield bt())});return function(Ie){return Re.apply(this,arguments)}}(),Se=function(){var Re=(0,u.Z)(function*(ye){const Ie=yield Dt(ye);return!!Ie&&!Ie.disabled});return function(Ie){return Re.apply(this,arguments)}}(),Dt=function(){var Re=(0,u.Z)(function*(ye){return yield me(),"start"===ye||"end"===ye?be(qe=>qe.side===ye&&!qe.disabled)||be(qe=>qe.side===ye):null!=ye?be(Ue=>Ue.menuId===ye):be(Ue=>!Ue.disabled)||(pe.length>0?pe[0].el:void 0)});return function(Ie){return Re.apply(this,arguments)}}(),bt=function(){var Re=(0,u.Z)(function*(){return yield me(),oe()});return function(){return Re.apply(this,arguments)}}(),Mt=function(){var Re=(0,u.Z)(function*(){return yield me(),Oe()});return function(){return Re.apply(this,arguments)}}(),rt=function(){var Re=(0,u.Z)(function*(){return yield me(),re()});return function(){return Re.apply(this,arguments)}}(),_t=(Re,ye)=>{ne.set(Re,ye)},Ce=Re=>{const ye=Re.side;pe.filter(Ie=>Ie.side===ye&&Ie!==Re).forEach(Ie=>Ie.disabled=!0)},ce=function(){var Re=(0,u.Z)(function*(ye,Ie,Ue){if(re())return!1;if(Ie){const qe=yield bt();qe&&ye.el!==qe&&(yield qe.setOpen(!1,!1))}return ye._setOpen(Ie,Ue)});return function(Ie,Ue,qe){return Re.apply(this,arguments)}}(),oe=()=>be(Re=>Re._isOpen),Oe=()=>pe.map(Re=>Re.el),re=()=>pe.some(Re=>Re.isAnimating),be=Re=>{const ye=pe.find(Re);if(void 0!==ye)return ye.el},me=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(Re=>new Promise(ye=>(0,W.c)(Re,ye))));return _t("reveal",Ee),_t("push",ve),_t("overlay",fe),typeof document<"u"&&document.addEventListener("ionBackButton",Re=>{const ye=oe();ye&&Re.detail.register(X.MENU_BACK_BUTTON_PRIORITY,()=>ye.close())}),{registerAnimation:_t,get:Dt,getMenus:Mt,getOpen:bt,isEnabled:Se,swipeGesture:ze,isAnimating:rt,isOpen:St,enable:ke,toggle:Ve,close:Qe,open:He,_getOpenSync:oe,_createAnimation:(Re,ye)=>{const Ie=ne.get(Re);if(!Ie)throw new Error("animation not registered");return Ie(ye)},_register:Re=>{pe.indexOf(Re)<0&&(Re.disabled||Ce(Re),pe.push(Re))},_unregister:Re=>{const ye=pe.indexOf(Re);ye>-1&&pe.splice(ye,1)},_setOpen:ce,_setActiveMenu:Ce}})()},1671:(ln,pt,O)=>{"use strict";O.d(pt,{a:()=>ae,b:()=>re,c:()=>W,g:()=>ie,i:()=>be});var u=O(7936);class X{constructor(){this.m=new Map}reset(Re){this.m=new Map(Object.entries(Re))}get(Re,ye){const Ie=this.m.get(Re);return void 0!==Ie?Ie:ye}getBoolean(Re,ye=!1){const Ie=this.m.get(Re);return void 0===Ie?ye:"string"==typeof Ie?"true"===Ie:!!Ie}getNumber(Re,ye){const Ie=parseFloat(this.m.get(Re));return isNaN(Ie)?void 0!==ye?ye:NaN:Ie}set(Re,ye){this.m.set(Re,ye)}}const W=new X,Ee="ionic-persist-config",ie=me=>ne(me),ae=(me,Re)=>("string"==typeof me&&(Re=me,me=void 0),ie(me).includes(Re)),ne=(me=window)=>{if(typeof me>"u")return[];me.Ionic=me.Ionic||{};let Re=me.Ionic.platforms;return null==Re&&(Re=me.Ionic.platforms=pe(me),Re.forEach(ye=>me.document.documentElement.classList.add(`plt-${ye}`))),Re},pe=me=>{const Re=W.get("platform");return Object.keys(oe).filter(ye=>{const Ie=Re?.[ye];return"function"==typeof Ie?Ie(me):oe[ye](me)})},Qe=me=>!!(ce(me,/iPad/i)||ce(me,/Macintosh/i)&&bt(me)),ze=me=>ce(me,/android|sink/i),bt=me=>xe(me,"(any-pointer:coarse)"),rt=me=>_t(me)||Me(me),_t=me=>!!(me.cordova||me.phonegap||me.PhoneGap),Me=me=>!!me.Capacitor?.isNative,ce=(me,Re)=>Re.test(me.navigator.userAgent),xe=(me,Re)=>{var ye;return null===(ye=me.matchMedia)||void 0===ye?void 0:ye.call(me,Re).matches},oe={ipad:Qe,iphone:me=>ce(me,/iPhone/i),ios:me=>ce(me,/iPhone|iPod/i)||Qe(me),android:ze,phablet:me=>{const Re=me.innerWidth,ye=me.innerHeight,Ie=Math.min(Re,ye),Ue=Math.max(Re,ye);return Ie>390&&Ie<520&&Ue>620&&Ue<800},tablet:me=>{const Re=me.innerWidth,ye=me.innerHeight,Ie=Math.min(Re,ye),Ue=Math.max(Re,ye);return Qe(me)||(me=>ze(me)&&!ce(me,/mobile/i))(me)||Ie>460&&Ie<820&&Ue>780&&Ue<1400},cordova:_t,capacitor:Me,electron:me=>ce(me,/electron/i),pwa:me=>{var Re;return!(!(null===(Re=me.matchMedia)||void 0===Re?void 0:Re.call(me,"(display-mode: standalone)").matches)&&!me.navigator.standalone)},mobile:bt,mobileweb:me=>bt(me)&&!rt(me),desktop:me=>!bt(me),hybrid:rt};let Oe;const re=me=>me&&(0,u.g)(me)||Oe,be=(me={})=>{if(typeof window>"u")return;const Re=window.document,ye=window,Ie=ye.Ionic=ye.Ionic||{},Ue={};me._ael&&(Ue.ael=me._ael),me._rel&&(Ue.rel=me._rel),me._ce&&(Ue.ce=me._ce),(0,u.s)(Ue);const qe=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(me=>{try{const Re=me.sessionStorage.getItem(Ee);return null!==Re?JSON.parse(Re):{}}catch{return{}}})(ye)),{persistConfig:!1}),Ie.config),(me=>{const Re={};return me.location.search.slice(1).split("&").map(ye=>ye.split("=")).map(([ye,Ie])=>[decodeURIComponent(ye),decodeURIComponent(Ie)]).filter(([ye])=>((me,Re)=>me.substr(0,Re.length)===Re)(ye,"ionic:")).map(([ye,Ie])=>[ye.slice("ionic:".length),Ie]).forEach(([ye,Ie])=>{Re[ye]=Ie}),Re})(ye)),me);W.reset(qe),W.getBoolean("persistConfig")&&((me,Re)=>{try{me.sessionStorage.setItem(Ee,JSON.stringify(Re))}catch{return}})(ye,qe),ne(ye),Ie.config=W,Ie.mode=Oe=W.get("mode",Re.documentElement.getAttribute("mode")||(ae(ye,"ios")?"ios":"md")),W.set("mode",Oe),Re.documentElement.setAttribute("mode",Oe),Re.documentElement.classList.add(Oe),W.getBoolean("_testing")&&W.set("animated",!1);const nt=gt=>{var Lt;return null===(Lt=gt.tagName)||void 0===Lt?void 0:Lt.startsWith("ION-")},Rt=gt=>["ios","md"].includes(gt);(0,u.a)(gt=>{for(;gt;){const Lt=gt.mode||gt.getAttribute("mode");if(Lt){if(Rt(Lt))return Lt;nt(gt)&&console.warn('Invalid ionic mode: "'+Lt+'", expected: "ios" or "md"')}gt=gt.parentElement}return Oe})}},9950:(ln,pt,O)=>{"use strict";O.r(pt),O.d(pt,{iosTransitionAnimation:()=>ne,shadow:()=>J});var u=O(9442),X=O(471);O(7936);const Ne=pe=>document.querySelector(`${pe}.ion-cloned-element`),J=pe=>pe.shadowRoot||pe,fe=pe=>{const He="ION-TABS"===pe.tagName?pe:pe.querySelector("ion-tabs"),Qe="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=He){const Ve=He.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Ve?Ve.querySelector(Qe):null}return pe.querySelector(Qe)},ve=(pe,He)=>{const Qe="ION-TABS"===pe.tagName?pe:pe.querySelector("ion-tabs");let Ve=[];if(null!=Qe){const ke=Qe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=ke&&(Ve=ke.querySelectorAll("ion-buttons"))}else Ve=pe.querySelectorAll("ion-buttons");for(const ke of Ve){const ze=ke.closest("ion-header"),St=ze&&!ze.classList.contains("header-collapse-condense-inactive"),Se=ke.querySelector("ion-back-button"),Dt=ke.classList.contains("buttons-collapse"),bt="start"===ke.slot||""===ke.slot;if(null!==Se&&bt&&(Dt&&St&&He||!Dt))return Se}return null},ie=(pe,He,Qe,Ve,ke,ze)=>{const St=He?`calc(100% - ${ze.right+4}px)`:ze.left-4+"px",Se=He?"7px":"-7px",Dt=He?"-4px":"4px",bt=He?"-4px":"4px",Mt=He?"right":"left",rt=He?"left":"right",Ge=Qe?[{offset:0,opacity:1,transform:`translate3d(${Dt}, ${ze.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Se}, ${ke.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${Se}, ${ke.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${Dt}, ${ze.top-46}px, 0) scale(1)`}],xe=Qe?[{offset:0,opacity:1,transform:`translate3d(${bt}, ${ze.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${bt}, ${ze.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${bt}, ${ze.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${bt}, ${ze.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${bt}, ${ze.top-46}px, 0) scale(1)`}],oe=(0,u.c)(),Oe=(0,u.c)(),re=Ne("ion-back-button"),be=J(re).querySelector(".button-text"),me=J(re).querySelector("ion-icon");re.text=Ve.text,re.mode=Ve.mode,re.icon=Ve.icon,re.color=Ve.color,re.disabled=Ve.disabled,re.style.setProperty("display","block"),re.style.setProperty("position","fixed"),Oe.addElement(me),oe.addElement(be),oe.beforeStyles({"transform-origin":`${Mt} center`}).beforeAddWrite(()=>{Ve.style.setProperty("display","none"),re.style.setProperty(Mt,St)}).afterAddWrite(()=>{Ve.style.setProperty("display",""),re.style.setProperty("display","none"),re.style.removeProperty(Mt)}).keyframes(Ge),Oe.beforeStyles({"transform-origin":`${rt} center`}).keyframes(xe),pe.addAnimation([oe,Oe])},ae=(pe,He,Qe,Ve,ke,ze)=>{const St=He?`calc(100% - ${ke.right}px)`:`${ke.left}px`,Se=He?"-18px":"18px",Dt=He?"right":"left",rt=Qe?[{offset:0,opacity:0,transform:`translate3d(${Se}, ${ze.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${ke.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${ke.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Se}, ${ze.top-4}px, 0) scale(0.5)`}],_t=Ne("ion-title"),Me=(0,u.c)();_t.innerText=Ve.innerText,_t.size=Ve.size,_t.color=Ve.color,Me.addElement(_t),Me.beforeStyles({"transform-origin":`${Dt} center`,height:"46px",display:"",position:"relative",[Dt]:St}).beforeAddWrite(()=>{Ve.style.setProperty("display","none")}).afterAddWrite(()=>{Ve.style.setProperty("display",""),_t.style.setProperty("display","none")}).keyframes(rt),pe.addAnimation(Me)},ne=(pe,He)=>{try{const Qe="cubic-bezier(0.32,0.72,0,1)",Ve="opacity",ke="transform",ze="0%",Se="rtl"===pe.ownerDocument.dir,Dt=Se?"-99.5%":"99.5%",bt=Se?"33%":"-33%",Mt=He.enteringEl,rt=He.leavingEl,_t="back"===He.direction,Me=Mt.querySelector(":scope > ion-content"),Ge=Mt.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Ce=Mt.querySelectorAll(":scope > ion-header > ion-toolbar"),ce=(0,u.c)(),xe=(0,u.c)();if(ce.addElement(Mt).duration(He.duration||540).easing(He.easing||Qe).fill("both").beforeRemoveClass("ion-page-invisible"),rt&&pe){const be=(0,u.c)();be.addElement(pe),ce.addAnimation(be)}if(Me||0!==Ce.length||0!==Ge.length?(xe.addElement(Me),xe.addElement(Ge)):xe.addElement(Mt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ce.addAnimation(xe),_t?xe.beforeClearStyles([Ve]).fromTo("transform",`translateX(${bt})`,`translateX(${ze})`).fromTo(Ve,.8,1):xe.beforeClearStyles([Ve]).fromTo("transform",`translateX(${Dt})`,`translateX(${ze})`),Me){const be=J(Me).querySelector(".transition-effect");if(be){const me=be.querySelector(".transition-cover"),Re=be.querySelector(".transition-shadow"),ye=(0,u.c)(),Ie=(0,u.c)(),Ue=(0,u.c)();ye.addElement(be).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ie.addElement(me).beforeClearStyles([Ve]).fromTo(Ve,0,.1),Ue.addElement(Re).beforeClearStyles([Ve]).fromTo(Ve,.03,.7),ye.addAnimation([Ie,Ue]),xe.addAnimation([ye])}}const oe=Mt.querySelector("ion-header.header-collapse-condense"),{forward:Oe,backward:re}=((pe,He,Qe,Ve,ke)=>{const ze=ve(Ve,Qe),St=fe(ke),Se=fe(Ve),Dt=ve(ke,Qe),bt=null!==ze&&null!==St&&!Qe,Mt=null!==Se&&null!==Dt&&Qe;if(bt){const rt=St.getBoundingClientRect(),_t=ze.getBoundingClientRect();ae(pe,He,Qe,St,rt,_t),ie(pe,He,Qe,ze,rt,_t)}else if(Mt){const rt=Se.getBoundingClientRect(),_t=Dt.getBoundingClientRect();ae(pe,He,Qe,Se,rt,_t),ie(pe,He,Qe,Dt,rt,_t)}return{forward:bt,backward:Mt}})(ce,Se,_t,Mt,rt);if(Ce.forEach(be=>{const me=(0,u.c)();me.addElement(be),ce.addAnimation(me);const Re=(0,u.c)();Re.addElement(be.querySelector("ion-title"));const ye=(0,u.c)(),Ie=Array.from(be.querySelectorAll("ion-buttons,[menuToggle]")),Ue=be.closest("ion-header"),qe=Ue?.classList.contains("header-collapse-condense-inactive");let nt;nt=Ie.filter(_t?wn=>{const An=wn.classList.contains("buttons-collapse");return An&&!qe||!An}:wn=>!wn.classList.contains("buttons-collapse")),ye.addElement(nt);const Rt=(0,u.c)();Rt.addElement(be.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const gt=(0,u.c)();gt.addElement(J(be).querySelector(".toolbar-background"));const Lt=(0,u.c)(),pn=be.querySelector("ion-back-button");if(pn&&Lt.addElement(pn),me.addAnimation([Re,ye,Rt,gt,Lt]),ye.fromTo(Ve,.01,1),Rt.fromTo(Ve,.01,1),_t)qe||Re.fromTo("transform",`translateX(${bt})`,`translateX(${ze})`).fromTo(Ve,.01,1),Rt.fromTo("transform",`translateX(${bt})`,`translateX(${ze})`),Lt.fromTo(Ve,.01,1);else if(oe||Re.fromTo("transform",`translateX(${Dt})`,`translateX(${ze})`).fromTo(Ve,.01,1),Rt.fromTo("transform",`translateX(${Dt})`,`translateX(${ze})`),gt.beforeClearStyles([Ve,"transform"]),Ue?.translucent?gt.fromTo("transform",Se?"translateX(-100%)":"translateX(100%)","translateX(0px)"):gt.fromTo(Ve,.01,"var(--opacity)"),Oe||Lt.fromTo(Ve,.01,1),pn&&!Oe){const An=(0,u.c)();An.addElement(J(pn).querySelector(".button-text")).fromTo("transform",Se?"translateX(-100px)":"translateX(100px)","translateX(0px)"),me.addAnimation(An)}}),rt){const be=(0,u.c)(),me=rt.querySelector(":scope > ion-content"),Re=rt.querySelectorAll(":scope > ion-header > ion-toolbar"),ye=rt.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(me||0!==Re.length||0!==ye.length?(be.addElement(me),be.addElement(ye)):be.addElement(rt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ce.addAnimation(be),_t){be.beforeClearStyles([Ve]).fromTo("transform",`translateX(${ze})`,Se?"translateX(-100%)":"translateX(100%)");const Ie=(0,X.g)(rt);ce.afterAddWrite(()=>{"normal"===ce.getDirection()&&Ie.style.setProperty("display","none")})}else be.fromTo("transform",`translateX(${ze})`,`translateX(${bt})`).fromTo(Ve,1,.8);if(me){const Ie=J(me).querySelector(".transition-effect");if(Ie){const Ue=Ie.querySelector(".transition-cover"),qe=Ie.querySelector(".transition-shadow"),nt=(0,u.c)(),Rt=(0,u.c)(),gt=(0,u.c)();nt.addElement(Ie).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Rt.addElement(Ue).beforeClearStyles([Ve]).fromTo(Ve,.1,0),gt.addElement(qe).beforeClearStyles([Ve]).fromTo(Ve,.7,.03),nt.addAnimation([Rt,gt]),be.addAnimation([nt])}}Re.forEach(Ie=>{const Ue=(0,u.c)();Ue.addElement(Ie);const qe=(0,u.c)();qe.addElement(Ie.querySelector("ion-title"));const nt=(0,u.c)(),Rt=Ie.querySelectorAll("ion-buttons,[menuToggle]"),gt=Ie.closest("ion-header"),Lt=gt?.classList.contains("header-collapse-condense-inactive"),pn=Array.from(Rt).filter(zr=>{const Mr=zr.classList.contains("buttons-collapse");return Mr&&!Lt||!Mr});nt.addElement(pn);const wn=(0,u.c)(),An=Ie.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");An.length>0&&wn.addElement(An);const Nn=(0,u.c)();Nn.addElement(J(Ie).querySelector(".toolbar-background"));const sr=(0,u.c)(),ri=Ie.querySelector("ion-back-button");if(ri&&sr.addElement(ri),Ue.addAnimation([qe,nt,wn,sr,Nn]),ce.addAnimation(Ue),sr.fromTo(Ve,.99,0),nt.fromTo(Ve,.99,0),wn.fromTo(Ve,.99,0),_t){if(Lt||qe.fromTo("transform",`translateX(${ze})`,Se?"translateX(-100%)":"translateX(100%)").fromTo(Ve,.99,0),wn.fromTo("transform",`translateX(${ze})`,Se?"translateX(-100%)":"translateX(100%)"),Nn.beforeClearStyles([Ve,"transform"]),gt?.translucent?Nn.fromTo("transform","translateX(0px)",Se?"translateX(-100%)":"translateX(100%)"):Nn.fromTo(Ve,"var(--opacity)",0),ri&&!re){const Mr=(0,u.c)();Mr.addElement(J(ri).querySelector(".button-text")).fromTo("transform",`translateX(${ze})`,`translateX(${(Se?-124:124)+"px"})`),Ue.addAnimation(Mr)}}else Lt||qe.fromTo("transform",`translateX(${ze})`,`translateX(${bt})`).fromTo(Ve,.99,0).afterClearStyles([ke,Ve]),wn.fromTo("transform",`translateX(${ze})`,`translateX(${bt})`).afterClearStyles([ke,Ve]),sr.afterClearStyles([Ve]),qe.afterClearStyles([Ve]),nt.afterClearStyles([Ve])})}return ce}catch(Qe){throw Qe}}},4802:(ln,pt,O)=>{"use strict";O.r(pt),O.d(pt,{mdTransitionAnimation:()=>Be});var u=O(9442),X=O(471);O(7936);const Be=(Ne,J)=>{const Ee="back"===J.direction,ae=J.leavingEl,ne=(0,X.g)(J.enteringEl),pe=ne.querySelector("ion-toolbar"),He=(0,u.c)();if(He.addElement(ne).fill("both").beforeRemoveClass("ion-page-invisible"),Ee?He.duration(J.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):He.duration(J.duration||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),pe){const Qe=(0,u.c)();Qe.addElement(pe),He.addAnimation(Qe)}if(ae&&Ee){He.duration(J.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const Qe=(0,u.c)();Qe.addElement((0,X.g)(ae)).onFinish(Ve=>{1===Ve&&Qe.elements.length>0&&Qe.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),He.addAnimation(Qe)}return He}},4239:(ln,pt,O)=>{"use strict";O.d(pt,{B:()=>ye,a:()=>ve,b:()=>Ee,c:()=>pe,d:()=>Ge,e:()=>Qe,f:()=>ce,g:()=>Oe,h:()=>J,i:()=>be,j:()=>ze,k:()=>_t,m:()=>ae,s:()=>Re,t:()=>He});var u=O(5861),X=O(1671),W=O(7593),Be=O(3756);let Ne=0;const J=new WeakMap,fe=Ie=>({create:Ue=>Ve(Ie,Ue),dismiss:(Ue,qe,nt)=>Mt(document,Ue,qe,Ie,nt),getTop:()=>(0,u.Z)(function*(){return _t(document,Ie)})()}),ve=fe("ion-alert"),Ee=fe("ion-action-sheet"),ae=fe("ion-modal"),pe=fe("ion-popover"),He=fe("ion-toast"),Qe=Ie=>{typeof document<"u"&&bt(document);const Ue=Ne++;Ie.overlayIndex=Ue,Ie.hasAttribute("id")||(Ie.id=`ion-overlay-${Ue}`)},Ve=(Ie,Ue)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Ie).then(()=>{const qe=document.createElement(Ie);return qe.classList.add("overlay-hidden"),Object.assign(qe,Object.assign(Object.assign({},Ue),{hasController:!0})),xe(document).appendChild(qe),new Promise(nt=>(0,Be.c)(qe,nt))}):Promise.resolve(),ke='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])',ze=(Ie,Ue)=>{let qe=Ie.querySelector(ke);const nt=qe?.shadowRoot;nt&&(qe=nt.querySelector(ke)||qe),qe?(0,Be.f)(qe):Ue.focus()},Se=(Ie,Ue)=>{const qe=Array.from(Ie.querySelectorAll(ke));let nt=qe.length>0?qe[qe.length-1]:null;const Rt=nt?.shadowRoot;Rt&&(nt=Rt.querySelector(ke)||nt),nt?nt.focus():Ue.focus()},bt=Ie=>{0===Ne&&(Ne=1,Ie.addEventListener("focus",Ue=>{((Ie,Ue)=>{const qe=_t(Ue,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),nt=Ie.target;qe&&nt&&!qe.classList.contains("ion-disable-focus-trap")&&(qe.shadowRoot?(()=>{if(qe.contains(nt))qe.lastFocus=nt;else{const Lt=qe.lastFocus;ze(qe,qe),Lt===Ue.activeElement&&Se(qe,qe),qe.lastFocus=Ue.activeElement}})():(()=>{if(qe===nt)qe.lastFocus=void 0;else{const Lt=(0,Be.g)(qe);if(!Lt.contains(nt))return;const pn=Lt.querySelector(".ion-overlay-wrapper");if(!pn)return;if(pn.contains(nt))qe.lastFocus=nt;else{const wn=qe.lastFocus;ze(pn,qe),wn===Ue.activeElement&&Se(pn,qe),qe.lastFocus=Ue.activeElement}}})())})(Ue,Ie)},!0),Ie.addEventListener("ionBackButton",Ue=>{const qe=_t(Ie);qe?.backdropDismiss&&Ue.detail.register(W.OVERLAY_BACK_BUTTON_PRIORITY,()=>qe.dismiss(void 0,ye))}),Ie.addEventListener("keyup",Ue=>{if("Escape"===Ue.key){const qe=_t(Ie);qe?.backdropDismiss&&qe.dismiss(void 0,ye)}}))},Mt=(Ie,Ue,qe,nt,Rt)=>{const gt=_t(Ie,nt,Rt);return gt?gt.dismiss(Ue,qe):Promise.reject("overlay does not exist")},_t=(Ie,Ue,qe)=>{const nt=((Ie,Ue)=>(void 0===Ue&&(Ue="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Ie.querySelectorAll(Ue)).filter(qe=>qe.overlayIndex>0)))(Ie,Ue).filter(Rt=>!(Ie=>Ie.classList.contains("overlay-hidden"))(Rt));return void 0===qe?nt[nt.length-1]:nt.find(Rt=>Rt.id===qe)},Me=(Ie=!1)=>{const qe=xe(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");!qe||(Ie?qe.setAttribute("aria-hidden","true"):qe.removeAttribute("aria-hidden"))},Ge=function(){var Ie=(0,u.Z)(function*(Ue,qe,nt,Rt,gt){var Lt,pn;if(Ue.presented)return;Me(!0),Ue.presented=!0,Ue.willPresent.emit(),null===(Lt=Ue.willPresentShorthand)||void 0===Lt||Lt.emit();const wn=(0,X.b)(Ue),An=Ue.enterAnimation?Ue.enterAnimation:X.c.get(qe,"ios"===wn?nt:Rt);(yield oe(Ue,An,Ue.el,gt))&&(Ue.didPresent.emit(),null===(pn=Ue.didPresentShorthand)||void 0===pn||pn.emit()),"ION-TOAST"!==Ue.el.tagName&&Ce(Ue.el),Ue.keyboardClose&&(null===document.activeElement||!Ue.el.contains(document.activeElement))&&Ue.el.focus()});return function(qe,nt,Rt,gt,Lt){return Ie.apply(this,arguments)}}(),Ce=function(){var Ie=(0,u.Z)(function*(Ue){let qe=document.activeElement;if(!qe)return;const nt=qe?.shadowRoot;nt&&(qe=nt.querySelector(ke)||qe),yield Ue.onDidDismiss(),qe.focus()});return function(qe){return Ie.apply(this,arguments)}}(),ce=function(){var Ie=(0,u.Z)(function*(Ue,qe,nt,Rt,gt,Lt,pn){var wn,An;if(!Ue.presented)return!1;Me(!1),Ue.presented=!1;try{Ue.el.style.setProperty("pointer-events","none"),Ue.willDismiss.emit({data:qe,role:nt}),null===(wn=Ue.willDismissShorthand)||void 0===wn||wn.emit({data:qe,role:nt});const Nn=(0,X.b)(Ue),sr=Ue.leaveAnimation?Ue.leaveAnimation:X.c.get(Rt,"ios"===Nn?gt:Lt);"gesture"!==nt&&(yield oe(Ue,sr,Ue.el,pn)),Ue.didDismiss.emit({data:qe,role:nt}),null===(An=Ue.didDismissShorthand)||void 0===An||An.emit({data:qe,role:nt}),J.delete(Ue),Ue.el.classList.add("overlay-hidden"),Ue.el.style.removeProperty("pointer-events")}catch(Nn){console.error(Nn)}return Ue.el.remove(),!0});return function(qe,nt,Rt,gt,Lt,pn,wn){return Ie.apply(this,arguments)}}(),xe=Ie=>Ie.querySelector("ion-app")||Ie.body,oe=function(){var Ie=(0,u.Z)(function*(Ue,qe,nt,Rt){nt.classList.remove("overlay-hidden");const Lt=qe(Ue.el,Rt);(!Ue.animated||!X.c.getBoolean("animated",!0))&&Lt.duration(0),Ue.keyboardClose&&Lt.beforeAddWrite(()=>{const wn=nt.ownerDocument.activeElement;wn?.matches("input,ion-input, ion-textarea")&&wn.blur()});const pn=J.get(Ue)||[];return J.set(Ue,[...pn,Lt]),yield Lt.play(),!0});return function(qe,nt,Rt,gt){return Ie.apply(this,arguments)}}(),Oe=(Ie,Ue)=>{let qe;const nt=new Promise(Rt=>qe=Rt);return re(Ie,Ue,Rt=>{qe(Rt.detail)}),nt},re=(Ie,Ue,qe)=>{const nt=Rt=>{(0,Be.b)(Ie,Ue,nt),qe(Rt)};(0,Be.a)(Ie,Ue,nt)},be=Ie=>"cancel"===Ie||Ie===ye,me=Ie=>Ie(),Re=(Ie,Ue)=>{if("function"==typeof Ie)return X.c.get("_zoneGate",me)(()=>{try{return Ie(Ue)}catch(nt){throw nt}})},ye="backdrop"},238:(ln,pt,O)=>{"use strict";O.r(pt),O.d(pt,{ContactsPageModule:()=>Ee});var u=O(6895),X=O(4719),W=O(191),Be=O(5181),Ne=O(8186),J=O(4650);const fe=[{path:"",component:Ne.K}];let ve=(()=>{class ie{}return ie.\u0275fac=function(ne){return new(ne||ie)},ie.\u0275mod=J.oAB({type:ie}),ie.\u0275inj=J.cJS({imports:[Be.Bz.forChild(fe),Be.Bz]}),ie})(),Ee=(()=>{class ie{}return ie.\u0275fac=function(ne){return new(ne||ie)},ie.\u0275mod=J.oAB({type:ie}),ie.\u0275inj=J.cJS({imports:[u.ez,X.u5,W.Pc,ve]}),ie})()},8186:(ln,pt,O)=>{"use strict";O.d(pt,{K:()=>Ne});var u=O(4650),X=O(191),W=O(602),Be=O(8394);let Ne=(()=>{class J{constructor(ve,Ee,ie){this.modalCtrl=ve,this.callNumber=Ee,this.emailComposer=ie,this.email={to:"insuremeproject@gmail.com",cc:"",bcc:[],attachments:[],subject:"Request From Agent",body:"",isHtml:!0}}ngOnInit(){}sendEmail(){this.emailComposer.isAvailable().then(ve=>{console.log(ve),ve&&this.emailComposer.open(this.email)})}call(){this.callNumber.callNumber("+918652343177",!0).then(ve=>console.log("Launched dialer!",ve)).catch(ve=>console.log("Error launching dialer",ve))}dismissModal(){this.modalCtrl.dismiss()}}return J.\u0275fac=function(ve){return new(ve||J)(u.Y36(X.IN),u.Y36(W.X),u.Y36(Be.w))},J.\u0275cmp=u.Xpm({type:J,selectors:[["app-contacts"]],decls:20,vars:0,consts:[[1,"header-color"],["slot","end","name","close-outline",3,"click"],[2,"text-align","center"],[3,"click"],["name","call-outline"],["name","mail-outline"]],template:function(ve,Ee){1&ve&&(u.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-icon",1),u.NdJ("click",function(){return Ee.dismissModal()}),u.qZA()()(),u.TgZ(3,"ion-content")(4,"h2"),u._uU(5,"CONTACT GENIEFIN SUPPORT"),u.qZA(),u.TgZ(6,"ion-grid")(7,"ion-row")(8,"ion-col",2)(9,"ion-card",3),u.NdJ("click",function(){return Ee.call()}),u._UZ(10,"ion-icon",4)(11,"br"),u.TgZ(12,"ion-label"),u._uU(13,"Call Us"),u.qZA()()(),u.TgZ(14,"ion-col",2)(15,"ion-card",3),u.NdJ("click",function(){return Ee.sendEmail()}),u._UZ(16,"ion-icon",5)(17,"br"),u.TgZ(18,"ion-label"),u._uU(19,"Email Us"),u.qZA()()()()()())},dependencies:[X.PM,X.wI,X.W2,X.jY,X.Gu,X.gu,X.Q$,X.Nd,X.sr]}),J})()},2567:(ln,pt,O)=>{"use strict";var u=O(1481),X=O(4650),W=O(5181),Be=O(191),Ne=O(5861),J=O(655),fe=O(5419),ve=function(c){function s(){return null!==c&&c.apply(this,arguments)||this}return(0,J.ZT)(s,c),s.prototype.show=function(){return(0,fe.DM)(this,"show",{sync:!0},arguments)},s.prototype.hide=function(){return(0,fe.DM)(this,"hide",{sync:!0},arguments)},s.pluginName="SplashScreen",s.plugin="cordova-plugin-splashscreen",s.pluginRef="navigator.splashscreen",s.repo="https://github.com/apache/cordova-plugin-splashscreen",s.platforms=["Amazon Fire OS","Android","iOS","Windows"],s.\u0275fac=function(){var l;return function(y){return(l||(l=X.n5z(s)))(y||s)}}(),s.\u0275prov=X.Yz7({token:s,factory:function(l){return s.\u0275fac(l)}}),s}(fe.KY),Ee=O(2796),ie=O(353),ae=O(6498),ne=O(1086),pe=O(6787),He=O(4850),Qe=O(2474),Ve=O(7545),ke=O(2014),ze=O(5778),St=O(826),Se=O(448);class bt{constructor(s,l){this.observables=s,this.project=l}call(s,l){return l.subscribe(new Mt(s,this.observables,this.project))}}class Mt extends St.L{constructor(s,l,f){super(s),this.observables=l,this.project=f,this.toRespond=[];const y=l.length;this.values=new Array(y);for(let T=0;T<y;T++)this.toRespond.push(T);for(let T=0;T<y;T++)this.add((0,Se.D)(this,l[T],void 0,T))}notifyNext(s,l,f){this.values[f]=l;const y=this.toRespond;if(y.length>0){const T=y.indexOf(f);-1!==T&&y.splice(T,1)}}notifyComplete(){}_next(s){if(0===this.toRespond.length){const l=[s,...this.values];this.project?this._tryProject(l):this.destination.next(l)}}_tryProject(s){let l;try{l=this.project.apply(this,s)}catch(f){return void this.destination.error(f)}this.destination.next(l)}}var rt=O(3489);class Me{constructor(s){this.predicate=s}call(s,l){return l.subscribe(new Ge(s,this.predicate))}}class Ge extends rt.L{constructor(s,l){super(s),this.predicate=l,this.skipping=!0,this.index=0}_next(s){const l=this.destination;this.skipping&&this.tryCallPredicate(s),this.skipping||l.next(s)}tryCallPredicate(s){try{const l=this.predicate(s,this.index++);this.skipping=Boolean(l)}catch(l){this.destination.error(l)}}}var Ce=O(6351),ce=O(2011),oe=(O(2476),O(3942));const re=function(c,s){if(!c)throw be(s)},be=function(c){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+c)},me=function(c){const s=[];let l=0;for(let f=0;f<c.length;f++){let y=c.charCodeAt(f);y<128?s[l++]=y:y<2048?(s[l++]=y>>6|192,s[l++]=63&y|128):55296==(64512&y)&&f+1<c.length&&56320==(64512&c.charCodeAt(f+1))?(y=65536+((1023&y)<<10)+(1023&c.charCodeAt(++f)),s[l++]=y>>18|240,s[l++]=y>>12&63|128,s[l++]=y>>6&63|128,s[l++]=63&y|128):(s[l++]=y>>12|224,s[l++]=y>>6&63|128,s[l++]=63&y|128)}return s},ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(c,s){if(!Array.isArray(c))throw Error("encodeByteArray takes an array as a parameter");this.init_();const l=s?this.byteToCharMapWebSafe_:this.byteToCharMap_,f=[];for(let y=0;y<c.length;y+=3){const T=c[y],k=y+1<c.length,Q=k?c[y+1]:0,de=y+2<c.length,Fe=de?c[y+2]:0;let Ft=(15&Q)<<2|Fe>>6,an=63&Fe;de||(an=64,k||(Ft=64)),f.push(l[T>>2],l[(3&T)<<4|Q>>4],l[Ft],l[an])}return f.join("")},encodeString(c,s){return this.HAS_NATIVE_SUPPORT&&!s?btoa(c):this.encodeByteArray(me(c),s)},decodeString(c,s){return this.HAS_NATIVE_SUPPORT&&!s?atob(c):function(c){const s=[];let l=0,f=0;for(;l<c.length;){const y=c[l++];if(y<128)s[f++]=String.fromCharCode(y);else if(y>191&&y<224){const T=c[l++];s[f++]=String.fromCharCode((31&y)<<6|63&T)}else if(y>239&&y<365){const de=((7&y)<<18|(63&c[l++])<<12|(63&c[l++])<<6|63&c[l++])-65536;s[f++]=String.fromCharCode(55296+(de>>10)),s[f++]=String.fromCharCode(56320+(1023&de))}else{const T=c[l++],k=c[l++];s[f++]=String.fromCharCode((15&y)<<12|(63&T)<<6|63&k)}}return s.join("")}(this.decodeStringToByteArray(c,s))},decodeStringToByteArray(c,s){this.init_();const l=s?this.charToByteMapWebSafe_:this.charToByteMap_,f=[];for(let y=0;y<c.length;){const T=l[c.charAt(y++)],Q=y<c.length?l[c.charAt(y)]:0;++y;const Fe=y<c.length?l[c.charAt(y)]:64;++y;const vt=y<c.length?l[c.charAt(y)]:64;if(++y,null==T||null==Q||null==Fe||null==vt)throw Error();f.push(T<<2|Q>>4),64!==Fe&&(f.push(Q<<4&240|Fe>>2),64!==vt&&f.push(Fe<<6&192|vt))}return f},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let c=0;c<this.ENCODED_VALS.length;c++)this.byteToCharMap_[c]=this.ENCODED_VALS.charAt(c),this.charToByteMap_[this.byteToCharMap_[c]]=c,this.byteToCharMapWebSafe_[c]=this.ENCODED_VALS_WEBSAFE.charAt(c),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[c]]=c,c>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(c)]=c,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(c)]=c)}}},Ie=function(c){const s=me(c);return ye.encodeByteArray(s,!0)},Ue=function(c){return Ie(c).replace(/\./g,"")},qe=function(c){try{return ye.decodeString(c,!0)}catch(s){console.error("base64Decode failed: ",s)}return null};function nt(c){return Rt(void 0,c)}function Rt(c,s){if(!(s instanceof Object))return s;switch(s.constructor){case Date:return new Date(s.getTime());case Object:void 0===c&&(c={});break;case Array:c=[];break;default:return s}for(const l in s)!s.hasOwnProperty(l)||!gt(l)||(c[l]=Rt(c[l],s[l]));return c}function gt(c){return"__proto__"!==c}class Lt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((s,l)=>{this.resolve=s,this.reject=l})}wrapCallback(s){return(l,f)=>{l?this.reject(l):this.resolve(f),"function"==typeof s&&(this.promise.catch(()=>{}),1===s.length?s(l):s(l,f))}}}function An(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(function wn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}())}function Jn(c){return JSON.parse(c)}function Kn(c){return JSON.stringify(c)}Error;const Ar=function(c){let s={},l={},f={},y="";try{const T=c.split(".");s=Jn(qe(T[0])||""),l=Jn(qe(T[1])||""),y=T[2],f=l.d||{},delete l.d}catch{}return{header:s,claims:l,data:f,signature:y}};function qn(c,s){return Object.prototype.hasOwnProperty.call(c,s)}function ot(c,s){if(Object.prototype.hasOwnProperty.call(c,s))return c[s]}function tt(c){for(const s in c)if(Object.prototype.hasOwnProperty.call(c,s))return!1;return!0}function Ze(c,s,l){const f={};for(const y in c)Object.prototype.hasOwnProperty.call(c,y)&&(f[y]=s.call(l,c[y],y,c));return f}class zn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let s=1;s<this.blockSize;++s)this.pad_[s]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(s,l){l||(l=0);const f=this.W_;if("string"==typeof s)for(let vt=0;vt<16;vt++)f[vt]=s.charCodeAt(l)<<24|s.charCodeAt(l+1)<<16|s.charCodeAt(l+2)<<8|s.charCodeAt(l+3),l+=4;else for(let vt=0;vt<16;vt++)f[vt]=s[l]<<24|s[l+1]<<16|s[l+2]<<8|s[l+3],l+=4;for(let vt=16;vt<80;vt++){const Ft=f[vt-3]^f[vt-8]^f[vt-14]^f[vt-16];f[vt]=4294967295&(Ft<<1|Ft>>>31)}let Fe,wt,y=this.chain_[0],T=this.chain_[1],k=this.chain_[2],Q=this.chain_[3],de=this.chain_[4];for(let vt=0;vt<80;vt++){vt<40?vt<20?(Fe=Q^T&(k^Q),wt=1518500249):(Fe=T^k^Q,wt=1859775393):vt<60?(Fe=T&k|Q&(T|k),wt=2400959708):(Fe=T^k^Q,wt=3395469782);const Ft=(y<<5|y>>>27)+Fe+de+wt+f[vt]&4294967295;de=Q,Q=k,k=4294967295&(T<<30|T>>>2),T=y,y=Ft}this.chain_[0]=this.chain_[0]+y&4294967295,this.chain_[1]=this.chain_[1]+T&4294967295,this.chain_[2]=this.chain_[2]+k&4294967295,this.chain_[3]=this.chain_[3]+Q&4294967295,this.chain_[4]=this.chain_[4]+de&4294967295}update(s,l){if(null==s)return;void 0===l&&(l=s.length);const f=l-this.blockSize;let y=0;const T=this.buf_;let k=this.inbuf_;for(;y<l;){if(0===k)for(;y<=f;)this.compress_(s,y),y+=this.blockSize;if("string"==typeof s){for(;y<l;)if(T[k]=s.charCodeAt(y),++k,++y,k===this.blockSize){this.compress_(T),k=0;break}}else for(;y<l;)if(T[k]=s[y],++k,++y,k===this.blockSize){this.compress_(T),k=0;break}}this.inbuf_=k,this.total_+=l}digest(){const s=[];let l=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let y=this.blockSize-1;y>=56;y--)this.buf_[y]=255&l,l/=256;this.compress_(this.buf_);let f=0;for(let y=0;y<5;y++)for(let T=24;T>=0;T-=8)s[f]=this.chain_[y]>>T&255,++f;return s}}const Dn=function(c,s,l,f){let y;if(f<s?y="at least "+s:f>l&&(y=0===l?"none":"no more than "+l),y)throw new Error(c+" failed: Was called with "+f+(1===f?" argument.":" arguments.")+" Expects "+y+".")};function hr(c,s){return`${c} failed: ${s} argument `}function Ye(c,s,l,f){if((!f||l)&&"function"!=typeof l)throw new Error(hr(c,s)+"must be a valid function.")}function We(c,s,l,f){if((!f||l)&&("object"!=typeof l||null===l))throw new Error(hr(c,s)+"must be a valid context object.")}const It=function(c){let s=0;for(let l=0;l<c.length;l++){const f=c.charCodeAt(l);f<128?s++:f<2048?s+=2:f>=55296&&f<=56319?(s+=4,l++):s+=3}return s};function Yr(c){return c&&c._delegate?c._delegate:c}class qi{constructor(s,l,f){this.name=s,this.instanceFactory=l,this.type=f,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(s){return this.instantiationMode=s,this}setMultipleInstances(s){return this.multipleInstances=s,this}setServiceProps(s){return this.serviceProps=s,this}setInstanceCreatedCallback(s){return this.onInstanceCreated=s,this}}const ei="[DEFAULT]";class mr{constructor(s,l){this.name=s,this.container=l,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(s){const l=this.normalizeInstanceIdentifier(s);if(!this.instancesDeferred.has(l)){const f=new Lt;if(this.instancesDeferred.set(l,f),this.isInitialized(l)||this.shouldAutoInitialize())try{const y=this.getOrInitializeService({instanceIdentifier:l});y&&f.resolve(y)}catch{}}return this.instancesDeferred.get(l).promise}getImmediate(s){var l;const f=this.normalizeInstanceIdentifier(s?.identifier),y=null!==(l=s?.optional)&&void 0!==l&&l;if(!this.isInitialized(f)&&!this.shouldAutoInitialize()){if(y)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:f})}catch(T){if(y)return null;throw T}}getComponent(){return this.component}setComponent(s){if(s.name!==this.name)throw Error(`Mismatching Component ${s.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=s,this.shouldAutoInitialize()){if(function Zi(c){return"EAGER"===c.instantiationMode}(s))try{this.getOrInitializeService({instanceIdentifier:ei})}catch{}for(const[l,f]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(l);try{const T=this.getOrInitializeService({instanceIdentifier:y});f.resolve(T)}catch{}}}}clearInstance(s=ei){this.instancesDeferred.delete(s),this.instancesOptions.delete(s),this.instances.delete(s)}delete(){var s=this;return(0,Ne.Z)(function*(){const l=Array.from(s.instances.values());yield Promise.all([...l.filter(f=>"INTERNAL"in f).map(f=>f.INTERNAL.delete()),...l.filter(f=>"_delete"in f).map(f=>f._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(s=ei){return this.instances.has(s)}getOptions(s=ei){return this.instancesOptions.get(s)||{}}initialize(s={}){const{options:l={}}=s,f=this.normalizeInstanceIdentifier(s.instanceIdentifier);if(this.isInitialized(f))throw Error(`${this.name}(${f}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const y=this.getOrInitializeService({instanceIdentifier:f,options:l});for(const[T,k]of this.instancesDeferred.entries())f===this.normalizeInstanceIdentifier(T)&&k.resolve(y);return y}onInit(s,l){var f;const y=this.normalizeInstanceIdentifier(l),T=null!==(f=this.onInitCallbacks.get(y))&&void 0!==f?f:new Set;T.add(s),this.onInitCallbacks.set(y,T);const k=this.instances.get(y);return k&&s(k,y),()=>{T.delete(s)}}invokeOnInitCallbacks(s,l){const f=this.onInitCallbacks.get(l);if(f)for(const y of f)try{y(s,l)}catch{}}getOrInitializeService({instanceIdentifier:s,options:l={}}){let f=this.instances.get(s);if(!f&&this.component&&(f=this.component.instanceFactory(this.container,{instanceIdentifier:(c=s,c===ei?void 0:c),options:l}),this.instances.set(s,f),this.instancesOptions.set(s,l),this.invokeOnInitCallbacks(f,s),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,s,f)}catch{}var c;return f||null}normalizeInstanceIdentifier(s=ei){return this.component?this.component.multipleInstances?s:ei:s}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class li{constructor(s){this.name=s,this.providers=new Map}addComponent(s){const l=this.getProvider(s.name);if(l.isComponentSet())throw new Error(`Component ${s.name} has already been registered with ${this.name}`);l.setComponent(s)}addOrOverwriteComponent(s){this.getProvider(s.name).isComponentSet()&&this.providers.delete(s.name),this.addComponent(s)}getProvider(s){if(this.providers.has(s))return this.providers.get(s);const l=new mr(s,this);return this.providers.set(s,l),l}getProviders(){return Array.from(this.providers.values())}}var Pr=O(9681);const Ai=[];var Pn=(()=>{return(c=Pn||(Pn={}))[c.DEBUG=0]="DEBUG",c[c.VERBOSE=1]="VERBOSE",c[c.INFO=2]="INFO",c[c.WARN=3]="WARN",c[c.ERROR=4]="ERROR",c[c.SILENT=5]="SILENT",Pn;var c})();const fi={debug:Pn.DEBUG,verbose:Pn.VERBOSE,info:Pn.INFO,warn:Pn.WARN,error:Pn.ERROR,silent:Pn.SILENT},Hi=Pn.INFO,ns={[Pn.DEBUG]:"log",[Pn.VERBOSE]:"log",[Pn.INFO]:"info",[Pn.WARN]:"warn",[Pn.ERROR]:"error"},Ss=(c,s,...l)=>{if(s<c.logLevel)return;const f=(new Date).toISOString(),y=ns[s];if(!y)throw new Error(`Attempted to log a message with an invalid logType (value: ${s})`);console[y](`[${f}]  ${c.name}:`,...l)};class yi{constructor(s){this.name=s,this._logLevel=Hi,this._logHandler=Ss,this._userLogHandler=null,Ai.push(this)}get logLevel(){return this._logLevel}set logLevel(s){if(!(s in Pn))throw new TypeError(`Invalid value "${s}" assigned to \`logLevel\``);this._logLevel=s}setLogLevel(s){this._logLevel="string"==typeof s?fi[s]:s}get logHandler(){return this._logHandler}set logHandler(s){if("function"!=typeof s)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=s}get userLogHandler(){return this._userLogHandler}set userLogHandler(s){this._userLogHandler=s}debug(...s){this._userLogHandler&&this._userLogHandler(this,Pn.DEBUG,...s),this._logHandler(this,Pn.DEBUG,...s)}log(...s){this._userLogHandler&&this._userLogHandler(this,Pn.VERBOSE,...s),this._logHandler(this,Pn.VERBOSE,...s)}info(...s){this._userLogHandler&&this._userLogHandler(this,Pn.INFO,...s),this._logHandler(this,Pn.INFO,...s)}warn(...s){this._userLogHandler&&this._userLogHandler(this,Pn.WARN,...s),this._logHandler(this,Pn.WARN,...s)}error(...s){this._userLogHandler&&this._userLogHandler(this,Pn.ERROR,...s),this._logHandler(this,Pn.ERROR,...s)}}const De="@firebase/database";let ut="";function Pe(c){ut=c}class Ke{constructor(s){this.domStorage_=s,this.prefix_="firebase:"}set(s,l){null==l?this.domStorage_.removeItem(this.prefixedName_(s)):this.domStorage_.setItem(this.prefixedName_(s),Kn(l))}get(s){const l=this.domStorage_.getItem(this.prefixedName_(s));return null==l?null:Jn(l)}remove(s){this.domStorage_.removeItem(this.prefixedName_(s))}prefixedName_(s){return this.prefix_+s}toString(){return this.domStorage_.toString()}}class mt{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(s,l){null==l?delete this.cache_[s]:this.cache_[s]=l}get(s){return qn(this.cache_,s)?this.cache_[s]:null}remove(s){delete this.cache_[s]}}const Gt=function(c){try{if(typeof window<"u"&&typeof window[c]<"u"){const s=window[c];return s.setItem("firebase:sentinel","cache"),s.removeItem("firebase:sentinel"),new Ke(s)}}catch{}return new mt},Ot=Gt("localStorage"),Yt=Gt("sessionStorage"),hn=new yi("@firebase/database"),Bn=function(){let c=1;return function(){return c++}}(),Hn=function(c){const s=function(c){const s=[];let l=0;for(let f=0;f<c.length;f++){let y=c.charCodeAt(f);if(y>=55296&&y<=56319){const T=y-55296;f++,re(f<c.length,"Surrogate pair missing trail surrogate."),y=65536+(T<<10)+(c.charCodeAt(f)-56320)}y<128?s[l++]=y:y<2048?(s[l++]=y>>6|192,s[l++]=63&y|128):y<65536?(s[l++]=y>>12|224,s[l++]=y>>6&63|128,s[l++]=63&y|128):(s[l++]=y>>18|240,s[l++]=y>>12&63|128,s[l++]=y>>6&63|128,s[l++]=63&y|128)}return s}(c),l=new zn;l.update(s);const f=l.digest();return ye.encodeByteArray(f)},Or=function(...c){let s="";for(let l=0;l<c.length;l++){const f=c[l];Array.isArray(f)||f&&"object"==typeof f&&"number"==typeof f.length?s+=Or.apply(null,f):s+="object"==typeof f?Kn(f):f,s+=" "}return s};let Zn=null,ct=!0;const at=function(c,s){re(!s||!0===c||!1===c,"Can't turn on custom loggers persistently."),!0===c?(hn.logLevel=Pn.VERBOSE,Zn=hn.log.bind(hn),s&&Yt.set("logging_enabled",!0)):"function"==typeof c?Zn=c:(Zn=null,Yt.remove("logging_enabled"))},yt=function(...c){if(!0===ct&&(ct=!1,null===Zn&&!0===Yt.get("logging_enabled")&&at(!0)),Zn){const s=Or.apply(null,c);Zn(s)}},jt=function(c){return function(...s){yt(c,...s)}},on=function(...c){const s="FIREBASE INTERNAL ERROR: "+Or(...c);hn.error(s)},mn=function(...c){const s=`FIREBASE FATAL ERROR: ${Or(...c)}`;throw hn.error(s),new Error(s)},kn=function(...c){const s="FIREBASE WARNING: "+Or(...c);hn.warn(s)},Dr=function(c){return"number"==typeof c&&(c!=c||c===Number.POSITIVE_INFINITY||c===Number.NEGATIVE_INFINITY)},ji="[MIN_NAME]",Gi="[MAX_NAME]",bi=function(c,s){if(c===s)return 0;if(c===ji||s===Gi)return-1;if(s===ji||c===Gi)return 1;{const l=Qi(c),f=Qi(s);return null!==l?null!==f?l-f==0?c.length-s.length:l-f:-1:null!==f?1:c<s?-1:1}},As=function(c,s){return c===s?0:c<s?-1:1},go=function(c,s){if(s&&c in s)return s[c];throw new Error("Missing required key ("+c+") in object: "+Kn(s))},Bs=function(c){if("object"!=typeof c||null===c)return Kn(c);const s=[];for(const f in c)s.push(f);s.sort();let l="{";for(let f=0;f<s.length;f++)0!==f&&(l+=","),l+=Kn(s[f]),l+=":",l+=Bs(c[s[f]]);return l+="}",l},Bo=function(c,s){const l=c.length;if(l<=s)return[c];const f=[];for(let y=0;y<l;y+=s)f.push(c.substring(y,y+s>l?l:y+s));return f};function Kr(c,s){for(const l in c)c.hasOwnProperty(l)&&s(l,c[l])}const xs=function(c){re(!Dr(c),"Invalid JSON number");const f=1023;let y,T,k,Q,de;0===c?(T=0,k=0,y=1/c==-1/0?1:0):(y=c<0,(c=Math.abs(c))>=Math.pow(2,1-f)?(Q=Math.min(Math.floor(Math.log(c)/Math.LN2),f),T=Q+f,k=Math.round(c*Math.pow(2,52-Q)-Math.pow(2,52))):(T=0,k=Math.round(c/Math.pow(2,-1074))));const Fe=[];for(de=52;de;de-=1)Fe.push(k%2?1:0),k=Math.floor(k/2);for(de=11;de;de-=1)Fe.push(T%2?1:0),T=Math.floor(T/2);Fe.push(y?1:0),Fe.reverse();const wt=Fe.join("");let vt="";for(de=0;de<64;de+=8){let Ft=parseInt(wt.substr(de,8),2).toString(16);1===Ft.length&&(Ft="0"+Ft),vt+=Ft}return vt.toLowerCase()},Ms=new RegExp("^-?(0*)\\d{1,10}$"),Rs=-2147483648,Mi=2147483647,Qi=function(c){if(Ms.test(c)){const s=Number(c);if(s>=Rs&&s<=Mi)return s}return null},ui=function(c){try{c()}catch(s){setTimeout(()=>{throw kn("Exception was thrown by user callback.",s.stack||""),s},Math.floor(0))}},Fi=function(c,s){const l=setTimeout(c,s);return"number"==typeof l&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(l):"object"==typeof l&&l.unref&&l.unref(),l};class zi{constructor(s,l){this.appName_=s,this.appCheckProvider=l,this.appCheck=l?.getImmediate({optional:!0}),this.appCheck||l?.get().then(f=>this.appCheck=f)}getToken(s){return this.appCheck?this.appCheck.getToken(s):new Promise((l,f)=>{setTimeout(()=>{this.appCheck?this.getToken(s).then(l,f):l(null)},0)})}addTokenChangeListener(s){var l;null===(l=this.appCheckProvider)||void 0===l||l.get().then(f=>f.addTokenListener(s))}notifyForInvalidToken(){kn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class ra{constructor(s,l,f){this.appName_=s,this.firebaseOptions_=l,this.authProvider_=f,this.auth_=null,this.auth_=f.getImmediate({optional:!0}),this.auth_||f.onInit(y=>this.auth_=y)}getToken(s){return this.auth_?this.auth_.getToken(s).catch(l=>l&&"auth/token-not-initialized"===l.code?(yt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(l)):new Promise((l,f)=>{setTimeout(()=>{this.auth_?this.getToken(s).then(l,f):l(null)},0)})}addTokenChangeListener(s){this.auth_?this.auth_.addAuthTokenListener(s):this.authProvider_.get().then(l=>l.addAuthTokenListener(s))}removeTokenChangeListener(s){this.authProvider_.get().then(l=>l.removeAuthTokenListener(s))}notifyForInvalidToken(){let s='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';s+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',kn(s)}}let Li=(()=>{class c{constructor(l){this.accessToken=l}getToken(l){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(l){l(this.accessToken)}removeTokenChangeListener(l){}notifyForInvalidToken(){}}return c.OWNER="owner",c})();const Xi=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,gs="websocket",Nr="long_polling";class ss{constructor(s,l,f,y,T=!1,k="",Q=!1){this.secure=l,this.namespace=f,this.webSocketOnly=y,this.nodeAdmin=T,this.persistenceKey=k,this.includeNamespaceInQueryParams=Q,this._host=s.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ot.get("host:"+s)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(s){s!==this.internalHost&&(this.internalHost=s,this.isCacheableHost()&&Ot.set("host:"+this._host,this.internalHost))}toString(){let s=this.toURLString();return this.persistenceKey&&(s+="<"+this.persistenceKey+">"),s}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Vo(c,s,l){let f;if(re("string"==typeof s,"typeof type must == string"),re("object"==typeof l,"typeof params must == object"),s===gs)f=(c.secure?"wss://":"ws://")+c.internalHost+"/.ws?";else{if(s!==Nr)throw new Error("Unknown connection type: "+s);f=(c.secure?"https://":"http://")+c.internalHost+"/.lp?"}(function Xs(c){return c.host!==c.internalHost||c.isCustomHost()||c.includeNamespaceInQueryParams})(c)&&(l.ns=c.namespace);const y=[];return Kr(l,(T,k)=>{y.push(T+"="+k)}),f+y.join("&")}class Os{constructor(){this.counters_={}}incrementCounter(s,l=1){qn(this.counters_,s)||(this.counters_[s]=0),this.counters_[s]+=l}get(){return nt(this.counters_)}}const $o={},Hr={};function Vn(c){const s=c.toString();return $o[s]||($o[s]=new Os),$o[s]}class Sa{constructor(s){this.onMessage_=s,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(s,l){this.closeAfterResponse=s,this.onClose=l,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(s,l){for(this.pendingResponses[s]=l;this.pendingResponses[this.currentResponseNum];){const f=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let y=0;y<f.length;++y)f[y]&&ui(()=>{this.onMessage_(f[y])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class N{constructor(s,l,f,y,T,k,Q){this.connId=s,this.repoInfo=l,this.applicationId=f,this.appCheckToken=y,this.authToken=T,this.transportSessionId=k,this.lastSessionId=Q,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=jt(s),this.stats_=Vn(l),this.urlFn=de=>(this.appCheckToken&&(de.ac=this.appCheckToken),Vo(l,Nr,de))}open(s,l){this.curSegmentNum=0,this.onDisconnect_=l,this.myPacketOrderer=new Sa(s),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(c){if("complete"===document.readyState)c();else{let s=!1;const l=function(){document.body?s||(s=!0,c()):setTimeout(l,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",l,!1),window.addEventListener("load",l,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&l()}),window.attachEvent("onload",l))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new se((...T)=>{const[k,Q,de,Fe,wt]=T;if(this.incrementIncomingBytes_(T),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===k)this.id=Q,this.password=de;else{if("close"!==k)throw new Error("Unrecognized command received: "+k);Q?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(Q,()=>{this.onClosed_()})):this.onClosed_()}},(...T)=>{const[k,Q]=T;this.incrementIncomingBytes_(T),this.myPacketOrderer.handleResponse(k,Q)},()=>{this.onClosed_()},this.urlFn);const f={start:"t"};f.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(f.cb=this.scriptTagHolder.uniqueCallbackIdentifier),f.v="5",this.transportSessionId&&(f.s=this.transportSessionId),this.lastSessionId&&(f.ls=this.lastSessionId),this.applicationId&&(f.p=this.applicationId),this.appCheckToken&&(f.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Xi.test(location.hostname)&&(f.r="f");const y=this.urlFn(f);this.log_("Connecting via long-poll to "+y),this.scriptTagHolder.addTag(y,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){N.forceAllow_=!0}static forceDisallow(){N.forceDisallow_=!0}static isAvailable(){return!(!N.forceAllow_&&(N.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(s){const l=Kn(s);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const f=Ie(l),y=Bo(f,1840);for(let T=0;T<y.length;T++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,y.length,y[T]),this.curSegmentNum++}addDisconnectPingFrame(s,l){this.myDisconnFrame=document.createElement("iframe");const f={dframe:"t"};f.id=s,f.pw=l,this.myDisconnFrame.src=this.urlFn(f),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(s){const l=Kn(s).length;this.bytesReceived+=l,this.stats_.incrementCounter("bytes_received",l)}}class se{constructor(s,l,f,y){this.onDisconnect=f,this.urlFn=y,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Bn(),window["pLPCommand"+this.uniqueCallbackIdentifier]=s,window["pRTLPCB"+this.uniqueCallbackIdentifier]=l,this.myIFrame=se.createIFrame_();let T="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(T='<script>document.domain="'+document.domain+'";<\/script>');const k="<html><body>"+T+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(k),this.myIFrame.doc.close()}catch(Q){yt("frame writing exception"),Q.stack&&yt(Q.stack),yt(Q)}}}static createIFrame_(){const s=document.createElement("iframe");if(s.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(s);try{s.contentWindow.document||yt("No IE domain setting required")}catch{const f=document.domain;s.src="javascript:void((function(){document.open();document.domain='"+f+"';document.close();})())"}return s.contentDocument?s.doc=s.contentDocument:s.contentWindow?s.doc=s.contentWindow.document:s.document&&(s.doc=s.document),s}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const s=this.onDisconnect;s&&(this.onDisconnect=null,s())}startLongPoll(s,l){for(this.myID=s,this.myPW=l,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const s={};s.id=this.myID,s.pw=this.myPW,s.ser=this.currentSerial;let l=this.urlFn(s),f="",y=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+f.length<=1870;){const k=this.pendingSegs.shift();f=f+"&seg"+y+"="+k.seg+"&ts"+y+"="+k.ts+"&d"+y+"="+k.d,y++}return l+=f,this.addLongPollTag_(l,this.currentSerial),!0}return!1}enqueueSegment(s,l,f){this.pendingSegs.push({seg:s,ts:l,d:f}),this.alive&&this.newRequest_()}addLongPollTag_(s,l){this.outstandingRequests.add(l);const f=()=>{this.outstandingRequests.delete(l),this.newRequest_()},y=setTimeout(f,Math.floor(25e3));this.addTag(s,()=>{clearTimeout(y),f()})}addTag(s,l){setTimeout(()=>{try{if(!this.sendNewPolls)return;const f=this.myIFrame.doc.createElement("script");f.type="text/javascript",f.async=!0,f.src=s,f.onload=f.onreadystatechange=function(){const y=f.readyState;(!y||"loaded"===y||"complete"===y)&&(f.onload=f.onreadystatechange=null,f.parentNode&&f.parentNode.removeChild(f),l())},f.onerror=()=>{yt("Long-poll script failed to load: "+s),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(f)}catch{}},Math.floor(1))}}let Wn=null;typeof MozWebSocket<"u"?Wn=MozWebSocket:typeof WebSocket<"u"&&(Wn=WebSocket);let qr=(()=>{class c{constructor(l,f,y,T,k,Q,de){this.connId=l,this.applicationId=y,this.appCheckToken=T,this.authToken=k,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=jt(this.connId),this.stats_=Vn(f),this.connURL=c.connectionURL_(f,Q,de,T,y),this.nodeAdmin=f.nodeAdmin}static connectionURL_(l,f,y,T,k){const Q={v:"5"};return typeof location<"u"&&location.hostname&&Xi.test(location.hostname)&&(Q.r="f"),f&&(Q.s=f),y&&(Q.ls=y),T&&(Q.ac=T),k&&(Q.p=k),Vo(l,gs,Q)}open(l,f){this.onDisconnect=f,this.onMessage=l,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ot.set("previous_websocket_failure",!0);try{let y;0,this.mySock=new Wn(this.connURL,[],y)}catch(y){this.log_("Error instantiating WebSocket.");const T=y.message||y.data;return T&&this.log_(T),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=y=>{this.handleIncomingFrame(y)},this.mySock.onerror=y=>{this.log_("WebSocket error.  Closing connection.");const T=y.message||y.data;T&&this.log_(T),this.onClosed_()}}start(){}static forceDisallow(){c.forceDisallow_=!0}static isAvailable(){let l=!1;if(typeof navigator<"u"&&navigator.userAgent){const y=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);y&&y.length>1&&parseFloat(y[1])<4.4&&(l=!0)}return!l&&null!==Wn&&!c.forceDisallow_}static previouslyFailed(){return Ot.isInMemoryStorage||!0===Ot.get("previous_websocket_failure")}markConnectionHealthy(){Ot.remove("previous_websocket_failure")}appendFrame_(l){if(this.frames.push(l),this.frames.length===this.totalFrames){const f=this.frames.join("");this.frames=null;const y=Jn(f);this.onMessage(y)}}handleNewFrameCount_(l){this.totalFrames=l,this.frames=[]}extractFrameCount_(l){if(re(null===this.frames,"We already have a frame buffer"),l.length<=6){const f=Number(l);if(!isNaN(f))return this.handleNewFrameCount_(f),null}return this.handleNewFrameCount_(1),l}handleIncomingFrame(l){if(null===this.mySock)return;const f=l.data;if(this.bytesReceived+=f.length,this.stats_.incrementCounter("bytes_received",f.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(f);else{const y=this.extractFrameCount_(f);null!==y&&this.appendFrame_(y)}}send(l){this.resetKeepAlive();const f=Kn(l);this.bytesSent+=f.length,this.stats_.incrementCounter("bytes_sent",f.length);const y=Bo(f,16384);y.length>1&&this.sendString_(String(y.length));for(let T=0;T<y.length;T++)this.sendString_(y[T])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(l){try{this.mySock.send(l)}catch(f){this.log_("Exception thrown from WebSocket.send():",f.message||f.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return c.responsesRequiredToBeHealthy=2,c.healthyTimeout=3e4,c})(),vi=(()=>{class c{constructor(l){this.initTransports_(l)}static get ALL_TRANSPORTS(){return[N,qr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(l){const f=qr&&qr.isAvailable();let y=f&&!qr.previouslyFailed();if(l.webSocketOnly&&(f||kn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),y=!0),y)this.transports_=[qr];else{const T=this.transports_=[];for(const k of c.ALL_TRANSPORTS)k&&k.isAvailable()&&T.push(k);c.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return c.globalTransportInitialized_=!1,c})();class aa{constructor(s,l,f,y,T,k,Q,de,Fe,wt){this.id=s,this.repoInfo_=l,this.applicationId_=f,this.appCheckToken_=y,this.authToken_=T,this.onMessage_=k,this.onReady_=Q,this.onDisconnect_=de,this.onKill_=Fe,this.lastSessionId=wt,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=jt("c:"+this.id+":"),this.transportManager_=new vi(l),this.log_("Connection created"),this.start_()}start_(){const s=this.transportManager_.initialTransport();this.conn_=new s(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=s.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.conn_),f=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(l,f)},Math.floor(0));const y=s.healthyTimeout||0;y>0&&(this.healthyTimeout_=Fi(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(y)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(s){return l=>{s===this.conn_?this.onConnectionLost_(l):s===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(s){return l=>{2!==this.state_&&(s===this.rx_?this.onPrimaryMessageReceived_(l):s===this.secondaryConn_?this.onSecondaryMessageReceived_(l):this.log_("message on old connection"))}}sendRequest(s){this.sendData_({t:"d",d:s})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(s){if("t"in s){const l=s.t;"a"===l?this.upgradeIfSecondaryHealthy_():"r"===l?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===l&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(s){const l=go("t",s),f=go("d",s);if("c"===l)this.onSecondaryControl_(f);else{if("d"!==l)throw new Error("Unknown protocol layer: "+l);this.pendingDataMessages.push(f)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(s){const l=go("t",s),f=go("d",s);"c"===l?this.onControl_(f):"d"===l&&this.onDataMessage_(f)}onDataMessage_(s){this.onPrimaryResponse_(),this.onMessage_(s)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(s){const l=go("t",s);if("d"in s){const f=s.d;if("h"===l)this.onHandshake_(f);else if("n"===l){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let y=0;y<this.pendingDataMessages.length;++y)this.onDataMessage_(this.pendingDataMessages[y]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===l?this.onConnectionShutdown_(f):"r"===l?this.onReset_(f):"e"===l?on("Server Error: "+f):"o"===l?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):on("Unknown control packet command: "+l)}}onHandshake_(s){const l=s.ts,f=s.v,y=s.h;this.sessionId=s.s,this.repoInfo_.host=y,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,l),"5"!==f&&kn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const s=this.transportManager_.upgradeTransport();s&&this.startUpgrade_(s)}startUpgrade_(s){this.secondaryConn_=new s(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=s.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.secondaryConn_),f=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(l,f),Fi(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(s){this.log_("Reset packet received.  New host: "+s),this.repoInfo_.host=s,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(s,l){this.log_("Realtime connection established."),this.conn_=s,this.state_=1,this.onReady_&&(this.onReady_(l,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Fi(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const s=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===s||this.rx_===s)&&this.close()}onConnectionLost_(s){this.conn_=null,s||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ot.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(s){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(s),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(s){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(s)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class B{put(s,l,f,y){}merge(s,l,f,y){}refreshAuthToken(s){}refreshAppCheckToken(s){}onDisconnectPut(s,l,f){}onDisconnectMerge(s,l,f){}onDisconnectCancel(s,l){}reportStats(s){}}class ee{constructor(s){this.allowedEvents_=s,this.listeners_={},re(Array.isArray(s)&&s.length>0,"Requires a non-empty array")}trigger(s,...l){if(Array.isArray(this.listeners_[s])){const f=[...this.listeners_[s]];for(let y=0;y<f.length;y++)f[y].callback.apply(f[y].context,l)}}on(s,l,f){this.validateEventType_(s),this.listeners_[s]=this.listeners_[s]||[],this.listeners_[s].push({callback:l,context:f});const y=this.getInitialEvent(s);y&&l.apply(f,y)}off(s,l,f){this.validateEventType_(s);const y=this.listeners_[s]||[];for(let T=0;T<y.length;T++)if(y[T].callback===l&&(!f||f===y[T].context))return void y.splice(T,1)}validateEventType_(s){re(this.allowedEvents_.find(l=>l===s),"Unknown event: "+s)}}class U extends ee{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!An()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new U}getInitialEvent(s){return re("online"===s,"Unknown event type: "+s),[this.online_]}currentlyOnline(){return this.online_}}class Et{constructor(s,l){if(void 0===l){this.pieces_=s.split("/");let f=0;for(let y=0;y<this.pieces_.length;y++)this.pieces_[y].length>0&&(this.pieces_[f]=this.pieces_[y],f++);this.pieces_.length=f,this.pieceNum_=0}else this.pieces_=s,this.pieceNum_=l}toString(){let s="";for(let l=this.pieceNum_;l<this.pieces_.length;l++)""!==this.pieces_[l]&&(s+="/"+this.pieces_[l]);return s||"/"}}function At(){return new Et("")}function Jt(c){return c.pieceNum_>=c.pieces_.length?null:c.pieces_[c.pieceNum_]}function xr(c){return c.pieces_.length-c.pieceNum_}function Qn(c){let s=c.pieceNum_;return s<c.pieces_.length&&s++,new Et(c.pieces_,s)}function jr(c){return c.pieceNum_<c.pieces_.length?c.pieces_[c.pieces_.length-1]:null}function Ri(c,s=0){return c.pieces_.slice(c.pieceNum_+s)}function ni(c){if(c.pieceNum_>=c.pieces_.length)return null;const s=[];for(let l=c.pieceNum_;l<c.pieces_.length-1;l++)s.push(c.pieces_[l]);return new Et(s,0)}function gr(c,s){const l=[];for(let f=c.pieceNum_;f<c.pieces_.length;f++)l.push(c.pieces_[f]);if(s instanceof Et)for(let f=s.pieceNum_;f<s.pieces_.length;f++)l.push(s.pieces_[f]);else{const f=s.split("/");for(let y=0;y<f.length;y++)f[y].length>0&&l.push(f[y])}return new Et(l,0)}function fr(c){return c.pieceNum_>=c.pieces_.length}function ai(c,s){const l=Jt(c),f=Jt(s);if(null===l)return s;if(l===f)return ai(Qn(c),Qn(s));throw new Error("INTERNAL ERROR: innerPath ("+s+") is not within outerPath ("+c+")")}function wo(c,s){const l=Ri(c,0),f=Ri(s,0);for(let y=0;y<l.length&&y<f.length;y++){const T=bi(l[y],f[y]);if(0!==T)return T}return l.length===f.length?0:l.length<f.length?-1:1}function to(c,s){if(xr(c)!==xr(s))return!1;for(let l=c.pieceNum_,f=s.pieceNum_;l<=c.pieces_.length;l++,f++)if(c.pieces_[l]!==s.pieces_[f])return!1;return!0}function Bi(c,s){let l=c.pieceNum_,f=s.pieceNum_;if(xr(c)>xr(s))return!1;for(;l<c.pieces_.length;){if(c.pieces_[l]!==s.pieces_[f])return!1;++l,++f}return!0}class Eo{constructor(s,l){this.errorPrefix_=l,this.parts_=Ri(s,0),this.byteLength_=Math.max(1,this.parts_.length);for(let f=0;f<this.parts_.length;f++)this.byteLength_+=It(this.parts_[f]);Wi(this)}}function Wi(c){if(c.byteLength_>768)throw new Error(c.errorPrefix_+"has a key path longer than 768 bytes ("+c.byteLength_+").");if(c.parts_.length>32)throw new Error(c.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+no(c))}function no(c){return 0===c.parts_.length?"":"in property '"+c.parts_.join(".")+"'"}class ga extends ee{constructor(){let s,l;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(l="visibilitychange",s="hidden"):typeof document.mozHidden<"u"?(l="mozvisibilitychange",s="mozHidden"):typeof document.msHidden<"u"?(l="msvisibilitychange",s="msHidden"):typeof document.webkitHidden<"u"&&(l="webkitvisibilitychange",s="webkitHidden")),this.visible_=!0,l&&document.addEventListener(l,()=>{const f=!document[s];f!==this.visible_&&(this.visible_=f,this.trigger("visible",f))},!1)}static getInstance(){return new ga}getInitialEvent(s){return re("visible"===s,"Unknown event type: "+s),[this.visible_]}}const kl=1e3;let Yi,Go=(()=>{class c extends B{constructor(l,f,y,T,k,Q,de,Fe){if(super(),this.repoInfo_=l,this.applicationId_=f,this.onDataUpdate_=y,this.onConnectStatus_=T,this.onServerInfoUpdate_=k,this.authTokenProvider_=Q,this.appCheckTokenProvider_=de,this.authOverride_=Fe,this.id=c.nextPersistentConnectionId_++,this.log_=jt("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=kl,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,Fe)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ga.getInstance().on("visible",this.onVisible_,this),-1===l.host.indexOf("fblocal")&&U.getInstance().on("online",this.onOnline_,this)}sendRequest(l,f,y){const T=++this.requestNumber_,k={r:T,a:l,b:f};this.log_(Kn(k)),re(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(k),y&&(this.requestCBHash_[T]=y)}get(l){this.initConnection_();const f=new Lt,y={p:l._path.toString(),q:l._queryObject};return this.outstandingGets_.push({action:"g",request:y,onComplete:Q=>{const de=Q.d;"ok"===Q.s?f.resolve(de):f.reject(de)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),f.promise}listen(l,f,y,T){this.initConnection_();const k=l._queryIdentifier,Q=l._path.toString();this.log_("Listen called for "+Q+" "+k),this.listens.has(Q)||this.listens.set(Q,new Map),re(l._queryParams.isDefault()||!l._queryParams.loadsAllData(),"listen() called for non-default but complete query"),re(!this.listens.get(Q).has(k),"listen() called twice for same path/queryId.");const de={onComplete:T,hashFn:f,query:l,tag:y};this.listens.get(Q).set(k,de),this.connected_&&this.sendListen_(de)}sendGet_(l){const f=this.outstandingGets_[l];this.sendRequest("g",f.request,y=>{delete this.outstandingGets_[l],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),f.onComplete&&f.onComplete(y)})}sendListen_(l){const f=l.query,y=f._path.toString(),T=f._queryIdentifier;this.log_("Listen on "+y+" for "+T);const k={p:y};l.tag&&(k.q=f._queryObject,k.t=l.tag),k.h=l.hashFn(),this.sendRequest("q",k,de=>{const Fe=de.d,wt=de.s;c.warnOnListenWarnings_(Fe,f),(this.listens.get(y)&&this.listens.get(y).get(T))===l&&(this.log_("listen response",de),"ok"!==wt&&this.removeListen_(y,T),l.onComplete&&l.onComplete(wt,Fe))})}static warnOnListenWarnings_(l,f){if(l&&"object"==typeof l&&qn(l,"w")){const y=ot(l,"w");if(Array.isArray(y)&&~y.indexOf("no_index")){const T='".indexOn": "'+f._queryParams.getIndex().toString()+'"',k=f._path.toString();kn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${T} at ${k} to your security rules for better performance.`)}}}refreshAuthToken(l){this.authToken_=l,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(l)}reduceReconnectDelayIfAdminCredential_(l){(l&&40===l.length||function(c){const s=Ar(c).claims;return"object"==typeof s&&!0===s.admin}(l))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(l){this.appCheckToken_=l,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const l=this.authToken_,f=function(c){const l=Ar(c).claims;return!!l&&"object"==typeof l&&l.hasOwnProperty("iat")}(l)?"auth":"gauth",y={cred:l};null===this.authOverride_?y.noauth=!0:"object"==typeof this.authOverride_&&(y.authvar=this.authOverride_),this.sendRequest(f,y,T=>{const k=T.s,Q=T.d||"error";this.authToken_===l&&("ok"===k?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(k,Q))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},l=>{const f=l.s,y=l.d||"error";"ok"===f?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(f,y)})}unlisten(l,f){const y=l._path.toString(),T=l._queryIdentifier;this.log_("Unlisten called for "+y+" "+T),re(l._queryParams.isDefault()||!l._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(y,T)&&this.connected_&&this.sendUnlisten_(y,T,l._queryObject,f)}sendUnlisten_(l,f,y,T){this.log_("Unlisten on "+l+" for "+f);const k={p:l};T&&(k.q=y,k.t=T),this.sendRequest("n",k)}onDisconnectPut(l,f,y){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",l,f,y):this.onDisconnectRequestQueue_.push({pathString:l,action:"o",data:f,onComplete:y})}onDisconnectMerge(l,f,y){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",l,f,y):this.onDisconnectRequestQueue_.push({pathString:l,action:"om",data:f,onComplete:y})}onDisconnectCancel(l,f){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",l,null,f):this.onDisconnectRequestQueue_.push({pathString:l,action:"oc",data:null,onComplete:f})}sendOnDisconnect_(l,f,y,T){const k={p:f,d:y};this.log_("onDisconnect "+l,k),this.sendRequest(l,k,Q=>{T&&setTimeout(()=>{T(Q.s,Q.d)},Math.floor(0))})}put(l,f,y,T){this.putInternal("p",l,f,y,T)}merge(l,f,y,T){this.putInternal("m",l,f,y,T)}putInternal(l,f,y,T,k){this.initConnection_();const Q={p:f,d:y};void 0!==k&&(Q.h=k),this.outstandingPuts_.push({action:l,request:Q,onComplete:T}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+f)}sendPut_(l){const f=this.outstandingPuts_[l].action,y=this.outstandingPuts_[l].request,T=this.outstandingPuts_[l].onComplete;this.outstandingPuts_[l].queued=this.connected_,this.sendRequest(f,y,k=>{this.log_(f+" response",k),delete this.outstandingPuts_[l],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),T&&T(k.s,k.d)})}reportStats(l){if(this.connected_){const f={c:l};this.log_("reportStats",f),this.sendRequest("s",f,y=>{"ok"!==y.s&&this.log_("reportStats","Error sending stats: "+y.d)})}}onDataMessage_(l){if("r"in l){this.log_("from server: "+Kn(l));const f=l.r,y=this.requestCBHash_[f];y&&(delete this.requestCBHash_[f],y(l.b))}else{if("error"in l)throw"A server-side error has occurred: "+l.error;"a"in l&&this.onDataPush_(l.a,l.b)}}onDataPush_(l,f){this.log_("handleServerMessage",l,f),"d"===l?this.onDataUpdate_(f.p,f.d,!1,f.t):"m"===l?this.onDataUpdate_(f.p,f.d,!0,f.t):"c"===l?this.onListenRevoked_(f.p,f.q):"ac"===l?this.onAuthRevoked_(f.s,f.d):"apc"===l?this.onAppCheckRevoked_(f.s,f.d):"sd"===l?this.onSecurityDebugPacket_(f):on("Unrecognized action received from server: "+Kn(l)+"\nAre you using the latest client?")}onReady_(l,f){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(l),this.lastSessionId=f,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(l){re(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(l))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(l){l&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=kl,this.realtime_||this.scheduleConnect_(0)),this.visible_=l}onOnline_(l){l?(this.log_("Browser went online."),this.reconnectDelay_=kl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=kl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const l=(new Date).getTime()-this.lastConnectionAttemptTime_;let f=Math.max(0,this.reconnectDelay_-l);f=Math.random()*f,this.log_("Trying to reconnect in "+f+"ms"),this.scheduleConnect_(f),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var l=this;return(0,Ne.Z)(function*(){if(l.shouldReconnect_()){l.log_("Making a connection attempt"),l.lastConnectionAttemptTime_=(new Date).getTime(),l.lastConnectionEstablishedTime_=null;const f=l.onDataMessage_.bind(l),y=l.onReady_.bind(l),T=l.onRealtimeDisconnect_.bind(l),k=l.id+":"+c.nextConnectionId_++,Q=l.lastSessionId;let de=!1,Fe=null;const wt=function(){Fe?Fe.close():(de=!0,T())};l.realtime_={close:wt,sendRequest:function(an){re(Fe,"sendRequest call when we're not connected not allowed."),Fe.sendRequest(an)}};const Ft=l.forceTokenRefresh_;l.forceTokenRefresh_=!1;try{const[an,Sn]=yield Promise.all([l.authTokenProvider_.getToken(Ft),l.appCheckTokenProvider_.getToken(Ft)]);de?yt("getToken() completed but was canceled"):(yt("getToken() completed. Creating connection."),l.authToken_=an&&an.accessToken,l.appCheckToken_=Sn&&Sn.token,Fe=new aa(k,l.repoInfo_,l.applicationId_,l.appCheckToken_,l.authToken_,f,y,T,Br=>{kn(Br+" ("+l.repoInfo_.toString()+")"),l.interrupt("server_kill")},Q))}catch(an){l.log_("Failed to get token: "+an),de||(l.repoInfo_.nodeAdmin&&kn(an),wt())}}})()}interrupt(l){yt("Interrupting connection for reason: "+l),this.interruptReasons_[l]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(l){yt("Resuming connection for reason: "+l),delete this.interruptReasons_[l],tt(this.interruptReasons_)&&(this.reconnectDelay_=kl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(l){const f=l-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:f})}cancelSentTransactions_(){for(let l=0;l<this.outstandingPuts_.length;l++){const f=this.outstandingPuts_[l];f&&"h"in f.request&&f.queued&&(f.onComplete&&f.onComplete("disconnect"),delete this.outstandingPuts_[l],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(l,f){let y;y=f?f.map(k=>Bs(k)).join("$"):"default";const T=this.removeListen_(l,y);T&&T.onComplete&&T.onComplete("permission_denied")}removeListen_(l,f){const y=new Et(l).toString();let T;if(this.listens.has(y)){const k=this.listens.get(y);T=k.get(f),k.delete(f),0===k.size&&this.listens.delete(y)}else T=void 0;return T}onAuthRevoked_(l,f){yt("Auth token revoked: "+l+"/"+f),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===l||"permission_denied"===l)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(l,f){yt("App check token revoked: "+l+"/"+f),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===l||"permission_denied"===l)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(l){this.securityDebugCallback_?this.securityDebugCallback_(l):"msg"in l&&console.log("FIREBASE: "+l.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const l of this.listens.values())for(const f of l.values())this.sendListen_(f);for(let l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){const l=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(l.action,l.pathString,l.data,l.onComplete)}for(let l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)}sendConnectStats_(){const l={};let f="js";l["sdk."+f+"."+ut.replace(/\./g,"-")]=1,An()?l["framework.cordova"]=1:function zr(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()&&(l["framework.reactnative"]=1),this.reportStats(l)}shouldReconnect_(){const l=U.getInstance().currentlyOnline();return tt(this.interruptReasons_)&&l}}return c.nextPersistentConnectionId_=0,c.nextConnectionId_=0,c})();class Gr{constructor(s,l){this.name=s,this.node=l}static Wrap(s,l){return new Gr(s,l)}}class as{getCompare(){return this.compare.bind(this)}indexedValueChanged(s,l){const f=new Gr(ji,s),y=new Gr(ji,l);return 0!==this.compare(f,y)}minPost(){return Gr.MIN}}class zo extends as{static get __EMPTY_NODE(){return Yi}static set __EMPTY_NODE(s){Yi=s}compare(s,l){return bi(s.name,l.name)}isDefinedOn(s){throw be("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(s,l){return!1}minPost(){return Gr.MIN}maxPost(){return new Gr(Gi,Yi)}makePost(s,l){return re("string"==typeof s,"KeyIndex indexValue must always be a string."),new Gr(s,Yi)}toString(){return".key"}}const Pi=new zo;class Wo{constructor(s,l,f,y,T=null){this.isReverse_=y,this.resultGenerator_=T,this.nodeStack_=[];let k=1;for(;!s.isEmpty();)if(k=l?f(s.key,l):1,y&&(k*=-1),k<0)s=this.isReverse_?s.left:s.right;else{if(0===k){this.nodeStack_.push(s);break}this.nodeStack_.push(s),s=this.isReverse_?s.right:s.left}}getNext(){if(0===this.nodeStack_.length)return null;let l,s=this.nodeStack_.pop();if(l=this.resultGenerator_?this.resultGenerator_(s.key,s.value):{key:s.key,value:s.value},this.isReverse_)for(s=s.left;!s.isEmpty();)this.nodeStack_.push(s),s=s.right;else for(s=s.right;!s.isEmpty();)this.nodeStack_.push(s),s=s.left;return l}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const s=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(s.key,s.value):{key:s.key,value:s.value}}}let On,la=(()=>{class c{constructor(l,f,y,T,k){this.key=l,this.value=f,this.color=y??c.RED,this.left=T??Zr.EMPTY_NODE,this.right=k??Zr.EMPTY_NODE}copy(l,f,y,T,k){return new c(l??this.key,f??this.value,y??this.color,T??this.left,k??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(l){return this.left.inorderTraversal(l)||!!l(this.key,this.value)||this.right.inorderTraversal(l)}reverseTraversal(l){return this.right.reverseTraversal(l)||l(this.key,this.value)||this.left.reverseTraversal(l)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(l,f,y){let T=this;const k=y(l,T.key);return T=k<0?T.copy(null,null,null,T.left.insert(l,f,y),null):0===k?T.copy(null,f,null,null,null):T.copy(null,null,null,null,T.right.insert(l,f,y)),T.fixUp_()}removeMin_(){if(this.left.isEmpty())return Zr.EMPTY_NODE;let l=this;return!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),l=l.copy(null,null,null,l.left.removeMin_(),null),l.fixUp_()}remove(l,f){let y,T;if(y=this,f(l,y.key)<0)!y.left.isEmpty()&&!y.left.isRed_()&&!y.left.left.isRed_()&&(y=y.moveRedLeft_()),y=y.copy(null,null,null,y.left.remove(l,f),null);else{if(y.left.isRed_()&&(y=y.rotateRight_()),!y.right.isEmpty()&&!y.right.isRed_()&&!y.right.left.isRed_()&&(y=y.moveRedRight_()),0===f(l,y.key)){if(y.right.isEmpty())return Zr.EMPTY_NODE;T=y.right.min_(),y=y.copy(T.key,T.value,null,null,y.right.removeMin_())}y=y.copy(null,null,null,null,y.right.remove(l,f))}return y.fixUp_()}isRed_(){return this.color}fixUp_(){let l=this;return l.right.isRed_()&&!l.left.isRed_()&&(l=l.rotateLeft_()),l.left.isRed_()&&l.left.left.isRed_()&&(l=l.rotateRight_()),l.left.isRed_()&&l.right.isRed_()&&(l=l.colorFlip_()),l}moveRedLeft_(){let l=this.colorFlip_();return l.right.left.isRed_()&&(l=l.copy(null,null,null,null,l.right.rotateRight_()),l=l.rotateLeft_(),l=l.colorFlip_()),l}moveRedRight_(){let l=this.colorFlip_();return l.left.left.isRed_()&&(l=l.rotateRight_(),l=l.colorFlip_()),l}rotateLeft_(){const l=this.copy(null,null,c.RED,null,this.right.left);return this.right.copy(null,null,this.color,l,null)}rotateRight_(){const l=this.copy(null,null,c.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,l)}colorFlip_(){const l=this.left.copy(null,null,!this.left.color,null,null),f=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,l,f)}checkMaxDepth_(){const l=this.check_();return Math.pow(2,l)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const l=this.left.check_();if(l!==this.right.check_())throw new Error("Black depths differ");return l+(this.isRed_()?0:1)}}return c.RED=!0,c.BLACK=!1,c})();class Zr{constructor(s,l=Zr.EMPTY_NODE){this.comparator_=s,this.root_=l}insert(s,l){return new Zr(this.comparator_,this.root_.insert(s,l,this.comparator_).copy(null,null,la.BLACK,null,null))}remove(s){return new Zr(this.comparator_,this.root_.remove(s,this.comparator_).copy(null,null,la.BLACK,null,null))}get(s){let l,f=this.root_;for(;!f.isEmpty();){if(l=this.comparator_(s,f.key),0===l)return f.value;l<0?f=f.left:l>0&&(f=f.right)}return null}getPredecessorKey(s){let l,f=this.root_,y=null;for(;!f.isEmpty();){if(l=this.comparator_(s,f.key),0===l){if(f.left.isEmpty())return y?y.key:null;for(f=f.left;!f.right.isEmpty();)f=f.right;return f.key}l<0?f=f.left:l>0&&(y=f,f=f.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(s){return this.root_.inorderTraversal(s)}reverseTraversal(s){return this.root_.reverseTraversal(s)}getIterator(s){return new Wo(this.root_,null,this.comparator_,!1,s)}getIteratorFrom(s,l){return new Wo(this.root_,s,this.comparator_,!1,l)}getReverseIteratorFrom(s,l){return new Wo(this.root_,s,this.comparator_,!0,l)}getReverseIterator(s){return new Wo(this.root_,null,this.comparator_,!0,s)}}function Oi(c,s){return bi(c.name,s.name)}function $s(c,s){return bi(c,s)}Zr.EMPTY_NODE=new class rn{copy(s,l,f,y,T){return this}insert(s,l,f){return new la(s,l,null)}remove(s,l){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const gl=function(c){return"number"==typeof c?"number:"+xs(c):"string:"+c},bn=function(c){if(c.isLeafNode()){const s=c.val();re("string"==typeof s||"number"==typeof s||"object"==typeof s&&qn(s,".sv"),"Priority must be a string or number.")}else re(c===On||c.isEmpty(),"priority of unexpected type.");re(c===On||c.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Vt,ws,ca,Zt=(()=>{class c{constructor(l,f=c.__childrenNodeConstructor.EMPTY_NODE){this.value_=l,this.priorityNode_=f,this.lazyHash_=null,re(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),bn(this.priorityNode_)}static set __childrenNodeConstructor(l){Vt=l}static get __childrenNodeConstructor(){return Vt}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(l){return new c(this.value_,l)}getImmediateChild(l){return".priority"===l?this.priorityNode_:c.__childrenNodeConstructor.EMPTY_NODE}getChild(l){return fr(l)?this:".priority"===Jt(l)?this.priorityNode_:c.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(l,f){return null}updateImmediateChild(l,f){return".priority"===l?this.updatePriority(f):f.isEmpty()&&".priority"!==l?this:c.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(l,f).updatePriority(this.priorityNode_)}updateChild(l,f){const y=Jt(l);return null===y?f:f.isEmpty()&&".priority"!==y?this:(re(".priority"!==y||1===xr(l),".priority must be the last token in a path"),this.updateImmediateChild(y,c.__childrenNodeConstructor.EMPTY_NODE.updateChild(Qn(l),f)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(l,f){return!1}val(l){return l&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let l="";this.priorityNode_.isEmpty()||(l+="priority:"+gl(this.priorityNode_.val())+":");const f=typeof this.value_;l+=f+":",l+="number"===f?xs(this.value_):this.value_,this.lazyHash_=Hn(l)}return this.lazyHash_}getValue(){return this.value_}compareTo(l){return l===c.__childrenNodeConstructor.EMPTY_NODE?1:l instanceof c.__childrenNodeConstructor?-1:(re(l.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(l))}compareToLeafNode_(l){const f=typeof l.value_,y=typeof this.value_,T=c.VALUE_TYPE_ORDER.indexOf(f),k=c.VALUE_TYPE_ORDER.indexOf(y);return re(T>=0,"Unknown leaf type: "+f),re(k>=0,"Unknown leaf type: "+y),T===k?"object"===y?0:this.value_<l.value_?-1:this.value_===l.value_?0:1:k-T}withIndex(){return this}isIndexed(){return!0}equals(l){if(l===this)return!0;if(l.isLeafNode()){const f=l;return this.value_===f.value_&&this.priorityNode_.equals(f.priorityNode_)}return!1}}return c.VALUE_TYPE_ORDER=["object","boolean","number","string"],c})();const Ci=new class ml extends as{compare(s,l){const f=s.node.getPriority(),y=l.node.getPriority(),T=f.compareTo(y);return 0===T?bi(s.name,l.name):T}isDefinedOn(s){return!s.getPriority().isEmpty()}indexedValueChanged(s,l){return!s.getPriority().equals(l.getPriority())}minPost(){return Gr.MIN}maxPost(){return new Gr(Gi,new Zt("[PRIORITY-POST]",ca))}makePost(s,l){const f=ws(s);return new Gr(l,new Zt("[PRIORITY-POST]",f))}toString(){return".priority"}},Wa=Math.log(2);class ya{constructor(s){this.count=parseInt(Math.log(s+1)/Wa,10),this.current_=this.count-1;const y=(T=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=s+1&y}nextBitIsOne(){const s=!(this.bits_&1<<this.current_);return this.current_--,s}}const yl=function(c,s,l,f){c.sort(s);const y=function(de,Fe){const wt=Fe-de;let vt,Ft;if(0===wt)return null;if(1===wt)return vt=c[de],Ft=l?l(vt):vt,new la(Ft,vt.node,la.BLACK,null,null);{const an=parseInt(wt/2,10)+de,Sn=y(de,an),Br=y(an+1,Fe);return vt=c[an],Ft=l?l(vt):vt,new la(Ft,vt.node,la.BLACK,Sn,Br)}},Q=function(de){let Fe=null,wt=null,vt=c.length;const Ft=function(Sn,Br){const Qr=vt-Sn,Ts=vt;vt-=Sn;const lo=y(Qr+1,Ts),ds=c[Qr],Ls=l?l(ds):ds;an(new la(Ls,ds.node,Br,null,lo))},an=function(Sn){Fe?(Fe.left=Sn,Fe=Sn):(wt=Sn,Fe=Sn)};for(let Sn=0;Sn<de.count;++Sn){const Br=de.nextBitIsOne(),Qr=Math.pow(2,de.count-(Sn+1));Br?Ft(Qr,la.BLACK):(Ft(Qr,la.BLACK),Ft(Qr,la.RED))}return wt}(new ya(c.length));return new Zr(f||s,Q)};let Bl;const ho={};class Ns{constructor(s,l){this.indexes_=s,this.indexSet_=l}static get Default(){return re(ho&&Ci,"ChildrenNode.ts has not been loaded"),Bl=Bl||new Ns({".priority":ho},{".priority":Ci}),Bl}get(s){const l=ot(this.indexes_,s);if(!l)throw new Error("No index defined for "+s);return l instanceof Zr?l:null}hasIndex(s){return qn(this.indexSet_,s.toString())}addIndex(s,l){re(s!==Pi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const f=[];let y=!1;const T=l.getIterator(Gr.Wrap);let Q,k=T.getNext();for(;k;)y=y||s.isDefinedOn(k.node),f.push(k),k=T.getNext();Q=y?yl(f,s.getCompare()):ho;const de=s.toString(),Fe=Object.assign({},this.indexSet_);Fe[de]=s;const wt=Object.assign({},this.indexes_);return wt[de]=Q,new Ns(wt,Fe)}addToIndexes(s,l){const f=Ze(this.indexes_,(y,T)=>{const k=ot(this.indexSet_,T);if(re(k,"Missing index implementation for "+T),y===ho){if(k.isDefinedOn(s.node)){const Q=[],de=l.getIterator(Gr.Wrap);let Fe=de.getNext();for(;Fe;)Fe.name!==s.name&&Q.push(Fe),Fe=de.getNext();return Q.push(s),yl(Q,k.getCompare())}return ho}{const Q=l.get(s.name);let de=y;return Q&&(de=de.remove(new Gr(s.name,Q))),de.insert(s,s.node)}});return new Ns(f,this.indexSet_)}removeFromIndexes(s,l){const f=Ze(this.indexes_,y=>{if(y===ho)return y;{const T=l.get(s.name);return T?y.remove(new Gr(s.name,T)):y}});return new Ns(f,this.indexSet_)}}let cr,ur=(()=>{class c{constructor(l,f,y){this.children_=l,this.priorityNode_=f,this.indexMap_=y,this.lazyHash_=null,this.priorityNode_&&bn(this.priorityNode_),this.children_.isEmpty()&&re(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return cr||(cr=new c(new Zr($s),null,Ns.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||cr}updatePriority(l){return this.children_.isEmpty()?this:new c(this.children_,l,this.indexMap_)}getImmediateChild(l){if(".priority"===l)return this.getPriority();{const f=this.children_.get(l);return null===f?cr:f}}getChild(l){const f=Jt(l);return null===f?this:this.getImmediateChild(f).getChild(Qn(l))}hasChild(l){return null!==this.children_.get(l)}updateImmediateChild(l,f){if(re(f,"We should always be passing snapshot nodes"),".priority"===l)return this.updatePriority(f);{const y=new Gr(l,f);let T,k;f.isEmpty()?(T=this.children_.remove(l),k=this.indexMap_.removeFromIndexes(y,this.children_)):(T=this.children_.insert(l,f),k=this.indexMap_.addToIndexes(y,this.children_));const Q=T.isEmpty()?cr:this.priorityNode_;return new c(T,Q,k)}}updateChild(l,f){const y=Jt(l);if(null===y)return f;{re(".priority"!==Jt(l)||1===xr(l),".priority must be the last token in a path");const T=this.getImmediateChild(y).updateChild(Qn(l),f);return this.updateImmediateChild(y,T)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(l){if(this.isEmpty())return null;const f={};let y=0,T=0,k=!0;if(this.forEachChild(Ci,(Q,de)=>{f[Q]=de.val(l),y++,k&&c.INTEGER_REGEXP_.test(Q)?T=Math.max(T,Number(Q)):k=!1}),!l&&k&&T<2*y){const Q=[];for(const de in f)Q[de]=f[de];return Q}return l&&!this.getPriority().isEmpty()&&(f[".priority"]=this.getPriority().val()),f}hash(){if(null===this.lazyHash_){let l="";this.getPriority().isEmpty()||(l+="priority:"+gl(this.getPriority().val())+":"),this.forEachChild(Ci,(f,y)=>{const T=y.hash();""!==T&&(l+=":"+f+":"+T)}),this.lazyHash_=""===l?"":Hn(l)}return this.lazyHash_}getPredecessorChildName(l,f,y){const T=this.resolveIndex_(y);if(T){const k=T.getPredecessorKey(new Gr(l,f));return k?k.name:null}return this.children_.getPredecessorKey(l)}getFirstChildName(l){const f=this.resolveIndex_(l);if(f){const y=f.minKey();return y&&y.name}return this.children_.minKey()}getFirstChild(l){const f=this.getFirstChildName(l);return f?new Gr(f,this.children_.get(f)):null}getLastChildName(l){const f=this.resolveIndex_(l);if(f){const y=f.maxKey();return y&&y.name}return this.children_.maxKey()}getLastChild(l){const f=this.getLastChildName(l);return f?new Gr(f,this.children_.get(f)):null}forEachChild(l,f){const y=this.resolveIndex_(l);return y?y.inorderTraversal(T=>f(T.name,T.node)):this.children_.inorderTraversal(f)}getIterator(l){return this.getIteratorFrom(l.minPost(),l)}getIteratorFrom(l,f){const y=this.resolveIndex_(f);if(y)return y.getIteratorFrom(l,T=>T);{const T=this.children_.getIteratorFrom(l.name,Gr.Wrap);let k=T.peek();for(;null!=k&&f.compare(k,l)<0;)T.getNext(),k=T.peek();return T}}getReverseIterator(l){return this.getReverseIteratorFrom(l.maxPost(),l)}getReverseIteratorFrom(l,f){const y=this.resolveIndex_(f);if(y)return y.getReverseIteratorFrom(l,T=>T);{const T=this.children_.getReverseIteratorFrom(l.name,Gr.Wrap);let k=T.peek();for(;null!=k&&f.compare(k,l)>0;)T.getNext(),k=T.peek();return T}}compareTo(l){return this.isEmpty()?l.isEmpty()?0:-1:l.isLeafNode()||l.isEmpty()?1:l===si?-1:0}withIndex(l){if(l===Pi||this.indexMap_.hasIndex(l))return this;{const f=this.indexMap_.addIndex(l,this.children_);return new c(this.children_,this.priorityNode_,f)}}isIndexed(l){return l===Pi||this.indexMap_.hasIndex(l)}equals(l){if(l===this)return!0;if(l.isLeafNode())return!1;{const f=l;if(this.getPriority().equals(f.getPriority())){if(this.children_.count()===f.children_.count()){const y=this.getIterator(Ci),T=f.getIterator(Ci);let k=y.getNext(),Q=T.getNext();for(;k&&Q;){if(k.name!==Q.name||!k.node.equals(Q.node))return!1;k=y.getNext(),Q=T.getNext()}return null===k&&null===Q}return!1}return!1}}resolveIndex_(l){return l===Pi?null:this.indexMap_.get(l.toString())}}return c.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,c})();const si=new class Vl extends ur{constructor(){super(new Zr($s),ur.EMPTY_NODE,Ns.Default)}compareTo(s){return s===this?0:1}equals(s){return s===this}getPriority(){return this}getImmediateChild(s){return ur.EMPTY_NODE}isEmpty(){return!1}};function pi(c,s=null){if(null===c)return ur.EMPTY_NODE;if("object"==typeof c&&".priority"in c&&(s=c[".priority"]),re(null===s||"string"==typeof s||"number"==typeof s||"object"==typeof s&&".sv"in s,"Invalid priority type found: "+typeof s),"object"==typeof c&&".value"in c&&null!==c[".value"]&&(c=c[".value"]),"object"!=typeof c||".sv"in c)return new Zt(c,pi(s));if(c instanceof Array){let l=ur.EMPTY_NODE;return Kr(c,(f,y)=>{if(qn(c,f)&&"."!==f.substring(0,1)){const T=pi(y);(T.isLeafNode()||!T.isEmpty())&&(l=l.updateImmediateChild(f,T))}}),l.updatePriority(pi(s))}{const l=[];let f=!1;if(Kr(c,(k,Q)=>{if("."!==k.substring(0,1)){const de=pi(Q);de.isEmpty()||(f=f||!de.getPriority().isEmpty(),l.push(new Gr(k,de)))}}),0===l.length)return ur.EMPTY_NODE;const T=yl(l,Oi,k=>k.name,$s);if(f){const k=yl(l,Ci.getCompare());return new ur(T,pi(s),new Ns({".priority":k},{".priority":Ci}))}return new ur(T,pi(s),Ns.Default)}}Object.defineProperties(Gr,{MIN:{value:new Gr(ji,ur.EMPTY_NODE)},MAX:{value:new Gr(Gi,si)}}),zo.__EMPTY_NODE=ur.EMPTY_NODE,Zt.__childrenNodeConstructor=ur,function or(c){On=c}(si),function ma(c){ca=c}(si),function Ll(c){ws=c}(pi);class pr extends as{constructor(s){super(),this.indexPath_=s,re(!fr(s)&&".priority"!==Jt(s),"Can't create PathIndex with empty path or .priority key")}extractChild(s){return s.getChild(this.indexPath_)}isDefinedOn(s){return!s.getChild(this.indexPath_).isEmpty()}compare(s,l){const f=this.extractChild(s.node),y=this.extractChild(l.node),T=f.compareTo(y);return 0===T?bi(s.name,l.name):T}makePost(s,l){const f=pi(s),y=ur.EMPTY_NODE.updateChild(this.indexPath_,f);return new Gr(l,y)}maxPost(){const s=ur.EMPTY_NODE.updateChild(this.indexPath_,si);return new Gr(Gi,s)}toString(){return Ri(this.indexPath_,0).join("/")}}const di=new class va extends as{compare(s,l){const f=s.node.compareTo(l.node);return 0===f?bi(s.name,l.name):f}isDefinedOn(s){return!0}indexedValueChanged(s,l){return!s.equals(l)}minPost(){return Gr.MIN}maxPost(){return Gr.MAX}makePost(s,l){const f=pi(s);return new Gr(l,f)}toString(){return".value"}},dn="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Ya=function(){let c=0;const s=[];return function(l){const f=l===c;let y;c=l;const T=new Array(8);for(y=7;y>=0;y--)T[y]=dn.charAt(l%64),l=Math.floor(l/64);re(0===l,"Cannot push at time == 0");let k=T.join("");if(f){for(y=11;y>=0&&63===s[y];y--)s[y]=0;s[y]++}else for(y=0;y<12;y++)s[y]=Math.floor(64*Math.random());for(y=0;y<12;y++)k+=dn.charAt(s[y]);return re(20===k.length,"nextPushId: Length should be 20."),k}}(),oi=function(c){if(c===""+Mi)return"-";const s=Qi(c);if(null!=s)return""+(s+1);const l=new Array(c.length);for(let k=0;k<l.length;k++)l[k]=c.charAt(k);if(l.length<786)return l.push("-"),l.join("");let f=l.length-1;for(;f>=0&&"z"===l[f];)f--;if(-1===f)return Gi;const T=dn.charAt(dn.indexOf(l[f])+1);return l[f]=T,l.slice(0,f+1).join("")},Dc=function(c){if(c===""+Rs)return ji;const s=Qi(c);if(null!=s)return""+(s-1);const l=new Array(c.length);for(let f=0;f<l.length;f++)l[f]=c.charAt(f);return"-"===l[l.length-1]?1===l.length?""+Mi:(delete l[l.length-1],l.join("")):(l[l.length-1]=dn.charAt(dn.indexOf(l[l.length-1])-1),l.join("")+"z".repeat(786-l.length))};function $l(c){return{type:"value",snapshotNode:c}}function Ka(c,s){return{type:"child_added",snapshotNode:s,childName:c}}function vl(c,s){return{type:"child_removed",snapshotNode:s,childName:c}}function qs(c,s,l){return{type:"child_changed",snapshotNode:s,childName:c,oldSnap:l}}class su{constructor(s){this.index_=s}updateChild(s,l,f,y,T,k){re(s.isIndexed(this.index_),"A node must be indexed if only a child is updated");const Q=s.getImmediateChild(l);return Q.getChild(y).equals(f.getChild(y))&&Q.isEmpty()===f.isEmpty()||(null!=k&&(f.isEmpty()?s.hasChild(l)?k.trackChildChange(vl(l,Q)):re(s.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):Q.isEmpty()?k.trackChildChange(Ka(l,f)):k.trackChildChange(qs(l,f,Q))),s.isLeafNode()&&f.isEmpty())?s:s.updateImmediateChild(l,f).withIndex(this.index_)}updateFullNode(s,l,f){return null!=f&&(s.isLeafNode()||s.forEachChild(Ci,(y,T)=>{l.hasChild(y)||f.trackChildChange(vl(y,T))}),l.isLeafNode()||l.forEachChild(Ci,(y,T)=>{if(s.hasChild(y)){const k=s.getImmediateChild(y);k.equals(T)||f.trackChildChange(qs(y,T,k))}else f.trackChildChange(Ka(y,T))})),l.withIndex(this.index_)}updatePriority(s,l){return s.isEmpty()?ur.EMPTY_NODE:s.updatePriority(l)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Ko{constructor(s){this.indexedFilter_=new su(s.getIndex()),this.index_=s.getIndex(),this.startPost_=Ko.getStartPost_(s),this.endPost_=Ko.getEndPost_(s)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(s){return this.index_.compare(this.getStartPost(),s)<=0&&this.index_.compare(s,this.getEndPost())<=0}updateChild(s,l,f,y,T,k){return this.matches(new Gr(l,f))||(f=ur.EMPTY_NODE),this.indexedFilter_.updateChild(s,l,f,y,T,k)}updateFullNode(s,l,f){l.isLeafNode()&&(l=ur.EMPTY_NODE);let y=l.withIndex(this.index_);y=y.updatePriority(ur.EMPTY_NODE);const T=this;return l.forEachChild(Ci,(k,Q)=>{T.matches(new Gr(k,Q))||(y=y.updateImmediateChild(k,ur.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(s,y,f)}updatePriority(s,l){return s}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(s){if(s.hasStart()){const l=s.getIndexStartName();return s.getIndex().makePost(s.getIndexStartValue(),l)}return s.getIndex().minPost()}static getEndPost_(s){if(s.hasEnd()){const l=s.getIndexEndName();return s.getIndex().makePost(s.getIndexEndValue(),l)}return s.getIndex().maxPost()}}class Ma{constructor(s){this.rangedFilter_=new Ko(s),this.index_=s.getIndex(),this.limit_=s.getLimit(),this.reverse_=!s.isViewFromLeft()}updateChild(s,l,f,y,T,k){return this.rangedFilter_.matches(new Gr(l,f))||(f=ur.EMPTY_NODE),s.getImmediateChild(l).equals(f)?s:s.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(s,l,f,y,T,k):this.fullLimitUpdateChild_(s,l,f,T,k)}updateFullNode(s,l,f){let y;if(l.isLeafNode()||l.isEmpty())y=ur.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<l.numChildren()&&l.isIndexed(this.index_)){let T;y=ur.EMPTY_NODE.withIndex(this.index_),T=this.reverse_?l.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):l.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let k=0;for(;T.hasNext()&&k<this.limit_;){const Q=T.getNext();let de;if(de=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),Q)<=0:this.index_.compare(Q,this.rangedFilter_.getEndPost())<=0,!de)break;y=y.updateImmediateChild(Q.name,Q.node),k++}}else{let T,k,Q,de;if(y=l.withIndex(this.index_),y=y.updatePriority(ur.EMPTY_NODE),this.reverse_){de=y.getReverseIterator(this.index_),T=this.rangedFilter_.getEndPost(),k=this.rangedFilter_.getStartPost();const vt=this.index_.getCompare();Q=(Ft,an)=>vt(an,Ft)}else de=y.getIterator(this.index_),T=this.rangedFilter_.getStartPost(),k=this.rangedFilter_.getEndPost(),Q=this.index_.getCompare();let Fe=0,wt=!1;for(;de.hasNext();){const vt=de.getNext();!wt&&Q(T,vt)<=0&&(wt=!0),wt&&Fe<this.limit_&&Q(vt,k)<=0?Fe++:y=y.updateImmediateChild(vt.name,ur.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(s,y,f)}updatePriority(s,l){return s}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(s,l,f,y,T){let k;if(this.reverse_){const vt=this.index_.getCompare();k=(Ft,an)=>vt(an,Ft)}else k=this.index_.getCompare();const Q=s;re(Q.numChildren()===this.limit_,"");const de=new Gr(l,f),Fe=this.reverse_?Q.getFirstChild(this.index_):Q.getLastChild(this.index_),wt=this.rangedFilter_.matches(de);if(Q.hasChild(l)){const vt=Q.getImmediateChild(l);let Ft=y.getChildAfterChild(this.index_,Fe,this.reverse_);for(;null!=Ft&&(Ft.name===l||Q.hasChild(Ft.name));)Ft=y.getChildAfterChild(this.index_,Ft,this.reverse_);const an=null==Ft?1:k(Ft,de);if(wt&&!f.isEmpty()&&an>=0)return T?.trackChildChange(qs(l,f,vt)),Q.updateImmediateChild(l,f);{T?.trackChildChange(vl(l,vt));const Br=Q.updateImmediateChild(l,ur.EMPTY_NODE);return null!=Ft&&this.rangedFilter_.matches(Ft)?(T?.trackChildChange(Ka(Ft.name,Ft.node)),Br.updateImmediateChild(Ft.name,Ft.node)):Br}}return f.isEmpty()?s:wt&&k(Fe,de)>=0?(null!=T&&(T.trackChildChange(vl(Fe.name,Fe.node)),T.trackChildChange(Ka(l,f))),Q.updateImmediateChild(l,f).updateImmediateChild(Fe.name,ur.EMPTY_NODE)):s}}class qa{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ci}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return re(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return re(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ji}hasEnd(){return this.endSet_}getIndexEndValue(){return re(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return re(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Gi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return re(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ci}copy(){const s=new qa;return s.limitSet_=this.limitSet_,s.limit_=this.limit_,s.startSet_=this.startSet_,s.indexStartValue_=this.indexStartValue_,s.startNameSet_=this.startNameSet_,s.indexStartName_=this.indexStartName_,s.endSet_=this.endSet_,s.indexEndValue_=this.indexEndValue_,s.endNameSet_=this.endNameSet_,s.indexEndName_=this.indexEndName_,s.index_=this.index_,s.viewFrom_=this.viewFrom_,s}}function Ul(c,s,l){const f=c.copy();return f.startSet_=!0,void 0===s&&(s=null),f.indexStartValue_=s,null!=l?(f.startNameSet_=!0,f.indexStartName_=l):(f.startNameSet_=!1,f.indexStartName_=""),f}function Ji(c,s,l){const f=c.copy();return f.endSet_=!0,void 0===s&&(s=null),f.indexEndValue_=s,void 0!==l?(f.endNameSet_=!0,f.indexEndName_=l):(f.endNameSet_=!1,f.indexEndName_=""),f}function Io(c,s){const l=c.copy();return l.index_=s,l}function Ra(c){const s={};if(c.isDefault())return s;let l;return c.index_===Ci?l="$priority":c.index_===di?l="$value":c.index_===Pi?l="$key":(re(c.index_ instanceof pr,"Unrecognized index type!"),l=c.index_.toString()),s.orderBy=Kn(l),c.startSet_&&(s.startAt=Kn(c.indexStartValue_),c.startNameSet_&&(s.startAt+=","+Kn(c.indexStartName_))),c.endSet_&&(s.endAt=Kn(c.indexEndValue_),c.endNameSet_&&(s.endAt+=","+Kn(c.indexEndName_))),c.limitSet_&&(c.isViewFromLeft()?s.limitToFirst=c.limit_:s.limitToLast=c.limit_),s}function Ro(c){const s={};if(c.startSet_&&(s.sp=c.indexStartValue_,c.startNameSet_&&(s.sn=c.indexStartName_)),c.endSet_&&(s.ep=c.indexEndValue_,c.endNameSet_&&(s.en=c.indexEndName_)),c.limitSet_){s.l=c.limit_;let l=c.viewFrom_;""===l&&(l=c.isViewFromLeft()?"l":"r"),s.vf=l}return c.index_!==Ci&&(s.i=c.index_.toString()),s}class Xa extends B{constructor(s,l,f,y){super(),this.repoInfo_=s,this.onDataUpdate_=l,this.authTokenProvider_=f,this.appCheckTokenProvider_=y,this.log_=jt("p:rest:"),this.listens_={}}reportStats(s){throw new Error("Method not implemented.")}static getListenId_(s,l){return void 0!==l?"tag$"+l:(re(s._queryParams.isDefault(),"should have a tag if it's not a default query."),s._path.toString())}listen(s,l,f,y){const T=s._path.toString();this.log_("Listen called for "+T+" "+s._queryIdentifier);const k=Xa.getListenId_(s,f),Q={};this.listens_[k]=Q;const de=Ra(s._queryParams);this.restRequest_(T+".json",de,(Fe,wt)=>{let vt=wt;if(404===Fe&&(vt=null,Fe=null),null===Fe&&this.onDataUpdate_(T,vt,!1,f),ot(this.listens_,k)===Q){let Ft;Ft=Fe?401===Fe?"permission_denied":"rest_error:"+Fe:"ok",y(Ft,null)}})}unlisten(s,l){const f=Xa.getListenId_(s,l);delete this.listens_[f]}get(s){const l=Ra(s._queryParams),f=s._path.toString(),y=new Lt;return this.restRequest_(f+".json",l,(T,k)=>{let Q=k;404===T&&(Q=null,T=null),null===T?(this.onDataUpdate_(f,Q,!1,null),y.resolve(Q)):y.reject(new Error(Q))}),y.promise}refreshAuthToken(s){}restRequest_(s,l={},f){return l.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([y,T])=>{y&&y.accessToken&&(l.auth=y.accessToken),T&&T.token&&(l.ac=T.token);const k=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+s+"?ns="+this.repoInfo_.namespace+function tn(c){const s=[];for(const[l,f]of Object.entries(c))Array.isArray(f)?f.forEach(y=>{s.push(encodeURIComponent(l)+"="+encodeURIComponent(y))}):s.push(encodeURIComponent(l)+"="+encodeURIComponent(f));return s.length?"&"+s.join("&"):""}(l);this.log_("Sending REST request for "+k);const Q=new XMLHttpRequest;Q.onreadystatechange=()=>{if(f&&4===Q.readyState){this.log_("REST Response for "+k+" received. status:",Q.status,"response:",Q.responseText);let de=null;if(Q.status>=200&&Q.status<300){try{de=Jn(Q.responseText)}catch{kn("Failed to parse JSON response for "+k+": "+Q.responseText)}f(null,de)}else 401!==Q.status&&404!==Q.status&&kn("Got unsuccessful REST response for "+k+" Status: "+Q.status),f(Q.status);f=null}},Q.open("GET",k,!0),Q.send()})}}class ou{constructor(){this.rootNode_=ur.EMPTY_NODE}getNode(s){return this.rootNode_.getChild(s)}updateSnapshot(s,l){this.rootNode_=this.rootNode_.updateChild(s,l)}}function cs(){return{value:null,children:new Map}}function qo(c,s,l){if(fr(s))c.value=l,c.children.clear();else if(null!==c.value)c.value=c.value.updateChild(s,l);else{const f=Jt(s);c.children.has(f)||c.children.set(f,cs()),qo(c.children.get(f),s=Qn(s),l)}}function Es(c,s){if(fr(s))return c.value=null,c.children.clear(),!0;if(null!==c.value){if(c.value.isLeafNode())return!1;{const l=c.value;return c.value=null,l.forEachChild(Ci,(f,y)=>{qo(c,new Et(f),y)}),Es(c,s)}}if(c.children.size>0){const l=Jt(s);return s=Qn(s),c.children.has(l)&&Es(c.children.get(l),s)&&c.children.delete(l),0===c.children.size}return!0}function Pa(c,s,l){null!==c.value?l(s,c.value):function ti(c,s){c.children.forEach((l,f)=>{s(f,l)})}(c,(f,y)=>{Pa(y,new Et(s.toString()+"/"+f),l)})}class Oa{constructor(s){this.collection_=s,this.last_=null}get(){const s=this.collection_.get(),l=Object.assign({},s);return this.last_&&Kr(this.last_,(f,y)=>{l[f]=l[f]-y}),this.last_=s,l}}class Hl{constructor(s,l){this.server_=l,this.statsToReport_={},this.statsListener_=new Oa(s);const f=1e4+2e4*Math.random();Fi(this.reportStats_.bind(this),Math.floor(f))}reportStats_(){const s=this.statsListener_.get(),l={};let f=!1;Kr(s,(y,T)=>{T>0&&qn(this.statsToReport_,y)&&(l[y]=T,f=!0)}),f&&this.server_.reportStats(l),Fi(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ki=(()=>{return(c=Ki||(Ki={}))[c.OVERWRITE=0]="OVERWRITE",c[c.MERGE=1]="MERGE",c[c.ACK_USER_WRITE=2]="ACK_USER_WRITE",c[c.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Ki;var c})();function Ja(c){return{fromUser:!1,fromServer:!0,queryId:c,tagged:!0}}class Zo{constructor(s,l,f){this.path=s,this.affectedTree=l,this.revert=f,this.type=Ki.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(s){if(fr(this.path)){if(null!=this.affectedTree.value)return re(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const l=this.affectedTree.subtree(new Et(s));return new Zo(At(),l,this.revert)}}return re(Jt(this.path)===s,"operationForChild called for unrelated child."),new Zo(Qn(this.path),this.affectedTree,this.revert)}}class gi{constructor(s,l){this.source=s,this.path=l,this.type=Ki.LISTEN_COMPLETE}operationForChild(s){return fr(this.path)?new gi(this.source,At()):new gi(this.source,Qn(this.path))}}class S{constructor(s,l,f){this.source=s,this.path=l,this.snap=f,this.type=Ki.OVERWRITE}operationForChild(s){return fr(this.path)?new S(this.source,At(),this.snap.getImmediateChild(s)):new S(this.source,Qn(this.path),this.snap)}}class A{constructor(s,l,f){this.source=s,this.path=l,this.children=f,this.type=Ki.MERGE}operationForChild(s){if(fr(this.path)){const l=this.children.subtree(new Et(s));return l.isEmpty()?null:l.value?new S(this.source,At(),l.value):new A(this.source,At(),l)}return re(Jt(this.path)===s,"Can't get a merge for a child not on the path of the operation"),new A(this.source,Qn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class I{constructor(s,l,f){this.node_=s,this.fullyInitialized_=l,this.filtered_=f}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(s){if(fr(s))return this.isFullyInitialized()&&!this.filtered_;const l=Jt(s);return this.isCompleteForChild(l)}isCompleteForChild(s){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(s)}getNode(){return this.node_}}class F{constructor(s){this.query_=s,this.index_=this.query_._queryParams.getIndex()}}function le(c,s,l,f,y,T){const k=f.filter(Q=>Q.type===l);k.sort((Q,de)=>function Je(c,s,l){if(null==s.childName||null==l.childName)throw be("Should only compare child_ events.");const f=new Gr(s.childName,s.snapshotNode),y=new Gr(l.childName,l.snapshotNode);return c.index_.compare(f,y)}(c,Q,de)),k.forEach(Q=>{const de=function je(c,s,l){return"value"===s.type||"child_removed"===s.type||(s.prevName=l.getPredecessorChildName(s.childName,s.snapshotNode,c.index_)),s}(c,Q,T);y.forEach(Fe=>{Fe.respondsTo(Q.type)&&s.push(Fe.createEvent(de,c.query_))})})}function Ht(c,s){return{eventCache:c,serverCache:s}}function P(c,s,l,f){return Ht(new I(s,l,f),c.serverCache)}function j(c,s,l,f){return Ht(c.eventCache,new I(s,l,f))}function te(c){return c.eventCache.isFullyInitialized()?c.eventCache.getNode():null}function Ae(c){return c.serverCache.isFullyInitialized()?c.serverCache.getNode():null}let ht;class $t{constructor(s,l=(()=>(ht||(ht=new Zr(As)),ht))()){this.value=s,this.children=l}static fromObject(s){let l=new $t(null);return Kr(s,(f,y)=>{l=l.set(new Et(f),y)}),l}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(s,l){if(null!=this.value&&l(this.value))return{path:At(),value:this.value};if(fr(s))return null;{const f=Jt(s),y=this.children.get(f);if(null!==y){const T=y.findRootMostMatchingPathAndValue(Qn(s),l);return null!=T?{path:gr(new Et(f),T.path),value:T.value}:null}return null}}findRootMostValueAndPath(s){return this.findRootMostMatchingPathAndValue(s,()=>!0)}subtree(s){if(fr(s))return this;{const l=Jt(s),f=this.children.get(l);return null!==f?f.subtree(Qn(s)):new $t(null)}}set(s,l){if(fr(s))return new $t(l,this.children);{const f=Jt(s),T=(this.children.get(f)||new $t(null)).set(Qn(s),l),k=this.children.insert(f,T);return new $t(this.value,k)}}remove(s){if(fr(s))return this.children.isEmpty()?new $t(null):new $t(null,this.children);{const l=Jt(s),f=this.children.get(l);if(f){const y=f.remove(Qn(s));let T;return T=y.isEmpty()?this.children.remove(l):this.children.insert(l,y),null===this.value&&T.isEmpty()?new $t(null):new $t(this.value,T)}return this}}get(s){if(fr(s))return this.value;{const l=Jt(s),f=this.children.get(l);return f?f.get(Qn(s)):null}}setTree(s,l){if(fr(s))return l;{const f=Jt(s),T=(this.children.get(f)||new $t(null)).setTree(Qn(s),l);let k;return k=T.isEmpty()?this.children.remove(f):this.children.insert(f,T),new $t(this.value,k)}}fold(s){return this.fold_(At(),s)}fold_(s,l){const f={};return this.children.inorderTraversal((y,T)=>{f[y]=T.fold_(gr(s,y),l)}),l(s,this.value,f)}findOnPath(s,l){return this.findOnPath_(s,At(),l)}findOnPath_(s,l,f){const y=!!this.value&&f(l,this.value);if(y)return y;if(fr(s))return null;{const T=Jt(s),k=this.children.get(T);return k?k.findOnPath_(Qn(s),gr(l,T),f):null}}foreachOnPath(s,l){return this.foreachOnPath_(s,At(),l)}foreachOnPath_(s,l,f){if(fr(s))return this;{this.value&&f(l,this.value);const y=Jt(s),T=this.children.get(y);return T?T.foreachOnPath_(Qn(s),gr(l,y),f):new $t(null)}}foreach(s){this.foreach_(At(),s)}foreach_(s,l){this.children.inorderTraversal((f,y)=>{y.foreach_(gr(s,f),l)}),this.value&&l(s,this.value)}foreachChild(s){this.children.inorderTraversal((l,f)=>{f.value&&s(l,f.value)})}}class nn{constructor(s){this.writeTree_=s}static empty(){return new nn(new $t(null))}}function Yn(c,s,l){if(fr(s))return new nn(new $t(l));{const f=c.writeTree_.findRootMostValueAndPath(s);if(null!=f){const y=f.path;let T=f.value;const k=ai(y,s);return T=T.updateChild(k,l),new nn(c.writeTree_.set(y,T))}{const y=new $t(l),T=c.writeTree_.setTree(s,y);return new nn(T)}}}function ar(c,s,l){let f=c;return Kr(l,(y,T)=>{f=Yn(f,gr(s,y),T)}),f}function kr(c,s){if(fr(s))return nn.empty();{const l=c.writeTree_.setTree(s,new $t(null));return new nn(l)}}function Xn(c,s){return null!=$i(c,s)}function $i(c,s){const l=c.writeTree_.findRootMostValueAndPath(s);return null!=l?c.writeTree_.get(l.path).getChild(ai(l.path,s)):null}function Zs(c){const s=[],l=c.writeTree_.value;return null!=l?l.isLeafNode()||l.forEachChild(Ci,(f,y)=>{s.push(new Gr(f,y))}):c.writeTree_.children.inorderTraversal((f,y)=>{null!=y.value&&s.push(new Gr(f,y.value))}),s}function Is(c,s){if(fr(s))return c;{const l=$i(c,s);return new nn(null!=l?new $t(l):c.writeTree_.subtree(s))}}function Qo(c){return c.writeTree_.isEmpty()}function Po(c,s){return _l(At(),c.writeTree_,s)}function _l(c,s,l){if(null!=s.value)return l.updateChild(c,s.value);{let f=null;return s.children.inorderTraversal((y,T)=>{".priority"===y?(re(null!==T.value,"Priority writes must always be leaf nodes"),f=T.value):l=_l(gr(c,y),T,l)}),!l.getChild(c).isEmpty()&&null!==f&&(l=l.updateChild(gr(c,".priority"),f)),l}}function el(c,s){return oh(s,c)}function Ti(c,s){if(c.snap)return Bi(c.path,s);for(const l in c.children)if(c.children.hasOwnProperty(l)&&Bi(gr(c.path,l),s))return!0;return!1}function gp(c){return c.visible}function Gl(c,s,l){let f=nn.empty();for(let y=0;y<c.length;++y){const T=c[y];if(s(T)){const k=T.path;let Q;if(T.snap)Bi(l,k)?(Q=ai(l,k),f=Yn(f,Q,T.snap)):Bi(k,l)&&(Q=ai(k,l),f=Yn(f,At(),T.snap.getChild(Q)));else{if(!T.children)throw be("WriteRecord should have .snap or .children");if(Bi(l,k))Q=ai(l,k),f=ar(f,Q,T.children);else if(Bi(k,l))if(Q=ai(k,l),fr(Q))f=ar(f,At(),T.children);else{const de=ot(T.children,Jt(Q));if(de){const Fe=de.getChild(Qn(Q));f=Yn(f,At(),Fe)}}}}}return f}function df(c,s,l,f,y){if(f||y){const T=Is(c.visibleWrites,s);return!y&&Qo(T)?l:y||null!=l||Xn(T,At())?Po(Gl(c.allWrites,function(Fe){return(Fe.visible||y)&&(!f||!~f.indexOf(Fe.writeId))&&(Bi(Fe.path,s)||Bi(s,Fe.path))},s),l||ur.EMPTY_NODE):null}{const T=$i(c.visibleWrites,s);if(null!=T)return T;{const k=Is(c.visibleWrites,s);return Qo(k)?l:null!=l||Xn(k,At())?Po(k,l||ur.EMPTY_NODE):null}}}function gd(c,s,l,f){return df(c.writeTree,c.treePath,s,l,f)}function md(c,s){return function au(c,s,l){let f=ur.EMPTY_NODE;const y=$i(c.visibleWrites,s);if(y)return y.isLeafNode()||y.forEachChild(Ci,(T,k)=>{f=f.updateImmediateChild(T,k)}),f;if(l){const T=Is(c.visibleWrites,s);return l.forEachChild(Ci,(k,Q)=>{const de=Po(Is(T,new Et(k)),Q);f=f.updateImmediateChild(k,de)}),Zs(T).forEach(k=>{f=f.updateImmediateChild(k.name,k.node)}),f}return Zs(Is(c.visibleWrites,s)).forEach(k=>{f=f.updateImmediateChild(k.name,k.node)}),f}(c.writeTree,c.treePath,s)}function mp(c,s,l,f){return function fd(c,s,l,f,y){re(f||y,"Either existingEventSnap or existingServerSnap must exist");const T=gr(s,l);if(Xn(c.visibleWrites,T))return null;{const k=Is(c.visibleWrites,T);return Qo(k)?y.getChild(l):Po(k,y.getChild(l))}}(c.writeTree,c.treePath,s,l,f)}function lu(c,s){return function sh(c,s){return $i(c.visibleWrites,s)}(c.writeTree,gr(c.treePath,s))}function Bu(c,s,l){return function pd(c,s,l,f){const y=gr(s,l),T=$i(c.visibleWrites,y);return null!=T?T:f.isCompleteForChild(l)?Po(Is(c.visibleWrites,y),f.getNode().getImmediateChild(l)):null}(c.writeTree,c.treePath,s,l)}function hf(c,s){return oh(gr(c.treePath,s),c.writeTree)}function oh(c,s){return{treePath:c,writeTree:s}}class _a{constructor(){this.changeMap=new Map}trackChildChange(s){const l=s.type,f=s.childName;re("child_added"===l||"child_changed"===l||"child_removed"===l,"Only child changes supported for tracking"),re(".priority"!==f,"Only non-priority child changes can be tracked.");const y=this.changeMap.get(f);if(y){const T=y.type;if("child_added"===l&&"child_removed"===T)this.changeMap.set(f,qs(f,s.snapshotNode,y.snapshotNode));else if("child_removed"===l&&"child_added"===T)this.changeMap.delete(f);else if("child_removed"===l&&"child_changed"===T)this.changeMap.set(f,vl(f,y.oldSnap));else if("child_changed"===l&&"child_added"===T)this.changeMap.set(f,Ka(f,s.snapshotNode));else{if("child_changed"!==l||"child_changed"!==T)throw be("Illegal combination of changes: "+s+" occurred after "+y);this.changeMap.set(f,qs(f,s.snapshotNode,y.oldSnap))}}else this.changeMap.set(f,s)}getChanges(){return Array.from(this.changeMap.values())}}const Ac=new class sc{getCompleteChild(s){return null}getChildAfterChild(s,l,f){return null}};class yd{constructor(s,l,f=null){this.writes_=s,this.viewCache_=l,this.optCompleteServerCache_=f}getCompleteChild(s){const l=this.viewCache_.eventCache;if(l.isCompleteForChild(s))return l.getNode().getImmediateChild(s);{const f=null!=this.optCompleteServerCache_?new I(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Bu(this.writes_,s,f)}}getChildAfterChild(s,l,f){const y=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ae(this.viewCache_),T=function jg(c,s,l,f,y,T){return function Lu(c,s,l,f,y,T,k){let Q;const de=Is(c.visibleWrites,s),Fe=$i(de,At());if(null!=Fe)Q=Fe;else{if(null==l)return[];Q=Po(de,l)}if(Q=Q.withIndex(k),Q.isEmpty()||Q.isLeafNode())return[];{const wt=[],vt=k.getCompare(),Ft=T?Q.getReverseIteratorFrom(f,k):Q.getIteratorFrom(f,k);let an=Ft.getNext();for(;an&&wt.length<y;)0!==vt(an,f)&&wt.push(an),an=Ft.getNext();return wt}}(c.writeTree,c.treePath,s,l,f,y,T)}(this.writes_,y,l,1,f,s);return 0===T.length?null:T[0]}}function vd(c,s,l,f,y,T){const k=s.eventCache;if(null!=lu(f,l))return s;{let Q,de;if(fr(l))if(re(s.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),s.serverCache.isFiltered()){const Fe=Ae(s),vt=md(f,Fe instanceof ur?Fe:ur.EMPTY_NODE);Q=c.filter.updateFullNode(s.eventCache.getNode(),vt,T)}else{const Fe=gd(f,Ae(s));Q=c.filter.updateFullNode(s.eventCache.getNode(),Fe,T)}else{const Fe=Jt(l);if(".priority"===Fe){re(1===xr(l),"Can't have a priority with additional path components");const wt=k.getNode();de=s.serverCache.getNode();const vt=mp(f,l,wt,de);Q=null!=vt?c.filter.updatePriority(wt,vt):k.getNode()}else{const wt=Qn(l);let vt;if(k.isCompleteForChild(Fe)){de=s.serverCache.getNode();const Ft=mp(f,l,k.getNode(),de);vt=null!=Ft?k.getNode().getImmediateChild(Fe).updateChild(wt,Ft):k.getNode().getImmediateChild(Fe)}else vt=Bu(f,Fe,s.serverCache);Q=null!=vt?c.filter.updateChild(k.getNode(),Fe,vt,wt,y,T):k.getNode()}}return P(s,Q,k.isFullyInitialized()||fr(l),c.filter.filtersNodes())}}function xc(c,s,l,f,y,T,k,Q){const de=s.serverCache;let Fe;const wt=k?c.filter:c.filter.getIndexedFilter();if(fr(l))Fe=wt.updateFullNode(de.getNode(),f,null);else if(wt.filtersNodes()&&!de.isFiltered()){const an=de.getNode().updateChild(l,f);Fe=wt.updateFullNode(de.getNode(),an,null)}else{const an=Jt(l);if(!de.isCompleteForPath(l)&&xr(l)>1)return s;const Sn=Qn(l),Qr=de.getNode().getImmediateChild(an).updateChild(Sn,f);Fe=".priority"===an?wt.updatePriority(de.getNode(),Qr):wt.updateChild(de.getNode(),an,Qr,Sn,Ac,null)}const vt=j(s,Fe,de.isFullyInitialized()||fr(l),wt.filtersNodes());return vd(c,vt,l,y,new yd(y,vt,T),Q)}function uu(c,s,l,f,y,T,k){const Q=s.eventCache;let de,Fe;const wt=new yd(y,s,T);if(fr(l))Fe=c.filter.updateFullNode(s.eventCache.getNode(),f,k),de=P(s,Fe,!0,c.filter.filtersNodes());else{const vt=Jt(l);if(".priority"===vt)Fe=c.filter.updatePriority(s.eventCache.getNode(),f),de=P(s,Fe,Q.isFullyInitialized(),Q.isFiltered());else{const Ft=Qn(l),an=Q.getNode().getImmediateChild(vt);let Sn;if(fr(Ft))Sn=f;else{const Br=wt.getCompleteChild(vt);Sn=null!=Br?".priority"===jr(Ft)&&Br.getChild(ni(Ft)).isEmpty()?Br:Br.updateChild(Ft,f):ur.EMPTY_NODE}de=an.equals(Sn)?s:P(s,c.filter.updateChild(Q.getNode(),vt,Sn,Ft,wt,k),Q.isFullyInitialized(),c.filter.filtersNodes())}}return de}function Mc(c,s){return c.eventCache.isCompleteForChild(s)}function bo(c,s,l){return l.foreach((f,y)=>{s=s.updateChild(f,y)}),s}function hu(c,s,l,f,y,T,k,Q){if(s.serverCache.getNode().isEmpty()&&!s.serverCache.isFullyInitialized())return s;let Fe,de=s;Fe=fr(l)?f:new $t(null).setTree(l,f);const wt=s.serverCache.getNode();return Fe.children.inorderTraversal((vt,Ft)=>{if(wt.hasChild(vt)){const Sn=bo(0,s.serverCache.getNode().getImmediateChild(vt),Ft);de=xc(c,de,new Et(vt),Sn,y,T,k,Q)}}),Fe.children.inorderTraversal((vt,Ft)=>{const an=!s.serverCache.isCompleteForChild(vt)&&null===Ft.value;if(!wt.hasChild(vt)&&!an){const Br=bo(0,s.serverCache.getNode().getImmediateChild(vt),Ft);de=xc(c,de,new Et(vt),Br,y,T,k,Q)}}),de}class Rc{constructor(s,l){this.query_=s,this.eventRegistrations_=[];const f=this.query_._queryParams,y=new su(f.getIndex()),T=function Tt(c){return c.loadsAllData()?new su(c.getIndex()):c.hasLimit()?new Ma(c):new Ko(c)}(f);this.processor_=function ff(c){return{filter:c}}(T);const k=l.serverCache,Q=l.eventCache,de=y.updateFullNode(ur.EMPTY_NODE,k.getNode(),null),Fe=T.updateFullNode(ur.EMPTY_NODE,Q.getNode(),null),wt=new I(de,k.isFullyInitialized(),y.filtersNodes()),vt=new I(Fe,Q.isFullyInitialized(),T.filtersNodes());this.viewCache_=Ht(vt,wt),this.eventGenerator_=new F(this.query_)}get query(){return this.query_}}function Gg(c,s){const l=Ae(c.viewCache_);return l&&(c.query._queryParams.loadsAllData()||!fr(s)&&!l.getImmediateChild(Jt(s)).isEmpty())?l.getChild(s):null}function mf(c){return 0===c.eventRegistrations_.length}function vp(c,s,l){const f=[];if(l){re(null==s,"A cancel should cancel all event registrations.");const y=c.query._path;c.eventRegistrations_.forEach(T=>{const k=T.createCancelEvent(l,y);k&&f.push(k)})}if(s){let y=[];for(let T=0;T<c.eventRegistrations_.length;++T){const k=c.eventRegistrations_[T];if(k.matches(s)){if(s.hasAnyCallback()){y=y.concat(c.eventRegistrations_.slice(T+1));break}}else y.push(k)}c.eventRegistrations_=y}else c.eventRegistrations_=[];return f}function ka(c,s,l,f){s.type===Ki.MERGE&&null!==s.source.queryId&&(re(Ae(c.viewCache_),"We should always have a full cache before handling merges"),re(te(c.viewCache_),"Missing event cache, even though we have a server cache"));const y=c.viewCache_,T=function cu(c,s,l,f,y){const T=new _a;let k,Q;if(l.type===Ki.OVERWRITE){const Fe=l;Fe.source.fromUser?k=uu(c,s,Fe.path,Fe.snap,f,y,T):(re(Fe.source.fromServer,"Unknown source."),Q=Fe.source.tagged||s.serverCache.isFiltered()&&!fr(Fe.path),k=xc(c,s,Fe.path,Fe.snap,f,y,Q,T))}else if(l.type===Ki.MERGE){const Fe=l;Fe.source.fromUser?k=function du(c,s,l,f,y,T,k){let Q=s;return f.foreach((de,Fe)=>{const wt=gr(l,de);Mc(s,Jt(wt))&&(Q=uu(c,Q,wt,Fe,y,T,k))}),f.foreach((de,Fe)=>{const wt=gr(l,de);Mc(s,Jt(wt))||(Q=uu(c,Q,wt,Fe,y,T,k))}),Q}(c,s,Fe.path,Fe.children,f,y,T):(re(Fe.source.fromServer,"Unknown source."),Q=Fe.source.tagged||s.serverCache.isFiltered(),k=hu(c,s,Fe.path,Fe.children,f,y,Q,T))}else if(l.type===Ki.ACK_USER_WRITE){const Fe=l;k=Fe.revert?function Na(c,s,l,f,y,T){let k;if(null!=lu(f,l))return s;{const Q=new yd(f,s,y),de=s.eventCache.getNode();let Fe;if(fr(l)||".priority"===Jt(l)){let wt;if(s.serverCache.isFullyInitialized())wt=gd(f,Ae(s));else{const vt=s.serverCache.getNode();re(vt instanceof ur,"serverChildren would be complete if leaf node"),wt=md(f,vt)}Fe=c.filter.updateFullNode(de,wt,T)}else{const wt=Jt(l);let vt=Bu(f,wt,s.serverCache);null==vt&&s.serverCache.isCompleteForChild(wt)&&(vt=de.getImmediateChild(wt)),Fe=null!=vt?c.filter.updateChild(de,wt,vt,Qn(l),Q,T):s.eventCache.getNode().hasChild(wt)?c.filter.updateChild(de,wt,ur.EMPTY_NODE,Qn(l),Q,T):de,Fe.isEmpty()&&s.serverCache.isFullyInitialized()&&(k=gd(f,Ae(s)),k.isLeafNode()&&(Fe=c.filter.updateFullNode(Fe,k,T)))}return k=s.serverCache.isFullyInitialized()||null!=lu(f,At()),P(s,Fe,k,c.filter.filtersNodes())}}(c,s,Fe.path,f,y,T):function fu(c,s,l,f,y,T,k){if(null!=lu(y,l))return s;const Q=s.serverCache.isFiltered(),de=s.serverCache;if(null!=f.value){if(fr(l)&&de.isFullyInitialized()||de.isCompleteForPath(l))return xc(c,s,l,de.getNode().getChild(l),y,T,Q,k);if(fr(l)){let Fe=new $t(null);return de.getNode().forEachChild(Pi,(wt,vt)=>{Fe=Fe.set(new Et(wt),vt)}),hu(c,s,l,Fe,y,T,Q,k)}return s}{let Fe=new $t(null);return f.foreach((wt,vt)=>{const Ft=gr(l,wt);de.isCompleteForPath(Ft)&&(Fe=Fe.set(wt,de.getNode().getChild(Ft)))}),hu(c,s,l,Fe,y,T,Q,k)}}(c,s,Fe.path,Fe.affectedTree,f,y,T)}else{if(l.type!==Ki.LISTEN_COMPLETE)throw be("Unknown operation type: "+l.type);k=function pf(c,s,l,f,y){const T=s.serverCache;return vd(c,j(s,T.getNode(),T.isFullyInitialized()||fr(l),T.isFiltered()),l,f,Ac,y)}(c,s,l.path,f,T)}const de=T.getChanges();return function ac(c,s,l){const f=s.eventCache;if(f.isFullyInitialized()){const y=f.getNode().isLeafNode()||f.getNode().isEmpty(),T=te(c);(l.length>0||!c.eventCache.isFullyInitialized()||y&&!f.getNode().equals(T)||!f.getNode().getPriority().equals(T.getPriority()))&&l.push($l(te(s)))}}(s,k,de),{viewCache:k,changes:de}}(c.processor_,y,s,l,f);return function oc(c,s){re(s.eventCache.getNode().isIndexed(c.filter.getIndex()),"Event snap not indexed"),re(s.serverCache.getNode().isIndexed(c.filter.getIndex()),"Server snap not indexed")}(c.processor_,T.viewCache),re(T.viewCache.serverCache.isFullyInitialized()||!y.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),c.viewCache_=T.viewCache,yf(c,T.changes,T.viewCache.eventCache.getNode(),null)}function yf(c,s,l,f){return function G(c,s,l,f){const y=[],T=[];return s.forEach(k=>{"child_changed"===k.type&&c.index_.indexedValueChanged(k.oldSnap,k.snapshotNode)&&T.push(function Tc(c,s){return{type:"child_moved",snapshotNode:s,childName:c}}(k.childName,k.snapshotNode))}),le(c,y,"child_removed",s,f,l),le(c,y,"child_added",s,f,l),le(c,y,"child_moved",T,f,l),le(c,y,"child_changed",s,f,l),le(c,y,"value",s,f,l),y}(c.eventGenerator_,s,l,f?[f]:c.eventRegistrations_)}let Pc,pu;class Oc{constructor(){this.views=new Map}}function Il(c,s,l,f){const y=s.source.queryId;if(null!==y){const T=c.views.get(y);return re(null!=T,"SyncTree gave us an op for an invalid query."),ka(T,s,l,f)}{let T=[];for(const k of c.views.values())T=T.concat(ka(k,s,l,f));return T}}function lc(c,s,l,f,y){const k=c.views.get(s._queryIdentifier);if(!k){let Q=gd(l,y?f:null),de=!1;Q?de=!0:f instanceof ur?(Q=md(l,f),de=!1):(Q=ur.EMPTY_NODE,de=!1);const Fe=Ht(new I(Q,de,!1),new I(f,y,!1));return new Rc(s,Fe)}return k}function $u(c){const s=[];for(const l of c.views.values())l.query._queryParams.loadsAllData()||s.push(l);return s}function Nc(c,s){let l=null;for(const f of c.views.values())l=l||Gg(f,s);return l}function wp(c,s){return s._queryParams.loadsAllData()?bl(c):c.views.get(s._queryIdentifier)}function es(c,s){return null!=wp(c,s)}function wa(c){return null!=bl(c)}function bl(c){for(const s of c.views.values())if(s.query._queryParams.loadsAllData())return s;return null}let uh=1;class Uu{constructor(s){this.listenProvider_=s,this.syncPointTree_=new $t(null),this.pendingWriteTree_=function Us(){return{visibleWrites:nn.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function cc(c,s,l,f,y){return function wl(c,s,l,f,y){re(f>c.lastWriteId,"Stacking an older write on top of newer ones"),void 0===y&&(y=!0),c.allWrites.push({path:s,snap:l,writeId:f,visible:y}),y&&(c.visibleWrites=Yn(c.visibleWrites,s,l)),c.lastWriteId=f}(c.pendingWriteTree_,s,l,f,y),y?kc(c,new S({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},s,l)):[]}function Ea(c,s,l=!1){const f=function us(c,s){for(let l=0;l<c.allWrites.length;l++){const f=c.allWrites[l];if(f.writeId===s)return f}return null}(c.pendingWriteTree_,s);if(function El(c,s){const l=c.allWrites.findIndex(Q=>Q.writeId===s);re(l>=0,"removeWrite called with nonexistent writeId.");const f=c.allWrites[l];c.allWrites.splice(l,1);let y=f.visible,T=!1,k=c.allWrites.length-1;for(;y&&k>=0;){const Q=c.allWrites[k];Q.visible&&(k>=l&&Ti(Q,f.path)?y=!1:Bi(f.path,Q.path)&&(T=!0)),k--}return!!y&&(T?(function ih(c){c.visibleWrites=Gl(c.allWrites,gp,At()),c.lastWriteId=c.allWrites.length>0?c.allWrites[c.allWrites.length-1].writeId:-1}(c),!0):(f.snap?c.visibleWrites=kr(c.visibleWrites,f.path):Kr(f.children,de=>{c.visibleWrites=kr(c.visibleWrites,gr(f.path,de))}),!0))}(c.pendingWriteTree_,s)){let T=new $t(null);return null!=f.snap?T=T.set(At(),!0):Kr(f.children,k=>{T=T.set(new Et(k),!0)}),kc(c,new Zo(f.path,T,l))}return[]}function Wl(c,s,l){return kc(c,new S({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},s,l))}function bs(c,s,l,f,y=!1){const T=s._path,k=c.syncPointTree_.get(T);let Q=[];if(k&&("default"===s._queryIdentifier||es(k,s))){const de=function Vu(c,s,l,f){const y=s._queryIdentifier,T=[];let k=[];const Q=wa(c);if("default"===y)for(const[de,Fe]of c.views.entries())k=k.concat(vp(Fe,l,f)),mf(Fe)&&(c.views.delete(de),Fe.query._queryParams.loadsAllData()||T.push(Fe.query));else{const de=c.views.get(y);de&&(k=k.concat(vp(de,l,f)),mf(de)&&(c.views.delete(y),de.query._queryParams.loadsAllData()||T.push(de.query)))}return Q&&!wa(c)&&T.push(new(function lh(){return re(Pc,"Reference.ts has not been loaded"),Pc}())(s._repo,s._path)),{removed:T,events:k}}(k,s,l,f);(function Oo(c){return 0===c.views.size})(k)&&(c.syncPointTree_=c.syncPointTree_.remove(T));const Fe=de.removed;if(Q=de.events,!y){const wt=-1!==Fe.findIndex(Ft=>Ft._queryParams.loadsAllData()),vt=c.syncPointTree_.findOnPath(T,(Ft,an)=>wa(an));if(wt&&!vt){const Ft=c.syncPointTree_.subtree(T);if(!Ft.isEmpty()){const an=function _f(c){return c.fold((s,l,f)=>{if(l&&wa(l))return[bl(l)];{let y=[];return l&&(y=$u(l)),Kr(f,(T,k)=>{y=y.concat(k)}),y}})}(Ft);for(let Sn=0;Sn<an.length;++Sn){const Br=an[Sn],Qr=Br.query,Ts=yu(c,Br);c.listenProvider_.startListening(Er(Qr),Hu(c,Qr),Ts.hashFn,Ts.onComplete)}}}!vt&&Fe.length>0&&!f&&(wt?c.listenProvider_.stopListening(Er(s),null):Fe.forEach(Ft=>{const an=c.queryToTagMap.get(Ia(Ft));c.listenProvider_.stopListening(Er(Ft),an)}))}!function Ep(c,s){for(let l=0;l<s.length;++l){const f=s[l];if(!f._queryParams.loadsAllData()){const y=Ia(f),T=c.queryToTagMap.get(y);c.queryToTagMap.delete(y),c.tagToQueryMap.delete(T)}}}(c,Fe)}return Q}function Hs(c,s,l,f){const y=Dl(c,f);if(null!=y){const T=nl(y),k=T.path,Q=T.queryId,de=ai(k,s);return ju(c,k,new S(Ja(Q),de,l))}return[]}function mu(c,s,l,f=!1){const y=s._path;let T=null,k=!1;c.syncPointTree_.foreachOnPath(y,(Ft,an)=>{const Sn=ai(Ft,y);T=T||Nc(an,Sn),k=k||wa(an)});let de,Q=c.syncPointTree_.get(y);Q?(k=k||wa(Q),T=T||Nc(Q,At())):(Q=new Oc,c.syncPointTree_=c.syncPointTree_.set(y,Q)),null!=T?de=!0:(de=!1,T=ur.EMPTY_NODE,c.syncPointTree_.subtree(y).foreachChild((an,Sn)=>{const Br=Nc(Sn,At());Br&&(T=T.updateImmediateChild(an,Br))}));const Fe=es(Q,s);if(!Fe&&!s._queryParams.loadsAllData()){const Ft=Ia(s);re(!c.queryToTagMap.has(Ft),"View does not exist, but we have a tag");const an=function Co(){return uh++}();c.queryToTagMap.set(Ft,an),c.tagToQueryMap.set(an,Ft)}let vt=function ch(c,s,l,f,y,T){const k=lc(c,s,f,y,T);return c.views.has(s._queryIdentifier)||c.views.set(s._queryIdentifier,k),function yp(c,s){c.eventRegistrations_.push(s)}(k,l),function _p(c,s){const l=c.viewCache_.eventCache,f=[];return l.getNode().isLeafNode()||l.getNode().forEachChild(Ci,(T,k)=>{f.push(Ka(T,k))}),l.isFullyInitialized()&&f.push($l(l.getNode())),yf(c,f,l.getNode(),s)}(k,l)}(Q,s,l,el(c.pendingWriteTree_,y),T,de);if(!Fe&&!k&&!f){const Ft=wp(Q,s);vt=vt.concat(function Tl(c,s,l){const f=s._path,y=Hu(c,s),T=yu(c,l),k=c.listenProvider_.startListening(Er(s),y,T.hashFn,T.onComplete),Q=c.syncPointTree_.subtree(f);if(y)re(!wa(Q.value),"If we're adding a query, it shouldn't be shadowed");else{const de=Q.fold((Fe,wt,vt)=>{if(!fr(Fe)&&wt&&wa(wt))return[bl(wt).query];{let Ft=[];return wt&&(Ft=Ft.concat($u(wt).map(an=>an.query))),Kr(vt,(an,Sn)=>{Ft=Ft.concat(Sn)}),Ft}});for(let Fe=0;Fe<de.length;++Fe){const wt=de[Fe];c.listenProvider_.stopListening(Er(wt),Hu(c,wt))}}return k}(c,s,Ft))}return vt}function Cl(c,s,l){const y=c.pendingWriteTree_,T=c.syncPointTree_.findOnPath(s,(k,Q)=>{const Fe=Nc(Q,ai(k,s));if(Fe)return Fe});return df(y,s,T,l,!0)}function kc(c,s){return Xo(s,c.syncPointTree_,null,el(c.pendingWriteTree_,At()))}function Xo(c,s,l,f){if(fr(c.path))return dh(c,s,l,f);{const y=s.get(At());null==l&&null!=y&&(l=Nc(y,At()));let T=[];const k=Jt(c.path),Q=c.operationForChild(k),de=s.children.get(k);if(de&&Q){const Fe=l?l.getImmediateChild(k):null,wt=hf(f,k);T=T.concat(Xo(Q,de,Fe,wt))}return y&&(T=T.concat(Il(y,c,f,l))),T}}function dh(c,s,l,f){const y=s.get(At());null==l&&null!=y&&(l=Nc(y,At()));let T=[];return s.children.inorderTraversal((k,Q)=>{const de=l?l.getImmediateChild(k):null,Fe=hf(f,k),wt=c.operationForChild(k);wt&&(T=T.concat(dh(wt,Q,de,Fe)))}),y&&(T=T.concat(Il(y,c,f,l))),T}function yu(c,s){const l=s.query,f=Hu(c,l);return{hashFn:()=>(function ah(c){return c.viewCache_.serverCache.getNode()}(s)||ur.EMPTY_NODE).hash(),onComplete:y=>{if("ok"===y)return f?function _d(c,s,l){const f=Dl(c,l);if(f){const y=nl(f),T=y.path,k=y.queryId,Q=ai(T,s);return ju(c,T,new gi(Ja(k),Q))}return[]}(c,l._path,f):function uc(c,s){return kc(c,new gi({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},s))}(c,l._path);{const T=function mo(c,s){let l="Unknown Error";"too_big"===c?l="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===c?l="Client doesn't have permission to access the desired data.":"unavailable"===c&&(l="The service is unavailable");const f=new Error(c+" at "+s._path.toString()+": "+l);return f.code=c.toUpperCase(),f}(y,l);return bs(c,l,null,T)}}}}function Hu(c,s){const l=Ia(s);return c.queryToTagMap.get(l)}function Ia(c){return c._path.toString()+"$"+c._queryIdentifier}function Dl(c,s){return c.tagToQueryMap.get(s)}function nl(c){const s=c.indexOf("$");return re(-1!==s&&s<c.length-1,"Bad queryKey."),{queryId:c.substr(s+1),path:new Et(c.substr(0,s))}}function ju(c,s,l){const f=c.syncPointTree_.get(s);return re(f,"Missing sync point for query tag that we're tracking"),Il(f,l,el(c.pendingWriteTree_,s),null)}function Er(c){return c._queryParams.loadsAllData()&&!c._queryParams.isDefault()?new(function gu(){return re(pu,"Reference.ts has not been loaded"),pu}())(c._repo,c._path):c}class Sl{constructor(s){this.node_=s}getImmediateChild(s){const l=this.node_.getImmediateChild(s);return new Sl(l)}node(){return this.node_}}class Gu{constructor(s,l){this.syncTree_=s,this.path_=l}getImmediateChild(s){const l=gr(this.path_,s);return new Gu(this.syncTree_,l)}node(){return Cl(this.syncTree_,this.path_)}}const Fc=function(c,s,l){return c&&"object"==typeof c?(re(".sv"in c,"Unexpected leaf node or priority contents"),"string"==typeof c[".sv"]?hh(c[".sv"],s,l):"object"==typeof c[".sv"]?fh(c[".sv"],s):void re(!1,"Unexpected server value: "+JSON.stringify(c,null,2))):c},hh=function(c,s,l){if("timestamp"===c)return l.timestamp;re(!1,"Unexpected server value: "+c)},fh=function(c,s,l){c.hasOwnProperty("increment")||re(!1,"Unexpected server value: "+JSON.stringify(c,null,2));const f=c.increment;"number"!=typeof f&&re(!1,"Unexpected increment value: "+f);const y=s.node();if(re(null!==y&&typeof y<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!y.isLeafNode())return f;const k=y.getValue();return"number"!=typeof k?f:k+f},Yl=function(c,s,l,f){return vu(s,new Gu(l,c),f)},rl=function(c,s,l){return vu(c,new Sl(s),l)};function vu(c,s,l){const f=c.getPriority().val(),y=Fc(f,s.getImmediateChild(".priority"),l);let T;if(c.isLeafNode()){const k=c,Q=Fc(k.getValue(),s,l);return Q!==k.getValue()||y!==k.getPriority().val()?new Zt(Q,pi(y)):c}{const k=c;return T=k,y!==k.getPriority().val()&&(T=T.updatePriority(new Zt(y))),k.forEachChild(Ci,(Q,de)=>{const Fe=vu(de,s.getImmediateChild(Q),l);Fe!==de&&(T=T.updateImmediateChild(Q,Fe))}),T}}class _u{constructor(s="",l=null,f={children:{},childCount:0}){this.name=s,this.parent=l,this.node=f}}function Ed(c,s){let l=s instanceof Et?s:new Et(s),f=c,y=Jt(l);for(;null!==y;){const T=ot(f.node.children,y)||{children:{},childCount:0};f=new _u(y,f,T),l=Qn(l),y=Jt(l)}return f}function ba(c){return c.node.value}function hc(c,s){c.node.value=s,il(c)}function js(c){return c.node.childCount>0}function Al(c,s){Kr(c.node.children,(l,f)=>{s(new _u(l,c,f))})}function ph(c,s,l,f){l&&!f&&s(c),Al(c,y=>{ph(y,s,!0,f)}),l&&f&&s(c)}function io(c){return new Et(null===c.parent?c.name:io(c.parent)+"/"+c.name)}function il(c){null!==c.parent&&function gh(c,s,l){const f=function Gs(c){return void 0===ba(c)&&!js(c)}(l),y=qn(c.node.children,s);f&&y?(delete c.node.children[s],c.node.childCount--,il(c)):!f&&!y&&(c.node.children[s]=l.node,c.node.childCount++,il(c))}(c.parent,c.name,c)}const zu=/[\[\].#$\/\u0000-\u001F\u007F]/,Id=/[\[\].#$\u0000-\u001F\u007F]/,bd=10485760,Lc=function(c){return"string"==typeof c&&0!==c.length&&!zu.test(c)},wf=function(c){return"string"==typeof c&&0!==c.length&&!Id.test(c)},C=function(c){return null===c||"string"==typeof c||"number"==typeof c&&!Dr(c)||c&&"object"==typeof c&&qn(c,".sv")},g=function(c,s,l,f){f&&void 0===s||_(hr(c,"value"),s,l)},_=function(c,s,l){const f=l instanceof Et?new Eo(l,c):l;if(void 0===s)throw new Error(c+"contains undefined "+no(f));if("function"==typeof s)throw new Error(c+"contains a function "+no(f)+" with contents = "+s.toString());if(Dr(s))throw new Error(c+"contains "+s.toString()+" "+no(f));if("string"==typeof s&&s.length>bd/3&&It(s)>bd)throw new Error(c+"contains a string greater than "+bd+" utf8 bytes "+no(f)+" ('"+s.substring(0,50)+"...')");if(s&&"object"==typeof s){let y=!1,T=!1;if(Kr(s,(k,Q)=>{if(".value"===k)y=!0;else if(".priority"!==k&&".sv"!==k&&(T=!0,!Lc(k)))throw new Error(c+" contains an invalid key ("+k+") "+no(f)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Ks(c,s){c.parts_.length>0&&(c.byteLength_+=1),c.parts_.push(s),c.byteLength_+=It(s),Wi(c)})(f,k),_(c,Q,f),function _s(c){const s=c.parts_.pop();c.byteLength_-=It(s),c.parts_.length>0&&(c.byteLength_-=1)}(f)}),y&&T)throw new Error(c+' contains ".value" child '+no(f)+" in addition to actual children.")}},q=function(c,s,l,f){if(f&&void 0===s)return;const y=hr(c,"values");if(!s||"object"!=typeof s||Array.isArray(s))throw new Error(y+" must be an object containing the children to replace.");const T=[];Kr(s,(k,Q)=>{const de=new Et(k);if(_(y,Q,gr(l,de)),".priority"===jr(de)&&!C(Q))throw new Error(y+"contains an invalid value for '"+de.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");T.push(de)}),function(c,s){let l,f;for(l=0;l<s.length;l++){f=s[l];const T=Ri(f);for(let k=0;k<T.length;k++)if((".priority"!==T[k]||k!==T.length-1)&&!Lc(T[k]))throw new Error(c+"contains an invalid key ("+T[k]+") in path "+f.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}s.sort(wo);let y=null;for(l=0;l<s.length;l++){if(f=s[l],null!==y&&Bi(y,f))throw new Error(c+"contains a path "+y.toString()+" that is ancestor of another path "+f.toString());y=f}}(y,T)},we=function(c,s,l){if(!l||void 0!==s){if(Dr(s))throw new Error(hr(c,"priority")+"is "+s.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!C(s))throw new Error(hr(c,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},dt=function(c,s,l,f){if(!(f&&void 0===l||Lc(l)))throw new Error(hr(c,s)+'was an invalid key = "'+l+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Bt=function(c,s,l,f){if(!(f&&void 0===l||wf(l)))throw new Error(hr(c,s)+'was an invalid path = "'+l+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},xn=function(c,s){if(".info"===Jt(s))throw new Error(c+" failed = Can't modify data under /.info/")},lr=function(c,s){const l=s.path.toString();if("string"!=typeof s.repoInfo.host||0===s.repoInfo.host.length||!Lc(s.repoInfo.namespace)&&"localhost"!==s.repoInfo.host.split(":")[0]||0!==l.length&&!function(c){return c&&(c=c.replace(/^\/*\.info(\/|$)/,"/")),wf(c)}(l))throw new Error(hr(c,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class rr{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ks(c,s){let l=null;for(let f=0;f<s.length;f++){const y=s[f],T=y.getPath();null!==l&&!to(T,l.path)&&(c.eventLists_.push(l),l=null),null===l&&(l={events:[],path:T}),l.events.push(y)}l&&c.eventLists_.push(l)}function La(c,s,l){ks(c,l),Wu(c,f=>to(f,s))}function Do(c,s,l){ks(c,l),Wu(c,f=>Bi(f,s)||Bi(s,f))}function Wu(c,s){c.recursionDepth_++;let l=!0;for(let f=0;f<c.eventLists_.length;f++){const y=c.eventLists_[f];y&&(s(y.path)?(so(c.eventLists_[f]),c.eventLists_[f]=null):l=!1)}l&&(c.eventLists_=[]),c.recursionDepth_--}function so(c){for(let s=0;s<c.events.length;s++){const l=c.events[s];if(null!==l){c.events[s]=null;const f=l.getEventRunner();Zn&&yt("event: "+l.toString()),ui(f)}}}const mh="repo_interrupt";class ua{constructor(s,l,f,y){this.repoInfo_=s,this.forceRestClient_=l,this.authTokenProvider_=f,this.appCheckProvider_=y,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new rr,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=cs(),this.transactionQueueTree_=new _u,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Yu(c){const l=c.infoData_.getNode(new Et(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+l}function xl(c){return function(c){return(c=c||{}).timestamp=c.timestamp||(new Date).getTime(),c}({timestamp:Yu(c)})}function bf(c,s,l,f,y){c.dataUpdateCount++;const T=new Et(s);l=c.interceptServerDataCallback_?c.interceptServerDataCallback_(s,l):l;let k=[];if(y)if(f){const de=Ze(l,Fe=>pi(Fe));k=function hi(c,s,l,f){const y=Dl(c,f);if(y){const T=nl(y),k=T.path,Q=T.queryId,de=ai(k,s),Fe=$t.fromObject(l);return ju(c,k,new A(Ja(Q),de,Fe))}return[]}(c.serverSyncTree_,T,de,y)}else{const de=pi(l);k=Hs(c.serverSyncTree_,T,de,y)}else if(f){const de=Ze(l,Fe=>pi(Fe));k=function vf(c,s,l){const f=$t.fromObject(l);return kc(c,new A({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},s,f))}(c.serverSyncTree_,T,de)}else{const de=pi(l);k=Wl(c.serverSyncTree_,T,de)}let Q=T;k.length>0&&(Q=pc(c,T)),Do(c.eventQueue_,Q,k)}function Ip(c,s){Df(c,"connected",s),!1===s&&function Wg(c){qu(c,"onDisconnectEvents");const s=xl(c),l=cs();Pa(c.onDisconnect_,At(),(y,T)=>{const k=Yl(y,T,c.serverSyncTree_,s);qo(l,y,k)});let f=[];Pa(l,At(),(y,T)=>{f=f.concat(Wl(c.serverSyncTree_,y,T));const k=Cd(c,y);pc(c,k)}),c.onDisconnect_=cs(),Do(c.eventQueue_,At(),f)}(c)}function Df(c,s,l){const f=new Et("/.info/"+s),y=pi(l);c.infoData_.updateSnapshot(f,y);const T=Wl(c.infoSyncTree_,f,y);Do(c.eventQueue_,f,T)}function bp(c){return c.nextWriteId_++}function Tf(c,s,l,f,y){qu(c,"set",{path:s.toString(),value:l,priority:f});const T=xl(c),k=pi(l,f),Q=Cl(c.serverSyncTree_,s),de=rl(k,Q,T),Fe=bp(c),wt=cc(c.serverSyncTree_,s,de,Fe,!0);ks(c.eventQueue_,wt),c.server_.put(s.toString(),k.val(!0),(Ft,an)=>{const Sn="ok"===Ft;Sn||kn("set at "+s+" failed: "+Ft);const Br=Ea(c.serverSyncTree_,Fe,!Sn);Do(c.eventQueue_,s,Br),fc(0,y,Ft,an)});const vt=Cd(c,s);pc(c,vt),Do(c.eventQueue_,vt,[])}function Yg(c,s,l){c.server_.onDisconnectCancel(s.toString(),(f,y)=>{"ok"===f&&Es(c.onDisconnect_,s),fc(0,l,f,y)})}function Dp(c,s,l,f){const y=pi(l);c.server_.onDisconnectPut(s.toString(),y.val(!0),(T,k)=>{"ok"===T&&qo(c.onDisconnect_,s,y),fc(0,f,T,k)})}function Ku(c,s,l){let f;f=".info"===Jt(s._path)?bs(c.infoSyncTree_,s,l):bs(c.serverSyncTree_,s,l),La(c.eventQueue_,s._path,f)}function Ap(c){c.persistentConnection_&&c.persistentConnection_.interrupt(mh)}function qu(c,...s){let l="";c.persistentConnection_&&(l=c.persistentConnection_.id+":"),yt(l,...s)}function fc(c,s,l,f){s&&ui(()=>{if("ok"===l)s(null);else{const y=(l||"error").toUpperCase();let T=y;f&&(T+=": "+f);const k=new Error(T);k.code=y,s(k)}})}function vh(c,s,l){return Cl(c.serverSyncTree_,s,l)||ur.EMPTY_NODE}function oo(c,s=c.transactionQueueTree_){if(s||_h(c,s),ba(s)){const l=Rp(c,s);re(l.length>0,"Sending zero length transaction queue"),l.every(y=>0===y.status)&&function xp(c,s,l){const f=l.map(Fe=>Fe.currentWriteId),y=vh(c,s,f);let T=y;const k=y.hash();for(let Fe=0;Fe<l.length;Fe++){const wt=l[Fe];re(0===wt.status,"tryToSendTransactionQueue_: items in queue should all be run."),wt.status=1,wt.retryCount++;const vt=ai(s,wt.path);T=T.updateChild(vt,wt.currentOutputSnapshotRaw)}const Q=T.val(!0),de=s;c.server_.put(de.toString(),Q,Fe=>{qu(c,"transaction put response",{path:de.toString(),status:Fe});let wt=[];if("ok"===Fe){const vt=[];for(let Ft=0;Ft<l.length;Ft++)l[Ft].status=2,wt=wt.concat(Ea(c.serverSyncTree_,l[Ft].currentWriteId)),l[Ft].onComplete&&vt.push(()=>l[Ft].onComplete(null,!0,l[Ft].currentOutputSnapshotResolved)),l[Ft].unwatcher();_h(c,Ed(c.transactionQueueTree_,s)),oo(c,c.transactionQueueTree_),Do(c.eventQueue_,s,wt);for(let Ft=0;Ft<vt.length;Ft++)ui(vt[Ft])}else{if("datastale"===Fe)for(let vt=0;vt<l.length;vt++)l[vt].status=3===l[vt].status?4:0;else{kn("transaction at "+de.toString()+" failed: "+Fe);for(let vt=0;vt<l.length;vt++)l[vt].status=4,l[vt].abortReason=Fe}pc(c,s)}},k)}(c,io(s),l)}else js(s)&&Al(s,l=>{oo(c,l)})}function pc(c,s){const l=Bc(c,s),f=io(l);return function Mp(c,s,l){if(0===s.length)return;const f=[];let y=[];const k=s.filter(Q=>0===Q.status).map(Q=>Q.currentWriteId);for(let Q=0;Q<s.length;Q++){const de=s[Q],Fe=ai(l,de.path);let vt,wt=!1;if(re(null!==Fe,"rerunTransactionsUnderNode_: relativePath should not be null."),4===de.status)wt=!0,vt=de.abortReason,y=y.concat(Ea(c.serverSyncTree_,de.currentWriteId,!0));else if(0===de.status)if(de.retryCount>=25)wt=!0,vt="maxretry",y=y.concat(Ea(c.serverSyncTree_,de.currentWriteId,!0));else{const Ft=vh(c,de.path,k);de.currentInputSnapshot=Ft;const an=s[Q].update(Ft.val());if(void 0!==an){_("transaction failed: Data returned ",an,de.path);let Sn=pi(an);"object"==typeof an&&null!=an&&qn(an,".priority")||(Sn=Sn.updatePriority(Ft.getPriority()));const Qr=de.currentWriteId,Ts=xl(c),lo=rl(Sn,Ft,Ts);de.currentOutputSnapshotRaw=Sn,de.currentOutputSnapshotResolved=lo,de.currentWriteId=bp(c),k.splice(k.indexOf(Qr),1),y=y.concat(cc(c.serverSyncTree_,de.path,lo,de.currentWriteId,de.applyLocally)),y=y.concat(Ea(c.serverSyncTree_,Qr,!0))}else wt=!0,vt="nodata",y=y.concat(Ea(c.serverSyncTree_,de.currentWriteId,!0))}Do(c.eventQueue_,l,y),y=[],wt&&(s[Q].status=2,setTimeout(s[Q].unwatcher,Math.floor(0)),s[Q].onComplete&&f.push("nodata"===vt?()=>s[Q].onComplete(null,!1,s[Q].currentInputSnapshot):()=>s[Q].onComplete(new Error(vt),!1,null)))}_h(c,c.transactionQueueTree_);for(let Q=0;Q<f.length;Q++)ui(f[Q]);oo(c,c.transactionQueueTree_)}(c,Rp(c,l),f),f}function Bc(c,s){let l,f=c.transactionQueueTree_;for(l=Jt(s);null!==l&&void 0===ba(f);)f=Ed(f,l),l=Jt(s=Qn(s));return f}function Rp(c,s){const l=[];return Pp(c,s,l),l.sort((f,y)=>f.order-y.order),l}function Pp(c,s,l){const f=ba(s);if(f)for(let y=0;y<f.length;y++)l.push(f[y]);Al(s,y=>{Pp(c,y,l)})}function _h(c,s){const l=ba(s);if(l){let f=0;for(let y=0;y<l.length;y++)2!==l[y].status&&(l[f]=l[y],f++);l.length=f,hc(s,l.length>0?l:void 0)}Al(s,f=>{_h(c,f)})}function Cd(c,s){const l=io(Bc(c,s)),f=Ed(c.transactionQueueTree_,s);return function Ca(c,s,l){let f=l?c:c.parent;for(;null!==f;){if(s(f))return!0;f=f.parent}}(f,y=>{zs(c,y)}),zs(c,f),ph(f,y=>{zs(c,y)}),l}function zs(c,s){const l=ba(s);if(l){const f=[];let y=[],T=-1;for(let k=0;k<l.length;k++)3===l[k].status||(1===l[k].status?(re(T===k-1,"All SENT items should be at beginning of queue."),T=k,l[k].status=3,l[k].abortReason="set"):(re(0===l[k].status,"Unexpected transaction status in abort"),l[k].unwatcher(),y=y.concat(Ea(c.serverSyncTree_,l[k].currentWriteId,!0)),l[k].onComplete&&f.push(l[k].onComplete.bind(null,new Error("set"),!1,null))));-1===T?hc(s,void 0):l.length=T+1,Do(c.eventQueue_,io(s),y);for(let k=0;k<f.length;k++)ui(f[k])}}const $c=function(c,s){const l=Jo(c),f=l.namespace;return"firebase.com"===l.domain&&mn(l.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!f||"undefined"===f)&&"localhost"!==l.domain&&mn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),l.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&kn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new ss(l.host,l.secure,f,"ws"===l.scheme||"wss"===l.scheme,s,"",f!==l.subdomain),path:new Et(l.pathString)}},Jo=function(c){let s="",l="",f="",y="",T="",k=!0,Q="https",de=443;if("string"==typeof c){let Fe=c.indexOf("//");Fe>=0&&(Q=c.substring(0,Fe-1),c=c.substring(Fe+2));let wt=c.indexOf("/");-1===wt&&(wt=c.length);let vt=c.indexOf("?");-1===vt&&(vt=c.length),s=c.substring(0,Math.min(wt,vt)),wt<vt&&(y=function Vc(c){let s="";const l=c.split("/");for(let f=0;f<l.length;f++)if(l[f].length>0){let y=l[f];try{y=decodeURIComponent(y.replace(/\+/g," "))}catch{}s+="/"+y}return s}(c.substring(wt,vt)));const Ft=function wu(c){const s={};"?"===c.charAt(0)&&(c=c.substring(1));for(const l of c.split("&")){if(0===l.length)continue;const f=l.split("=");2===f.length?s[decodeURIComponent(f[0])]=decodeURIComponent(f[1]):kn(`Invalid query segment '${l}' in query '${c}'`)}return s}(c.substring(Math.min(c.length,vt)));Fe=s.indexOf(":"),Fe>=0?(k="https"===Q||"wss"===Q,de=parseInt(s.substring(Fe+1),10)):Fe=s.length;const an=s.slice(0,Fe);if("localhost"===an.toLowerCase())l="localhost";else if(an.split(".").length<=2)l=an;else{const Sn=s.indexOf(".");f=s.substring(0,Sn).toLowerCase(),l=s.substring(Sn+1),T=f}"ns"in Ft&&(T=Ft.ns)}return{host:s,port:de,domain:l,subdomain:f,secure:k,scheme:Q,pathString:y,namespace:T}};class Eu{constructor(s,l,f,y){this.eventType=s,this.eventRegistration=l,this.snapshot=f,this.prevName=y}getPath(){const s=this.snapshot.ref;return"value"===this.eventType?s._path:s.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Kn(this.snapshot.exportVal())}}class Dd{constructor(s,l,f){this.eventRegistration=s,this.error=l,this.path=f}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Sf{constructor(s,l){this.snapshotCallback=s,this.cancelCallback=l}onValue(s,l){this.snapshotCallback.call(null,s,l)}onCancel(s){return re(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,s)}get hasCancelCallback(){return!!this.cancelCallback}matches(s){return this.snapshotCallback===s.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===s.snapshotCallback.userCallback&&this.snapshotCallback.context===s.snapshotCallback.context}}class Op{constructor(s,l){this._repo=s,this._path=l}cancel(){const s=new Lt;return Yg(this._repo,this._path,s.wrapCallback(()=>{})),s.promise}remove(){xn("OnDisconnect.remove",this._path);const s=new Lt;return Dp(this._repo,this._path,null,s.wrapCallback(()=>{})),s.promise}set(s){xn("OnDisconnect.set",this._path),g("OnDisconnect.set",s,this._path,!1);const l=new Lt;return Dp(this._repo,this._path,s,l.wrapCallback(()=>{})),l.promise}setWithPriority(s,l){xn("OnDisconnect.setWithPriority",this._path),g("OnDisconnect.setWithPriority",s,this._path,!1),we("OnDisconnect.setWithPriority",l,!1);const f=new Lt;return function Tp(c,s,l,f,y){const T=pi(l,f);c.server_.onDisconnectPut(s.toString(),T.val(!0),(k,Q)=>{"ok"===k&&qo(c.onDisconnect_,s,T),fc(0,y,k,Q)})}(this._repo,this._path,s,l,f.wrapCallback(()=>{})),f.promise}update(s){xn("OnDisconnect.update",this._path),q("OnDisconnect.update",s,this._path,!1);const l=new Lt;return function Qm(c,s,l,f){if(tt(l))return yt("onDisconnect().update() called with empty data.  Don't do anything."),void fc(0,f,"ok",void 0);c.server_.onDisconnectMerge(s.toString(),l,(y,T)=>{"ok"===y&&Kr(l,(k,Q)=>{const de=pi(Q);qo(c.onDisconnect_,gr(s,k),de)}),fc(0,f,y,T)})}(this._repo,this._path,s,l.wrapCallback(()=>{})),l.promise}}class Da{constructor(s,l,f,y){this._repo=s,this._path=l,this._queryParams=f,this._orderByCalled=y}get key(){return fr(this._path)?null:jr(this._path)}get ref(){return new ea(this._repo,this._path)}get _queryIdentifier(){const s=Ro(this._queryParams),l=Bs(s);return"{}"===l?"default":l}get _queryObject(){return Ro(this._queryParams)}isEqual(s){if(!((s=Yr(s))instanceof Da))return!1;const l=this._repo===s._repo,f=to(this._path,s._path);return l&&f&&this._queryIdentifier===s._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function $r(c){let s="";for(let l=c.pieceNum_;l<c.pieces_.length;l++)""!==c.pieces_[l]&&(s+="/"+encodeURIComponent(String(c.pieces_[l])));return s||"/"}(this._path)}}function wh(c,s){if(!0===c._orderByCalled)throw new Error(s+": You can't combine multiple orderBy calls.")}function gc(c){let s=null,l=null;if(c.hasStart()&&(s=c.getIndexStartValue()),c.hasEnd()&&(l=c.getIndexEndValue()),c.getIndex()===Pi){const f="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",y="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(c.hasStart()){if(c.getIndexStartName()!==ji)throw new Error(f);if("string"!=typeof s)throw new Error(y)}if(c.hasEnd()){if(c.getIndexEndName()!==Gi)throw new Error(f);if("string"!=typeof l)throw new Error(y)}}else if(c.getIndex()===Ci){if(null!=s&&!C(s)||null!=l&&!C(l))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(re(c.getIndex()instanceof pr||c.getIndex()===di,"unknown index type."),null!=s&&"object"==typeof s||null!=l&&"object"==typeof l)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Zu(c){if(c.hasStart()&&c.hasEnd()&&c.hasLimit()&&!c.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class ea extends Da{constructor(s,l){super(s,l,new qa,!1)}get parent(){const s=ni(this._path);return null===s?null:new ea(this._repo,s)}get root(){let s=this;for(;null!==s.parent;)s=s.parent;return s}}class sl{constructor(s,l,f){this._node=s,this.ref=l,this._index=f}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(s){const l=new Et(s),f=Qu(this.ref,s);return new sl(this._node.getChild(l),f,Ci)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(s){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(f,y)=>s(new sl(y,Qu(this.ref,f),Ci)))}hasChild(s){const l=new Et(s);return!this._node.getChild(l).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Kg(c,s){return(c=Yr(c))._checkNotDeleted("ref"),void 0!==s?Qu(c._root,s):c._root}function Np(c,s){(c=Yr(c))._checkNotDeleted("refFromURL");const l=$c(s,c._repo.repoInfo_.nodeAdmin);lr("refFromURL",l);const f=l.repoInfo;return!c._repo.repoInfo_.isCustomHost()&&f.host!==c._repo.repoInfo_.host&&mn("refFromURL: Host name does not match the current database: (found "+f.host+" but expected "+c._repo.repoInfo_.host+")"),Kg(c,l.path.toString())}function Qu(c,s){return null===Jt((c=Yr(c))._path)?(l=s,l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),Bt("child","path",l,!1)):Bt("child","path",s,!1),new ea(c._repo,gr(c._path,s));var l}function Uc(c,s){c=Yr(c),xn("set",c._path),g("set",s,c._path,!1);const l=new Lt;return Tf(c._repo,c._path,s,null,l.wrapCallback(()=>{})),l.promise}function qy(c,s){q("update",s,c._path,!1);const l=new Lt;return function Cp(c,s,l,f){qu(c,"update",{path:s.toString(),value:l});let y=!0;const T=xl(c),k={};if(Kr(l,(Q,de)=>{y=!1,k[Q]=Yl(gr(s,Q),pi(de),c.serverSyncTree_,T)}),y)yt("update() called with empty data.  Don't do anything."),fc(0,f,"ok",void 0);else{const Q=bp(c),de=function zl(c,s,l,f){!function tl(c,s,l,f){re(f>c.lastWriteId,"Stacking an older merge on top of newer ones"),c.allWrites.push({path:s,children:l,writeId:f,visible:!0}),c.visibleWrites=ar(c.visibleWrites,s,l),c.lastWriteId=f}(c.pendingWriteTree_,s,l,f);const y=$t.fromObject(l);return kc(c,new A({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},s,y))}(c.serverSyncTree_,s,k,Q);ks(c.eventQueue_,de),c.server_.merge(s.toString(),l,(Fe,wt)=>{const vt="ok"===Fe;vt||kn("update at "+s+" failed: "+Fe);const Ft=Ea(c.serverSyncTree_,Q,!vt),an=Ft.length>0?pc(c,s):s;Do(c.eventQueue_,an,Ft),fc(0,f,Fe,wt)}),Kr(l,Fe=>{const wt=Cd(c,gr(s,Fe));pc(c,wt)}),Do(c.eventQueue_,s,[])}}(c._repo,c._path,s,l.wrapCallback(()=>{})),l.promise}function qg(c){c=Yr(c);const s=new Sf(()=>{}),l=new Sd(s);return function Zm(c,s,l){const f=function dc(c,s){const l=s._path;let f=null;c.syncPointTree_.foreachOnPath(l,(Fe,wt)=>{const vt=ai(Fe,l);f=f||Nc(wt,vt)});let y=c.syncPointTree_.get(l);y?f=f||Nc(y,At()):(y=new Oc,c.syncPointTree_=c.syncPointTree_.set(l,y));const T=null!=f,k=T?new I(f,!0,!1):null;return function gf(c){return te(c.viewCache_)}(lc(y,s,el(c.pendingWriteTree_,s._path),T?k.getNode():ur.EMPTY_NODE,T))}(c.serverSyncTree_,s);return null!=f?Promise.resolve(f):c.server_.get(s).then(y=>{const T=pi(y).withIndex(s._queryParams.getIndex());let k;if(mu(c.serverSyncTree_,s,l,!0),s._queryParams.loadsAllData())k=Wl(c.serverSyncTree_,s._path,T);else{const Q=Hu(c.serverSyncTree_,s);k=Hs(c.serverSyncTree_,s._path,T,Q)}return Do(c.eventQueue_,s._path,k),bs(c.serverSyncTree_,s,l,null,!0),T},y=>(qu(c,"get for query "+Kn(s)+" failed: "+y),Promise.reject(new Error(y))))}(c._repo,c,l).then(f=>new sl(f,new ea(c._repo,c._path),c._queryParams.getIndex()))}class Sd{constructor(s){this.callbackContext=s}respondsTo(s){return"value"===s}createEvent(s,l){const f=l._queryParams.getIndex();return new Eu("value",this,new sl(s.snapshotNode,new ea(l._repo,l._path),f))}getEventRunner(s){return"cancel"===s.getEventType()?()=>this.callbackContext.onCancel(s.error):()=>this.callbackContext.onValue(s.snapshot,null)}createCancelEvent(s,l){return this.callbackContext.hasCancelCallback?new Dd(this,s,l):null}matches(s){return s instanceof Sd&&(!s.callbackContext||!this.callbackContext||s.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class da{constructor(s,l){this.eventType=s,this.callbackContext=l}respondsTo(s){let l="children_added"===s?"child_added":s;return l="children_removed"===l?"child_removed":l,this.eventType===l}createCancelEvent(s,l){return this.callbackContext.hasCancelCallback?new Dd(this,s,l):null}createEvent(s,l){re(null!=s.childName,"Child events should have a childName.");const f=Qu(new ea(l._repo,l._path),s.childName),y=l._queryParams.getIndex();return new Eu(s.type,this,new sl(s.snapshotNode,f,y),s.prevName)}getEventRunner(s){return"cancel"===s.getEventType()?()=>this.callbackContext.onCancel(s.error):()=>this.callbackContext.onValue(s.snapshot,s.prevName)}matches(s){return s instanceof da&&this.eventType===s.eventType&&(!this.callbackContext||!s.callbackContext||this.callbackContext.matches(s.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Ju(c,s,l,f,y){let T;if("object"==typeof f&&(T=void 0,y=f),"function"==typeof f&&(T=f),y&&y.onlyOnce){const de=l,Fe=(wt,vt)=>{Ku(c._repo,c,Q),de(wt,vt)};Fe.userCallback=l.userCallback,Fe.context=l.context,l=Fe}const k=new Sf(l,T||void 0),Q="value"===s?new Sd(k):new da(s,k);return function Sp(c,s,l){let f;f=".info"===Jt(s._path)?mu(c.infoSyncTree_,s,l):mu(c.serverSyncTree_,s,l),La(c.eventQueue_,s._path,f)}(c._repo,c,Q),()=>Ku(c._repo,c,Q)}function Ad(c,s,l,f){return Ju(c,"value",s,l,f)}function xd(c,s,l,f){return Ju(c,"child_added",s,l,f)}function Md(c,s,l,f){return Ju(c,"child_changed",s,l,f)}function Rd(c,s,l,f){return Ju(c,"child_moved",s,l,f)}function ed(c,s,l,f){return Ju(c,"child_removed",s,l,f)}function kp(c,s,l){let f=null;const y=l?new Sf(l):null;"value"===s?f=new Sd(y):s&&(f=new da(s,y)),Ku(c._repo,c,f)}class Fs{}class Eh extends Fs{constructor(s,l){super(),this._value=s,this._key=l}_apply(s){g("endAt",this._value,s._path,!0);const l=Ji(s._queryParams,this._value,this._key);if(Zu(l),gc(l),s._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Da(s._repo,s._path,l,s._orderByCalled)}}class Ih extends Fs{constructor(s,l){super(),this._value=s,this._key=l}_apply(s){g("endBefore",this._value,s._path,!1);const l=function Mo(c,s,l){let f,y;return c.index_===Pi?("string"==typeof s&&(s=Dc(s)),y=Ji(c,s,l)):(f=null==l?ji:Dc(l),y=Ji(c,s,f)),y.endBeforeSet_=!0,y}(s._queryParams,this._value,this._key);if(Zu(l),gc(l),s._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Da(s._repo,s._path,l,s._orderByCalled)}}class Ba extends Fs{constructor(s,l){super(),this._value=s,this._key=l}_apply(s){g("startAt",this._value,s._path,!0);const l=Ul(s._queryParams,this._value,this._key);if(Zu(l),gc(l),s._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Da(s._repo,s._path,l,s._orderByCalled)}}class Fp extends Fs{constructor(s,l){super(),this._value=s,this._key=l}_apply(s){g("startAfter",this._value,s._path,!1);const l=function Qa(c,s,l){let f;if(c.index_===Pi)"string"==typeof s&&(s=oi(s)),f=Ul(c,s,l);else{let y;y=null==l?Gi:oi(l),f=Ul(c,s,y)}return f.startAfterSet_=!0,f}(s._queryParams,this._value,this._key);if(Zu(l),gc(l),s._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Da(s._repo,s._path,l,s._orderByCalled)}}class Lp extends Fs{constructor(s){super(),this._limit=s}_apply(s){if(s._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Da(s._repo,s._path,function Za(c,s){const l=c.copy();return l.limitSet_=!0,l.limit_=s,l.viewFrom_="l",l}(s._queryParams,this._limit),s._orderByCalled)}}class Zg extends Fs{constructor(s){super(),this._limit=s}_apply(s){if(s._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Da(s._repo,s._path,function ls(c,s){const l=c.copy();return l.limitSet_=!0,l.limit_=s,l.viewFrom_="r",l}(s._queryParams,this._limit),s._orderByCalled)}}class Qg extends Fs{constructor(s){super(),this._path=s}_apply(s){wh(s,"orderByChild");const l=new Et(this._path);if(fr(l))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const f=new pr(l),y=Io(s._queryParams,f);return gc(y),new Da(s._repo,s._path,y,!0)}}class ry extends Fs{_apply(s){wh(s,"orderByKey");const l=Io(s._queryParams,Pi);return gc(l),new Da(s._repo,s._path,l,!0)}}class Bp extends Fs{_apply(s){wh(s,"orderByPriority");const l=Io(s._queryParams,Ci);return gc(l),new Da(s._repo,s._path,l,!0)}}class Af extends Fs{_apply(s){wh(s,"orderByValue");const l=Io(s._queryParams,di);return gc(l),new Da(s._repo,s._path,l,!0)}}class Jg extends Fs{constructor(s,l){super(),this._value=s,this._key=l}_apply(s){if(g("equalTo",this._value,s._path,!1),s._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(s._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Eh(this._value,this._key)._apply(new Ba(this._value,this._key)._apply(s))}}function al(c,...s){let l=Yr(c);for(const f of s)l=f._apply(l);return l}(function Fa(c){re(!Pc,"__referenceConstructor has already been defined"),Pc=c})(ea),function zg(c){re(!pu,"__referenceConstructor has already been defined"),pu=c}(ea);const Cu={};function sy(c,s,l,f,y){let T=f||c.options.databaseURL;void 0===T&&(c.options.projectId||mn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),yt("Using default host for project ",c.options.projectId),T=`${c.options.projectId}-default-rtdb.firebaseio.com`);let de,Fe,k=$c(T,y),Q=k.repoInfo;typeof process<"u"&&process.env&&(Fe=process.env.FIREBASE_DATABASE_EMULATOR_HOST),Fe?(de=!0,T=`http://${Fe}?ns=${Q.namespace}`,k=$c(T,y),Q=k.repoInfo):de=!k.repoInfo.secure;const wt=y&&de?new Li(Li.OWNER):new ra(c.name,c.options,s);lr("Invalid Firebase Database URL",k),fr(k.path)||mn("Database URL must point to the root of a Firebase Database (not including a child path).");const vt=function oy(c,s,l,f){let y=Cu[s.name];y||(y={},Cu[s.name]=y);let T=y[c.toURLString()];return T&&mn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),T=new ua(c,false,l,f),y[c.toURLString()]=T,T}(Q,c,wt,new zi(c.name,l));return new Mf(vt,c)}class Mf{constructor(s,l){this._repoInternal=s,this.app=l,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function If(c,s,l){if(c.stats_=Vn(c.repoInfo_),c.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)c.server_=new Xa(c.repoInfo_,(f,y,T,k)=>{bf(c,f,y,T,k)},c.authTokenProvider_,c.appCheckProvider_),setTimeout(()=>Ip(c,!0),0);else{if(typeof l<"u"&&null!==l){if("object"!=typeof l)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Kn(l)}catch(f){throw new Error("Invalid authOverride provided: "+f)}}c.persistentConnection_=new Go(c.repoInfo_,s,(f,y,T,k)=>{bf(c,f,y,T,k)},f=>{Ip(c,f)},f=>{!function Cf(c,s){Kr(s,(l,f)=>{Df(c,l,f)})}(c,f)},c.authTokenProvider_,c.appCheckProvider_,l),c.server_=c.persistentConnection_}c.authTokenProvider_.addTokenChangeListener(f=>{c.server_.refreshAuthToken(f)}),c.appCheckProvider_.addTokenChangeListener(f=>{c.server_.refreshAppCheckToken(f.token)}),c.statsReporter_=function yo(c,s){const l=c.toString();return Hr[l]||(Hr[l]=s()),Hr[l]}(c.repoInfo_,()=>new Hl(c.stats_,c.server_)),c.infoData_=new ou,c.infoSyncTree_=new Uu({startListening:(f,y,T,k)=>{let Q=[];const de=c.infoData_.getNode(f._path);return de.isEmpty()||(Q=Wl(c.infoSyncTree_,f._path,de),setTimeout(()=>{k("ok")},0)),Q},stopListening:()=>{}}),Df(c,"connected",!1),c.serverSyncTree_=new Uu({startListening:(f,y,T,k)=>(c.server_.listen(f,T,y,(Q,de)=>{const Fe=k(Q,de);Do(c.eventQueue_,f._path,Fe)}),[]),stopListening:(f,y)=>{c.server_.unlisten(f,y)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ea(this._repo,At())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Ch(c,s){const l=Cu[s];(!l||l[c.key]!==c)&&mn(`Database ${s}(${c.repoInfo_}) has already been deleted.`),Ap(c),delete l[c.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(s){null===this._rootInternal&&mn("Cannot call "+s+" on a deleted database.")}}function fo(){vi.IS_TRANSPORT_INITIALIZED&&kn("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Vp(){fo(),N.forceDisallow()}function rm(){fo(),qr.forceDisallow(),N.forceAllow()}function Dh(c,s){at(c,s)}const Nd={".sv":"timestamp"};class Th{constructor(s,l){this.committed=s,this.snapshot=l}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Go.prototype.simpleListen=function(c,s){this.sendRequest("q",{p:c},s)},Go.prototype.echo=function(c,s){this.sendRequest("echo",{d:c},s)},function jp(c){Pe(Pr.SDK_VERSION),(0,Pr._registerComponent)(new qi("database",(s,{instanceIdentifier:l})=>sy(s.getProvider("app").getImmediate(),s.getProvider("auth-internal"),s.getProvider("app-check-internal"),l),"PUBLIC").setMultipleInstances(!0)),(0,Pr.registerVersion)(De,"0.13.6",c),(0,Pr.registerVersion)(De,"0.13.6","esm2017")}();const Yp=new yi("@firebase/database-compat"),Kp=function(c){Yp.warn("FIREBASE WARNING: "+c)};class im{constructor(s){this._delegate=s}cancel(s){Dn("OnDisconnect.cancel",0,1,arguments.length),Ye("OnDisconnect.cancel","onComplete",s,!0);const l=this._delegate.cancel();return s&&l.then(()=>s(null),f=>s(f)),l}remove(s){Dn("OnDisconnect.remove",0,1,arguments.length),Ye("OnDisconnect.remove","onComplete",s,!0);const l=this._delegate.remove();return s&&l.then(()=>s(null),f=>s(f)),l}set(s,l){Dn("OnDisconnect.set",1,2,arguments.length),Ye("OnDisconnect.set","onComplete",l,!0);const f=this._delegate.set(s);return l&&f.then(()=>l(null),y=>l(y)),f}setWithPriority(s,l,f){Dn("OnDisconnect.setWithPriority",2,3,arguments.length),Ye("OnDisconnect.setWithPriority","onComplete",f,!0);const y=this._delegate.setWithPriority(s,l);return f&&y.then(()=>f(null),T=>f(T)),y}update(s,l){if(Dn("OnDisconnect.update",1,2,arguments.length),Array.isArray(s)){const y={};for(let T=0;T<s.length;++T)y[""+T]=s[T];s=y,Kp("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ye("OnDisconnect.update","onComplete",l,!0);const f=this._delegate.update(s);return l&&f.then(()=>l(null),y=>l(y)),f}}class Kl{constructor(s,l){this.committed=s,this.snapshot=l}toJSON(){return Dn("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Hc{constructor(s,l){this._database=s,this._delegate=l}val(){return Dn("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return Dn("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return Dn("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return Dn("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(s){return Dn("DataSnapshot.child",0,1,arguments.length),s=String(s),Bt("DataSnapshot.child","path",s,!1),new Hc(this._database,this._delegate.child(s))}hasChild(s){return Dn("DataSnapshot.hasChild",1,1,arguments.length),Bt("DataSnapshot.hasChild","path",s,!1),this._delegate.hasChild(s)}getPriority(){return Dn("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(s){return Dn("DataSnapshot.forEach",1,1,arguments.length),Ye("DataSnapshot.forEach","action",s,!1),this._delegate.forEach(l=>s(new Hc(this._database,l)))}hasChildren(){return Dn("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return Dn("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return Dn("DataSnapshot.ref",0,0,arguments.length),new ko(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class No{constructor(s,l){this.database=s,this._delegate=l}on(s,l,f,y){var T;Dn("Query.on",2,4,arguments.length),Ye("Query.on","callback",l,!1);const k=No.getCancelAndContextArgs_("Query.on",f,y),Q=(Fe,wt)=>{l.call(k.context,new Hc(this.database,Fe),wt)};Q.userCallback=l,Q.context=k.context;const de=null===(T=k.cancel)||void 0===T?void 0:T.bind(k.context);switch(s){case"value":return Ad(this._delegate,Q,de),l;case"child_added":return xd(this._delegate,Q,de),l;case"child_removed":return ed(this._delegate,Q,de),l;case"child_changed":return Md(this._delegate,Q,de),l;case"child_moved":return Rd(this._delegate,Q,de),l;default:throw new Error(hr("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(s,l,f){if(Dn("Query.off",0,3,arguments.length),function(c,s,l){if(void 0!==s)switch(s){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(hr("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,s),Ye("Query.off","callback",l,!0),We("Query.off","context",f,!0),l){const y=()=>{};y.userCallback=l,y.context=f,kp(this._delegate,s,y)}else kp(this._delegate,s)}get(){return qg(this._delegate).then(s=>new Hc(this.database,s))}once(s,l,f,y){Dn("Query.once",1,4,arguments.length),Ye("Query.once","callback",l,!0);const T=No.getCancelAndContextArgs_("Query.once",f,y),k=new Lt,Q=(Fe,wt)=>{const vt=new Hc(this.database,Fe);l&&l.call(T.context,vt,wt),k.resolve(vt)};Q.userCallback=l,Q.context=T.context;const de=Fe=>{T.cancel&&T.cancel.call(T.context,Fe),k.reject(Fe)};switch(s){case"value":Ad(this._delegate,Q,de,{onlyOnce:!0});break;case"child_added":xd(this._delegate,Q,de,{onlyOnce:!0});break;case"child_removed":ed(this._delegate,Q,de,{onlyOnce:!0});break;case"child_changed":Md(this._delegate,Q,de,{onlyOnce:!0});break;case"child_moved":Rd(this._delegate,Q,de,{onlyOnce:!0});break;default:throw new Error(hr("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return k.promise}limitToFirst(s){return Dn("Query.limitToFirst",1,1,arguments.length),new No(this.database,al(this._delegate,function Od(c){if("number"!=typeof c||Math.floor(c)!==c||c<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Lp(c)}(s)))}limitToLast(s){return Dn("Query.limitToLast",1,1,arguments.length),new No(this.database,al(this._delegate,function bu(c){if("number"!=typeof c||Math.floor(c)!==c||c<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Zg(c)}(s)))}orderByChild(s){return Dn("Query.orderByChild",1,1,arguments.length),new No(this.database,al(this._delegate,function ny(c){if("$key"===c)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===c)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===c)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Bt("orderByChild","path",c,!1),new Qg(c)}(s)))}orderByKey(){return Dn("Query.orderByKey",0,0,arguments.length),new No(this.database,al(this._delegate,function Xg(){return new ry}()))}orderByPriority(){return Dn("Query.orderByPriority",0,0,arguments.length),new No(this.database,al(this._delegate,function bh(){return new Bp}()))}orderByValue(){return Dn("Query.orderByValue",0,0,arguments.length),new No(this.database,al(this._delegate,function iy(){return new Af}()))}startAt(s=null,l){return Dn("Query.startAt",0,2,arguments.length),new No(this.database,al(this._delegate,function Iu(c=null,s){return dt("startAt","key",s,!0),new Ba(c,s)}(s,l)))}startAfter(s=null,l){return Dn("Query.startAfter",0,2,arguments.length),new No(this.database,al(this._delegate,function td(c,s){return dt("startAfter","key",s,!0),new Fp(c,s)}(s,l)))}endAt(s=null,l){return Dn("Query.endAt",0,2,arguments.length),new No(this.database,al(this._delegate,function Pd(c,s){return dt("endAt","key",s,!0),new Eh(c,s)}(s,l)))}endBefore(s=null,l){return Dn("Query.endBefore",0,2,arguments.length),new No(this.database,al(this._delegate,function ty(c,s){return dt("endBefore","key",s,!0),new Ih(c,s)}(s,l)))}equalTo(s,l){return Dn("Query.equalTo",1,2,arguments.length),new No(this.database,al(this._delegate,function em(c,s){return dt("equalTo","key",s,!0),new Jg(c,s)}(s,l)))}toString(){return Dn("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return Dn("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(s){if(Dn("Query.isEqual",1,1,arguments.length),!(s instanceof No))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(s._delegate)}static getCancelAndContextArgs_(s,l,f){const y={cancel:void 0,context:void 0};if(l&&f)y.cancel=l,Ye(s,"cancel",y.cancel,!0),y.context=f,We(s,"context",y.context,!0);else if(l)if("object"==typeof l&&null!==l)y.context=l;else{if("function"!=typeof l)throw new Error(hr(s,"cancelOrContext")+" must either be a cancel callback or a context object.");y.cancel=l}return y}get ref(){return new ko(this.database,new ea(this._delegate._repo,this._delegate._path))}}class ko extends No{constructor(s,l){super(s,new Da(l._repo,l._path,new qa,!1)),this.database=s,this._delegate=l}getKey(){return Dn("Reference.key",0,0,arguments.length),this._delegate.key}child(s){return Dn("Reference.child",1,1,arguments.length),"number"==typeof s&&(s=String(s)),new ko(this.database,Qu(this._delegate,s))}getParent(){Dn("Reference.parent",0,0,arguments.length);const s=this._delegate.parent;return s?new ko(this.database,s):null}getRoot(){return Dn("Reference.root",0,0,arguments.length),new ko(this.database,this._delegate.root)}set(s,l){Dn("Reference.set",1,2,arguments.length),Ye("Reference.set","onComplete",l,!0);const f=Uc(this._delegate,s);return l&&f.then(()=>l(null),y=>l(y)),f}update(s,l){if(Dn("Reference.update",1,2,arguments.length),Array.isArray(s)){const y={};for(let T=0;T<s.length;++T)y[""+T]=s[T];s=y,Kp("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}xn("Reference.update",this._delegate._path),Ye("Reference.update","onComplete",l,!0);const f=qy(this._delegate,s);return l&&f.then(()=>l(null),y=>l(y)),f}setWithPriority(s,l,f){Dn("Reference.setWithPriority",2,3,arguments.length),Ye("Reference.setWithPriority","onComplete",f,!0);const y=function ey(c,s,l){if(xn("setWithPriority",c._path),g("setWithPriority",s,c._path,!1),we("setWithPriority",l,!1),".length"===c.key||".keys"===c.key)throw"setWithPriority failed: "+c.key+" is a read-only object.";const f=new Lt;return Tf(c._repo,c._path,s,l,f.wrapCallback(()=>{})),f.promise}(this._delegate,s,l);return f&&y.then(()=>f(null),T=>f(T)),y}remove(s){Dn("Reference.remove",0,1,arguments.length),Ye("Reference.remove","onComplete",s,!0);const l=function ol(c){return xn("remove",c._path),Uc(c,null)}(this._delegate);return s&&l.then(()=>s(null),f=>s(f)),l}transaction(s,l,f){Dn("Reference.transaction",1,3,arguments.length),Ye("Reference.transaction","transactionUpdate",s,!1),Ye("Reference.transaction","onComplete",l,!0),function(c,s,l,f){if(void 0!==l&&"boolean"!=typeof l)throw new Error(hr("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,f);const y=function Of(c,s,l){var f;if(c=Yr(c),xn("Reference.transaction",c._path),".length"===c.key||".keys"===c.key)throw"Reference.transaction failed: "+c.key+" is a read-only object.";const y=null===(f=l?.applyLocally)||void 0===f||f,T=new Lt,Q=Ad(c,()=>{});return function Jm(c,s,l,f,y,T){qu(c,"transaction on "+s);const k={path:s,update:l,onComplete:f,status:null,order:Bn(),applyLocally:T,retryCount:0,unwatcher:y,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},Q=vh(c,s,void 0);k.currentInputSnapshot=Q;const de=k.update(Q.val());if(void 0===de)k.unwatcher(),k.currentOutputSnapshotRaw=null,k.currentOutputSnapshotResolved=null,k.onComplete&&k.onComplete(null,!1,k.currentInputSnapshot);else{_("transaction failed: Data returned ",de,k.path),k.status=0;const Fe=Ed(c.transactionQueueTree_,s),wt=ba(Fe)||[];let vt;wt.push(k),hc(Fe,wt),"object"==typeof de&&null!==de&&qn(de,".priority")?(vt=ot(de,".priority"),re(C(vt),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):vt=(Cl(c.serverSyncTree_,s)||ur.EMPTY_NODE).getPriority().val();const Ft=xl(c),an=pi(de,vt),Sn=rl(an,Q,Ft);k.currentOutputSnapshotRaw=an,k.currentOutputSnapshotResolved=Sn,k.currentWriteId=bp(c);const Br=cc(c.serverSyncTree_,s,Sn,k.currentWriteId,k.applyLocally);Do(c.eventQueue_,s,Br),oo(c,c.transactionQueueTree_)}}(c._repo,c._path,s,(de,Fe,wt)=>{let vt=null;de?T.reject(de):(vt=new sl(wt,new ea(c._repo,c._path),Ci),T.resolve(new Th(Fe,vt)))},Q,y),T.promise}(this._delegate,s,{applyLocally:f}).then(T=>new Kl(T.committed,new Hc(this.database,T.snapshot)));return l&&y.then(T=>l(null,T.committed,T.snapshot),T=>l(T,!1,null)),y}setPriority(s,l){Dn("Reference.setPriority",1,2,arguments.length),Ye("Reference.setPriority","onComplete",l,!0);const f=function Xu(c,s){c=Yr(c),xn("setPriority",c._path),we("setPriority",s,!1);const l=new Lt;return Tf(c._repo,gr(c._path,".priority"),s,null,l.wrapCallback(()=>{})),l.promise}(this._delegate,s);return l&&f.then(()=>l(null),y=>l(y)),f}push(s,l){Dn("Reference.push",0,2,arguments.length),Ye("Reference.push","onComplete",l,!0);const f=function Td(c,s){c=Yr(c),xn("push",c._path),g("push",s,c._path,!0);const l=Yu(c._repo),f=Ya(l),y=Qu(c,f),T=Qu(c,f);let k;return k=null!=s?Uc(T,s).then(()=>T):Promise.resolve(T),y.then=k.then.bind(k),y.catch=k.then.bind(k,void 0),y}(this._delegate,s),y=f.then(k=>new ko(this.database,k));l&&y.then(()=>l(null),k=>l(k));const T=new ko(this.database,f);return T.then=y.then.bind(y),T.catch=y.catch.bind(y,void 0),T}onDisconnect(){return xn("Reference.onDisconnect",this._delegate._path),new im(new Op(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class mc{constructor(s,l){this._delegate=s,this.app=l,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Vp,forceLongPolling:rm}}useEmulator(s,l,f={}){!function Rf(c,s,l,f={}){(c=Yr(c))._checkNotDeleted("useEmulator"),c._instanceStarted&&mn("Cannot call useEmulator() after instance has already been initialized.");const y=c._repoInternal;let T;if(y.repoInfo_.nodeAdmin)f.mockUserToken&&mn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),T=new Li(Li.OWNER);else if(f.mockUserToken){const k="string"==typeof f.mockUserToken?f.mockUserToken:function pn(c,s){if(c.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const f=s||"demo-project",y=c.iat||0,T=c.sub||c.user_id;if(!T)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const k=Object.assign({iss:`https://securetoken.google.com/${f}`,aud:f,iat:y,exp:y+3600,auth_time:y,sub:T,user_id:T,firebase:{sign_in_provider:"custom",identities:{}}},c);return[Ue(JSON.stringify({alg:"none",type:"JWT"})),Ue(JSON.stringify(k)),""].join(".")}(f.mockUserToken,c.app.options.projectId);T=new Li(k)}!function tm(c,s,l,f){c.repoInfo_=new ss(`${s}:${l}`,!1,c.repoInfo_.namespace,c.repoInfo_.webSocketOnly,c.repoInfo_.nodeAdmin,c.repoInfo_.persistenceKey,c.repoInfo_.includeNamespaceInQueryParams),f&&(c.authTokenProvider_=f)}(y,s,l,T)}(this._delegate,s,l,f)}ref(s){if(Dn("database.ref",0,1,arguments.length),s instanceof ko){const l=Np(this._delegate,s.toString());return new ko(this,l)}{const l=Kg(this._delegate,s);return new ko(this,l)}}refFromURL(s){Dn("database.refFromURL",1,1,arguments.length);const f=Np(this._delegate,s);return new ko(this,f)}goOffline(){return Dn("database.goOffline",0,0,arguments.length),function Up(c){(c=Yr(c))._checkNotDeleted("goOffline"),Ap(c._repo)}(this._delegate)}goOnline(){return Dn("database.goOnline",0,0,arguments.length),function Hp(c){(c=Yr(c))._checkNotDeleted("goOnline"),function Xm(c){c.persistentConnection_&&c.persistentConnection_.resume(mh)}(c._repo)}(this._delegate)}}mc.ServerValue={TIMESTAMP:function Gp(){return Nd}(),increment:c=>function Pf(c){return{".sv":{increment:c}}}(c)};var Ff=Object.freeze({__proto__:null,initStandalone:function qp({app:c,url:s,version:l,customAuthImpl:f,namespace:y,nodeAdmin:T=!1}){Pe(l);const k=new mr("auth-internal",new li("database-standalone"));return k.setComponent(new qi("auth-internal",()=>f,"PRIVATE")),{instance:new mc(sy(c,k,void 0,s,T),c),namespace:y}}});const Zp=mc.ServerValue;!function sm(c){c.INTERNAL.registerComponent(new qi("database-compat",(s,{instanceIdentifier:l})=>{const f=s.getProvider("app-compat").getImmediate(),y=s.getProvider("database").getImmediate({identifier:l});return new mc(y,f)},"PUBLIC").setServiceProps({Reference:ko,Query:No,Database:mc,DataSnapshot:Hc,enableLogging:Dh,INTERNAL:Ff,ServerValue:Zp}).setMultipleInstances(!0)),c.registerVersion("@firebase/database-compat","0.2.6")}(oe.Z);var yc=O(4941),om=O(440),Lr=O(127);function Bf(c){return null==c}function Qp(c){return"function"==typeof c.set}function Vf(c,s){return Qp(s)?s:c.ref(s)}function kd(c,s){if(function am(c){return"string"==typeof c}(c))return s.stringCase();if(Qp(c))return s.firebaseCase();if(function Lf(c){return"function"==typeof c.exportVal}(c))return s.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof c)}function jc(c,s,l="on",f=ie.z){return new ae.y(y=>{let T=null;return T=c[l](s,(k,Q)=>{f.schedule(()=>{y.next({snapshot:k,prevKey:Q})}),"once"===l&&f.schedule(()=>y.complete())},k=>{f.schedule(()=>y.error(k))}),"on"===l?{unsubscribe(){null!=T&&c.off(s,T)}}:{unsubscribe(){}}}).pipe((0,He.U)(y=>{const{snapshot:T,prevKey:k}=y;let Q=null;return T.exists()&&(Q=T.key),{type:s,payload:T,prevKey:k,key:Q}}),(0,Qe.B)())}function $f(c,s){const l=c.length;for(let f=0;f<l;f++)if(c[f].payload.key===s)return f;return-1}function lm(c,s){const{payload:l,prevKey:f,key:y}=s,T=$f(c,y),k=function Xp(c,s){if(Bf(s))return 0;{const l=$f(c,s);return-1===l?c.length:l+1}}(c,f);switch(s.type){case"value":if(s.payload&&s.payload.exists()){let Q=null;s.payload.forEach(de=>{const Fe={payload:de,type:"value",prevKey:Q,key:de.key};return Q=de.key,c=[...c,Fe],!1})}return c;case"child_added":if(T>-1){const Q=c[T-1];(Q&&Q.key||null)!==f&&(c=c.filter(de=>de.payload.key!==l.key)).splice(k,0,s)}else{if(null==f)return[s,...c];(c=c.slice()).splice(k,0,s)}return c;case"child_removed":return c.filter(Q=>Q.payload.key!==l.key);case"child_changed":return c.map(Q=>Q.payload.key===y?s:Q);case"child_moved":if(T>-1){const Q=c.splice(T,1)[0];return(c=c.slice()).splice(k,0,Q),c}return c;default:return c}}function Uf(c){return(Bf(c)||0===c.length)&&(c=["child_added","child_removed","child_changed","child_moved"]),c}function Jp(c,s,l){return function Sh(c,s,l){return jc(c,"value","once",l).pipe((0,Ve.w)(f=>{const y=[(0,ne.of)(f)];return s.forEach(T=>y.push(jc(c,T,"on",l))),(0,pe.T)(...y).pipe((0,ke.R)(lm,[]))}),(0,ze.x)())}(c,s=Uf(s),l)}function Gc(c,s,l){const f=(s=Uf(s)).map(y=>jc(c,y,"on",l));return(0,pe.T)(...f)}function ng(c,s){return function(f,y){return kd(f,{stringCase:()=>c.child(f)[s](y),firebaseCase:()=>f[s](y),snapshotCase:()=>f.ref[s](y)})}}function rg(c){return function(l){return l?kd(l,{stringCase:()=>c.child(l).remove(),firebaseCase:()=>l.remove(),snapshotCase:()=>l.ref.remove()}):c.remove()}}function ig(c,s){return function(){return jc(c,"value","on",s)}}const um=new X.OlP("angularfire2.realtimeDatabaseURL"),Qy=new X.OlP("angularfire2.database.use-emulator");let dm=(()=>{class c{constructor(l,f,y,T,k,Q,de,Fe,wt,vt,Ft,an,Sn,Br,Qr){this.schedulers=Q;const Ts=de,lo=(0,ce.on)(l,k,f);Fe&&(0,yc.nw)(lo,k,wt,Ft,an,Sn,vt,Br),this.database=(0,ce.cc)(`${lo.name}.database.${y}`,"AngularFireDatabase",lo.name,()=>{const ds=k.runOutsideAngular(()=>lo.database(y||void 0));return Ts&&ds.useEmulator(...Ts),ds},[Ts])}list(l,f){const y=this.schedulers.ngZone.runOutsideAngular(()=>Vf(this.database,l));let T=y;return f&&(T=f(y)),function Hf(c,s){const l=s.schedulers.outsideAngular,f=s.schedulers.ngZone.run(()=>c.ref);return{query:c,update:ng(f,"update"),set:ng(f,"set"),push:y=>f.push(y),remove:rg(f),snapshotChanges:y=>Jp(c,y,l).pipe(Ce.iC),stateChanges:y=>Gc(c,y,l).pipe(Ce.iC),auditTrail:y=>function ly(c,s,l){return function tg(c,s,l){return function eg(c,s){return jc(c,"value","on",s).pipe((0,He.U)(l=>{let f;return l.payload.forEach(y=>(f=y.key,!1)),{data:l,lastKeyToLoad:f}}))}(c,l).pipe(function Dt(...c){return s=>{let l;return"function"==typeof c[c.length-1]&&(l=c.pop()),s.lift(new bt(c,l))}}(s),(0,He.U)(([y,T])=>{const k=y.lastKeyToLoad,Q=T.map(de=>de.key);return{actions:T,lastKeyToLoad:k,loadedKeys:Q}}),function _t(c){return s=>s.lift(new Me(c))}(y=>-1===y.loadedKeys.indexOf(y.lastKeyToLoad)),(0,He.U)(y=>y.actions))}(c,Gc(c,s).pipe((0,ke.R)((y,T)=>[...y,T],[])),l)}(c,y,l).pipe(Ce.iC),valueChanges:(y,T)=>Jp(c,y,l).pipe((0,He.U)(Q=>Q.map(de=>T&&T.idField?Object.assign(Object.assign({},de.payload.val()),{[T.idField]:de.key}):de.payload.val())),Ce.iC)}}(T,this)}object(l){return function cm(c,s){return{query:c,snapshotChanges:()=>ig(c,s.schedulers.outsideAngular)().pipe(Ce.iC),update:l=>c.ref.update(l),set:l=>c.ref.set(l),remove:()=>c.ref.remove(),valueChanges:()=>ig(c,s.schedulers.outsideAngular)().pipe(Ce.iC,(0,He.U)(f=>f.payload.exists()?f.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Vf(this.database,l)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return c.\u0275fac=function(l){return new(l||c)(X.LFG(ce.Dh),X.LFG(ce.xv,8),X.LFG(um,8),X.LFG(X.Lbi),X.LFG(X.R0b),X.LFG(Ce.HU),X.LFG(Qy,8),X.LFG(yc.zQ,8),X.LFG(yc.Qv,8),X.LFG(yc.L6,8),X.LFG(yc._Q,8),X.LFG(yc.rT,8),X.LFG(yc.lh,8),X.LFG(yc.f7,8),X.LFG(om.nm,8))},c.\u0275prov=X.Yz7({token:c,factory:c.\u0275fac,providedIn:"any"}),c})(),Fd=(()=>{class c{constructor(){Lr.Z.registerVersion("angularfire",Ce.q4.full,"rtdb-compat")}}return c.\u0275fac=function(l){return new(l||c)},c.\u0275mod=X.oAB({type:c}),c.\u0275inj=X.cJS({providers:[dm]}),c})();var hm=O(8960);let Ld=(()=>{class c{constructor(l,f,y,T,k,Q){this.router=l,this.platform=f,this.splashScreen=y,this.aFire=T,this.aDb=k,this.appVersion=Q,this.appVersions=this.appVersion.getVersionNumber()}ngAfterViewInit(){this.initializeApp()}initializeApp(){var l=this;this.platform.ready().then((0,Ne.Z)(function*(){try{l.splashScreen.hide()}catch(f){console.log(f)}}))}callFirebaseTest(){var l=this;return(0,Ne.Z)(function*(){console.log("Firebase call"),yield l.aFire.collection("users").snapshotChanges().subscribe(T=>{let k=T.map(Q=>({id:Q.payload.doc.id,name:Q.payload.doc.data().name}));console.log("Data"),console.log(k)})})()}}return c.\u0275fac=function(l){return new(l||c)(X.Y36(W.F0),X.Y36(Be.t4),X.Y36(ve),X.Y36(Ee.ST),X.Y36(dm),X.Y36(hm.b))},c.\u0275cmp=X.Xpm({type:c,selectors:[["app-root"]],decls:2,vars:0,template:function(l,f){1&l&&(X.TgZ(0,"ion-app"),X._UZ(1,"ion-router-outlet"),X.qZA())},dependencies:[Be.dr,Be.jP]}),c})();const Bd=[{path:"home",loadChildren:()=>O.e(4851).then(O.bind(O,4851)).then(c=>c.HomePageModule)},{path:"",redirectTo:"login",pathMatch:"full"},{path:"intro",loadChildren:()=>O.e(2944).then(O.bind(O,2944)).then(c=>c.IntroPageModule)},{path:"login",loadChildren:()=>O.e(4987).then(O.bind(O,4987)).then(c=>c.LoginPageModule)},{path:"register",loadChildren:()=>Promise.all([O.e(8592),O.e(7826)]).then(O.bind(O,7826)).then(c=>c.RegisterPageModule)},{path:"addmember",loadChildren:()=>O.e(7141).then(O.bind(O,7141)).then(c=>c.AddmemberPageModule)},{path:"userprofile",loadChildren:()=>Promise.all([O.e(8592),O.e(9969)]).then(O.bind(O,9969)).then(c=>c.UserprofilePageModule)},{path:"managemember",loadChildren:()=>O.e(4639).then(O.bind(O,4639)).then(c=>c.ManagememberPageModule)},{path:"salesdata",loadChildren:()=>O.e(2531).then(O.bind(O,2531)).then(c=>c.SalesdataPageModule)},{path:"contacts",loadChildren:()=>Promise.resolve().then(O.bind(O,238)).then(c=>c.ContactsPageModule)},{path:"loginwithpin",loadChildren:()=>O.e(9282).then(O.bind(O,9282)).then(c=>c.LoginwithpinPageModule)},{path:"addbusiness",loadChildren:()=>O.e(6987).then(O.bind(O,6987)).then(c=>c.AddbusinessPageModule)},{path:"dashboard",loadChildren:()=>Promise.all([O.e(8592),O.e(6326)]).then(O.bind(O,6326)).then(c=>c.DashboardPageModule)},{path:"payoutgrid",loadChildren:()=>Promise.all([O.e(8592),O.e(7144)]).then(O.bind(O,7144)).then(c=>c.PayoutgridPageModule)},{path:"lampoffers",loadChildren:()=>Promise.all([O.e(8592),O.e(2515)]).then(O.bind(O,2515)).then(c=>c.LampoffersPageModule)},{path:"forgotpassword",loadChildren:()=>O.e(3584).then(O.bind(O,3584)).then(c=>c.ForgotpasswordPageModule)},{path:"totalcases",loadChildren:()=>Promise.all([O.e(8592),O.e(9789)]).then(O.bind(O,9789)).then(c=>c.TotalcasesPageModule)},{path:"invalidcases",loadChildren:()=>Promise.all([O.e(8592),O.e(7511)]).then(O.bind(O,7511)).then(c=>c.InvalidcasesPageModule)},{path:"admin",loadChildren:()=>Promise.all([O.e(8592),O.e(3015)]).then(O.bind(O,3015)).then(c=>c.AdminPageModule)},{path:"adminlogin",loadChildren:()=>O.e(4850).then(O.bind(O,1832)).then(c=>c.AdminloginPageModule)},{path:"adminpendingagents",loadChildren:()=>Promise.all([O.e(8592),O.e(6815)]).then(O.bind(O,6815)).then(c=>c.AdminpendingagentsPageModule)},{path:"adminpendingbusiness",loadChildren:()=>Promise.all([O.e(8592),O.e(9662)]).then(O.bind(O,9662)).then(c=>c.AdminpendingbusinessPageModule)},{path:"adminmonthlypayouts",loadChildren:()=>Promise.all([O.e(8592),O.e(9865)]).then(O.bind(O,9865)).then(c=>c.AdminmonthlypayoutsPageModule)},{path:"adminpayoutsetting",loadChildren:()=>O.e(2276).then(O.bind(O,2276)).then(c=>c.AdminpayoutsettingPageModule)},{path:"addbank",loadChildren:()=>O.e(3361).then(O.bind(O,3361)).then(c=>c.AddbankPageModule)},{path:"viewmemberlist",loadChildren:()=>Promise.all([O.e(8592),O.e(1059)]).then(O.bind(O,2822)).then(c=>c.ViewmemberlistPageModule)},{path:"viewbusinesslist",loadChildren:()=>O.e(8554).then(O.bind(O,8554)).then(c=>c.ViewbusinesslistPageModule)},{path:"adminbusinessedit",loadChildren:()=>O.e(7196).then(O.bind(O,7196)).then(c=>c.AdminbusinesseditPageModule)},{path:"adminuploadpayoutgrid",loadChildren:()=>Promise.all([O.e(8592),O.e(8039)]).then(O.bind(O,8039)).then(c=>c.AdminuploadpayoutgridPageModule)},{path:"viewimage",loadChildren:()=>Promise.all([O.e(8592),O.e(7795)]).then(O.bind(O,7795)).then(c=>c.ViewimagePageModule)},{path:"adminuploadlampoffer",loadChildren:()=>Promise.all([O.e(8592),O.e(3225)]).then(O.bind(O,3225)).then(c=>c.AdminuploadlampofferPageModule)},{path:"adminmanagemember",loadChildren:()=>O.e(1383).then(O.bind(O,1383)).then(c=>c.AdminmanagememberPageModule)},{path:"memberedit",loadChildren:()=>O.e(258).then(O.bind(O,258)).then(c=>c.MembereditPageModule)},{path:"payoutallbusiness",loadChildren:()=>O.e(7378).then(O.bind(O,7378)).then(c=>c.PayoutallbusinessPageModule)}];let Vd=(()=>{class c{}return c.\u0275fac=function(l){return new(l||c)},c.\u0275mod=X.oAB({type:c}),c.\u0275inj=X.cJS({imports:[W.Bz.forRoot(Bd,{preloadingStrategy:W.wm}),W.Bz]}),c})();var nd=O(5254);class Ah{constructor(s,l){this.dueTime=s,this.scheduler=l}call(s,l){return l.subscribe(new sg(s,this.dueTime,this.scheduler))}}class sg extends rt.L{constructor(s,l,f){super(s),this.dueTime=l,this.scheduler=f,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(s){this.clearDebounce(),this.lastValue=s,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(fm,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:s}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(s)}}clearDebounce(){const s=this.debouncedSubscription;null!==s&&(this.remove(s),s.unsubscribe(),this.debouncedSubscription=null)}}function fm(c){c.debouncedNext()}var Ml=O(2090),xh=O(4859);const zc="firebasestorage.googleapis.com",Gf="storageBucket";class ao extends Ml.ZR{constructor(s,l){super(rd(s),`Firebase Storage: ${l} (${rd(s)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ao.prototype)}_codeEquals(s){return rd(s)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(s){this.customData.serverResponse=s,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function rd(c){return"storage/"+c}function og(){return new ao("unknown","An unknown error occurred, please check the error payload for server response.")}function lg(){return new ao("canceled","User canceled the upload/download.")}function Yf(){return new ao("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function id(c){return new ao("invalid-argument",c)}function ug(){return new ao("app-deleted","The Firebase app was deleted.")}function dg(c){return new ao("invalid-root-operation","The operation '"+c+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Du(c,s){return new ao("invalid-format","String does not match format '"+c+"': "+s)}function _c(c){throw new ao("internal-error","Internal error: "+c)}class To{constructor(s,l){this.bucket=s,this.path_=l}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const s=encodeURIComponent;return"/b/"+s(this.bucket)+"/o/"+s(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(s,l){let f;try{f=To.makeFromUrl(s,l)}catch{return new To(s,"")}if(""===f.path)return f;throw function Wf(c){return new ao("invalid-default-bucket","Invalid default bucket '"+c+"'.")}(s)}static makeFromUrl(s,l){let f=null;const y="([A-Za-z0-9.\\-_]+)",Q=new RegExp("^gs://"+y+"(/(.*))?$","i");function Fe(Ls){Ls.path_=decodeURIComponent(Ls.path)}const vt=l.replace(/[.]/g,"\\."),ds=[{regex:Q,indices:{bucket:1,path:3},postModify:function T(Ls){"/"===Ls.path.charAt(Ls.path.length-1)&&(Ls.path_=Ls.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${vt}/v[A-Za-z0-9_]+/b/${y}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Fe},{regex:new RegExp(`^https?://${l===zc?"(?:storage.googleapis.com|storage.cloud.google.com)":l}/${y}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Fe}];for(let Ls=0;Ls<ds.length;Ls++){const Ou=ds[Ls],Jl=Ou.regex.exec(s);if(Jl){let Jc=Jl[Ou.indices.path];Jc||(Jc=""),f=new To(Jl[Ou.indices.bucket],Jc),Ou.postModify(f);break}}if(null==f)throw function cy(c){return new ao("invalid-url","Invalid URL '"+c+"'.")}(s);return f}}class Rh{constructor(s){this.promise_=Promise.reject(s)}getPromise(){return this.promise_}cancel(s=!1){}}function Kc(c){return"string"==typeof c||c instanceof String}function Su(c){return fg()&&c instanceof Blob}function fg(){return typeof Blob<"u"}function Au(c,s,l,f){if(f<s)throw id(`Invalid value for '${c}'. Expected ${s} or greater.`);if(f>l)throw id(`Invalid value for '${c}'. Expected ${l} or less.`)}function xu(c,s,l){let f=s;return null==l&&(f=`https://${s}`),`${l}://${f}/v0${c}`}function pg(c){const s=encodeURIComponent;let l="?";for(const f in c)c.hasOwnProperty(f)&&(l=l+(s(f)+"=")+s(c[f])+"&");return l=l.slice(0,-1),l}var ql=(()=>{return(c=ql||(ql={}))[c.NO_ERROR=0]="NO_ERROR",c[c.NETWORK_ERROR=1]="NETWORK_ERROR",c[c.ABORT=2]="ABORT",ql;var c})();class gg{constructor(s,l,f,y,T,k,Q,de,Fe,wt,vt){this.url_=s,this.method_=l,this.headers_=f,this.body_=y,this.successCodes_=T,this.additionalRetryCodes_=k,this.callback_=Q,this.errorCallback_=de,this.timeout_=Fe,this.progressCallback_=wt,this.connectionFactory_=vt,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Ft,an)=>{this.resolve_=Ft,this.reject_=an,this.start_()})}start_(){const l=(f,y)=>{const T=this.resolve_,k=this.reject_,Q=y.connection;if(y.wasSuccessCode)try{const de=this.callback_(Q,Q.getResponse());!function $d(c){return void 0!==c}(de)?T():T(de)}catch(de){k(de)}else if(null!==Q){const de=og();de.serverResponse=Q.getErrorText(),k(this.errorCallback_?this.errorCallback_(Q,de):de)}else k(y.canceled?this.appDelete_?ug():lg():function cl(){return new ao("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?l(0,new Mu(!1,null,!0)):this.backoffId_=function Ph(c,s,l){let f=1,y=null,T=null,k=!1,Q=0;function de(){return 2===Q}let Fe=!1;function wt(...Qr){Fe||(Fe=!0,s.apply(null,Qr))}function vt(Qr){y=setTimeout(()=>{y=null,c(an,de())},Qr)}function Ft(){T&&clearTimeout(T)}function an(Qr,...Ts){if(Fe)return void Ft();if(Qr)return Ft(),void wt.call(null,Qr,...Ts);if(de()||k)return Ft(),void wt.call(null,Qr,...Ts);let ds;f<64&&(f*=2),1===Q?(Q=2,ds=0):ds=1e3*(f+Math.random()),vt(ds)}let Sn=!1;function Br(Qr){Sn||(Sn=!0,Ft(),!Fe&&(null!==y?(Qr||(Q=2),clearTimeout(y),vt(0)):Qr||(Q=1)))}return vt(0),T=setTimeout(()=>{k=!0,Br(!0)},l),Br}((f,y)=>{if(y)return void f(!1,new Mu(!1,null,!0));const T=this.connectionFactory_();this.pendingConnection_=T;const k=Q=>{null!==this.progressCallback_&&this.progressCallback_(Q.loaded,Q.lengthComputable?Q.total:-1)};null!==this.progressCallback_&&T.addUploadProgressListener(k),T.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&T.removeUploadProgressListener(k),this.pendingConnection_=null;const Q=T.getErrorCode()===ql.NO_ERROR,de=T.getStatus();if(!Q||this.isRetryStatusCode_(de)){const wt=T.getErrorCode()===ql.ABORT;return void f(!1,new Mu(!1,null,wt))}const Fe=-1!==this.successCodes_.indexOf(de);f(!0,new Mu(Fe,T))})},l,this.timeout_)}getPromise(){return this.promise_}cancel(s){this.canceled_=!0,this.appDelete_=s||!1,null!==this.backoffId_&&function mm(c){c(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(s){const l=s>=500&&s<600,y=-1!==[408,429].indexOf(s),T=-1!==this.additionalRetryCodes_.indexOf(s);return l||y||T}}class Mu{constructor(s,l,f){this.wasSuccessCode=s,this.connection=l,this.canceled=!!f}}function uy(...c){const s=function ev(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==s){const l=new s;for(let f=0;f<c.length;f++)l.append(c[f]);return l.getBlob()}if(fg())return new Blob(c);throw new ao("unsupported-environment","This browser doesn't seem to support creating Blobs")}const ul={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Zl{constructor(s,l){this.data=s,this.contentType=l||null}}function Ud(c,s){switch(c){case ul.RAW:return new Zl(wm(s));case ul.BASE64:case ul.BASE64URL:return new Zl(qf(c,s));case ul.DATA_URL:return new Zl(function Oh(c){const s=new mg(c);return s.base64?qf(ul.BASE64,s.rest):function Em(c){let s;try{s=decodeURIComponent(c)}catch{throw Du(ul.DATA_URL,"Malformed data URL.")}return wm(s)}(s.rest)}(s),function yg(c){return new mg(c).contentType}(s))}throw og()}function wm(c){const s=[];for(let l=0;l<c.length;l++){let f=c.charCodeAt(l);f<=127?s.push(f):f<=2047?s.push(192|f>>6,128|63&f):55296==(64512&f)?l<c.length-1&&56320==(64512&c.charCodeAt(l+1))?(f=65536|(1023&f)<<10|1023&c.charCodeAt(++l),s.push(240|f>>18,128|f>>12&63,128|f>>6&63,128|63&f)):s.push(239,191,189):56320==(64512&f)?s.push(239,191,189):s.push(224|f>>12,128|f>>6&63,128|63&f)}return new Uint8Array(s)}function qf(c,s){switch(c){case ul.BASE64:{const y=-1!==s.indexOf("-"),T=-1!==s.indexOf("_");if(y||T)throw Du(c,"Invalid character '"+(y?"-":"_")+"' found: is it base64url encoded?");break}case ul.BASE64URL:{const y=-1!==s.indexOf("+"),T=-1!==s.indexOf("/");if(y||T)throw Du(c,"Invalid character '"+(y?"+":"/")+"' found: is it base64 encoded?");s=s.replace(/-/g,"+").replace(/_/g,"/");break}}let l;try{l=function dy(c){return atob(c)}(s)}catch{throw Du(c,"Invalid character found")}const f=new Uint8Array(l.length);for(let y=0;y<l.length;y++)f[y]=l.charCodeAt(y);return f}class mg{constructor(s){this.base64=!1,this.contentType=null;const l=s.match(/^data:([^,]+)?,/);if(null===l)throw Du(ul.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const f=l[1]||null;null!=f&&(this.base64=function wc(c,s){return c.length>=s.length&&c.substring(c.length-s.length)===s}(f,";base64"),this.contentType=this.base64?f.substring(0,f.length-7):f),this.rest=s.substring(s.indexOf(",")+1)}}class Ql{constructor(s,l){let f=0,y="";Su(s)?(this.data_=s,f=s.size,y=s.type):s instanceof ArrayBuffer?(l?this.data_=new Uint8Array(s):(this.data_=new Uint8Array(s.byteLength),this.data_.set(new Uint8Array(s))),f=this.data_.length):s instanceof Uint8Array&&(l?this.data_=s:(this.data_=new Uint8Array(s.length),this.data_.set(s)),f=s.length),this.size_=f,this.type_=y}size(){return this.size_}type(){return this.type_}slice(s,l){if(Su(this.data_)){const y=function tv(c,s,l){return c.webkitSlice?c.webkitSlice(s,l):c.mozSlice?c.mozSlice(s,l):c.slice?c.slice(s,l):null}(this.data_,s,l);return null===y?null:new Ql(y)}{const f=new Uint8Array(this.data_.buffer,s,l-s);return new Ql(f,!0)}}static getBlob(...s){if(fg()){const l=s.map(f=>f instanceof Ql?f.data_:f);return new Ql(uy.apply(null,l))}{const l=s.map(k=>Kc(k)?Ud(ul.RAW,k).data:k.data_);let f=0;l.forEach(k=>{f+=k.byteLength});const y=new Uint8Array(f);let T=0;return l.forEach(k=>{for(let Q=0;Q<k.length;Q++)y[T++]=k[Q]}),new Ql(y,!0)}}uploadData(){return this.data_}}function Nh(c){let s;try{s=JSON.parse(c)}catch{return null}return function hg(c){return"object"==typeof c&&!Array.isArray(c)}(s)?s:null}function vg(c){const s=c.lastIndexOf("/",c.length-2);return-1===s?c:c.slice(s+1)}function _g(c,s){return s}class So{constructor(s,l,f,y){this.server=s,this.local=l||s,this.writable=!!f,this.xform=y||_g}}let qc=null;function Ec(){if(qc)return qc;const c=[];c.push(new So("bucket")),c.push(new So("generation")),c.push(new So("metageneration")),c.push(new So("name","fullPath",!0));const l=new So("name");l.xform=function s(T,k){return function kh(c){return!Kc(c)||c.length<2?c:vg(c)}(k)},c.push(l);const y=new So("size");return y.xform=function f(T,k){return void 0!==k?Number(k):k},c.push(y),c.push(new So("timeCreated")),c.push(new So("updated")),c.push(new So("md5Hash",null,!0)),c.push(new So("cacheControl",null,!0)),c.push(new So("contentDisposition",null,!0)),c.push(new So("contentEncoding",null,!0)),c.push(new So("contentLanguage",null,!0)),c.push(new So("contentType",null,!0)),c.push(new So("metadata","customMetadata",!0)),qc=c,qc}function Qf(c,s,l){const f=Nh(s);return null===f?null:function Fh(c,s,l){const f={type:"file"},y=l.length;for(let T=0;T<y;T++){const k=l[T];f[k.local]=k.xform(f,s[k.server])}return function Hd(c,s){Object.defineProperty(c,"ref",{get:function l(){const T=new To(c.bucket,c.fullPath);return s._makeStorageReference(T)}})}(f,c),f}(c,f,l)}function jd(c,s){const l={},f=s.length;for(let y=0;y<f;y++){const T=s[y];T.writable&&(l[T.server]=c[T.local])}return JSON.stringify(l)}const Gd="prefixes";class Rl{constructor(s,l,f,y){this.url=s,this.method=l,this.handler=f,this.timeout=y,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Zc(c){if(!c)throw og()}function Wd(c,s){return function l(f,y){const T=Qf(c,y,s);return Zc(null!==T),T}}function od(c){return function s(l,f){let y;return y=401===l.getStatus()?l.getErrorText().includes("Firebase App Check token is invalid")?function ag(){return new ao("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function zf(){return new ao("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===l.getStatus()?function Wc(c){return new ao("quota-exceeded","Quota for bucket '"+c+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(c.bucket):403===l.getStatus()?function Yc(c){return new ao("unauthorized","User does not have permission to access '"+c+"'.")}(c.path):f,y.serverResponse=f.serverResponse,y}}function Ru(c){const s=od(c);return function l(f,y){let T=s(f,y);return 404===f.getStatus()&&(T=function gm(c){return new ao("object-not-found","Object '"+c+"' does not exist.")}(c.path)),T.serverResponse=y.serverResponse,T}}function bm(c,s,l){const y=xu(s.fullServerUrl(),c.host,c._protocol),k=c.maxOperationRetryTime,Q=new Rl(y,"GET",Wd(c,l),k);return Q.errorHandler=Ru(s),Q}function dl(c,s,l,f,y){const T={};T.prefix=s.isRoot?"":s.path+"/",l&&l.length>0&&(T.delimiter=l),f&&(T.pageToken=f),y&&(T.maxResults=y);const Q=xu(s.bucketOnlyServerUrl(),c.host,c._protocol),Fe=c.maxOperationRetryTime,wt=new Rl(Q,"GET",function Ic(c,s){return function l(f,y){const T=function Xf(c,s,l){const f=Nh(l);return null===f?null:function sd(c,s,l){const f={prefixes:[],items:[],nextPageToken:l.nextPageToken};if(l[Gd])for(const y of l[Gd]){const T=y.replace(/\/$/,""),k=c._makeStorageReference(new To(s,T));f.prefixes.push(k)}if(l.items)for(const y of l.items){const T=c._makeStorageReference(new To(s,y.name));f.items.push(T)}return f}(c,s,f)}(c,s,y);return Zc(null!==T),T}}(c,s.bucket),Fe);return wt.urlParams=T,wt.errorHandler=od(s),wt}function Eg(c,s,l){const f=Object.assign({},l);return f.fullPath=c.path,f.size=s.size(),f.contentType||(f.contentType=function Bh(c,s){return c&&c.contentType||s&&s.type()||"application/octet-stream"}(null,s)),f}class Vh{constructor(s,l,f,y){this.current=s,this.total=l,this.finalized=!!f,this.metadata=y||null}}function $h(c,s){let l=null;try{l=c.getResponseHeader("X-Goog-Upload-Status")}catch{Zc(!1)}return Zc(!!l&&-1!==(s||["active"]).indexOf(l)),l}const my={STATE_CHANGED:"state_changed"},Fo={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Yd(c){switch(c){case"running":case"pausing":case"canceling":return Fo.RUNNING;case"paused":return Fo.PAUSED;case"success":return Fo.SUCCESS;case"canceled":return Fo.CANCELED;default:return Fo.ERROR}}class Dg{constructor(s,l,f){if(function Tu(c){return"function"==typeof c}(s)||null!=l||null!=f)this.next=s,this.error=l??void 0,this.complete=f??void 0;else{const T=s;this.next=T.next,this.error=T.error,this.complete=T.complete}}}function Ta(c){return(...s)=>{Promise.resolve().then(()=>c(...s))}}class yy extends class Dm{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ql.NO_ERROR,this.sendPromise_=new Promise(s=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ql.ABORT,s()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ql.NETWORK_ERROR,s()}),this.xhr_.addEventListener("load",()=>{s()})})}send(s,l,f,y){if(this.sent_)throw _c("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(l,s,!0),void 0!==y)for(const T in y)y.hasOwnProperty(T)&&this.xhr_.setRequestHeader(T,y[T].toString());return void 0!==f?this.xhr_.send(f):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw _c("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw _c("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw _c("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw _c("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(s){return this.xhr_.getResponseHeader(s)}addUploadProgressListener(s){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",s)}removeUploadProgressListener(s){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",s)}}{initXhr(){this.xhr_.responseType="text"}}function Pl(){return new yy}class tp{constructor(s,l,f=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=s,this._blob=l,this._metadata=f,this._mappings=Ec(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=y=>{this._request=void 0,this._chunkMultiplier=1,y._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=y,this._transition("error"))},this._metadataErrorHandler=y=>{this._request=void 0,y._codeEquals("canceled")?this.completeTransitions_():(this._error=y,this._transition("error"))},this._promise=new Promise((y,T)=>{this._resolve=y,this._reject=T,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const s=this._transferred;return l=>this._updateProgress(s+l)}_shouldDoResumable(s){return s.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(s){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([l,f])=>{switch(this._state){case"running":s(l,f);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((s,l)=>{const f=function Ig(c,s,l,f,y){const T=s.bucketOnlyServerUrl(),k=Eg(s,f,y),Q={name:k.fullPath},de=xu(T,c.host,c._protocol),wt={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${f.size()}`,"X-Goog-Upload-Header-Content-Type":k.contentType,"Content-Type":"application/json; charset=utf-8"},vt=jd(k,l),Sn=new Rl(de,"POST",function an(Br){let Qr;$h(Br);try{Qr=Br.getResponseHeader("X-Goog-Upload-URL")}catch{Zc(!1)}return Zc(Kc(Qr)),Qr},c.maxUploadRetryTime);return Sn.urlParams=Q,Sn.headers=wt,Sn.body=vt,Sn.errorHandler=od(s),Sn}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),y=this._ref.storage._makeRequest(f,Pl,s,l);this._request=y,y.getPromise().then(T=>{this._request=void 0,this._uploadUrl=T,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const s=this._uploadUrl;this._resolveToken((l,f)=>{const y=function gy(c,s,l,f){const de=new Rl(l,"POST",function T(Fe){const wt=$h(Fe,["active","final"]);let vt=null;try{vt=Fe.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Zc(!1)}vt||Zc(!1);const Ft=Number(vt);return Zc(!isNaN(Ft)),new Vh(Ft,f.size(),"final"===wt)},c.maxUploadRetryTime);return de.headers={"X-Goog-Upload-Command":"query"},de.errorHandler=od(s),de}(this._ref.storage,this._ref._location,s,this._blob),T=this._ref.storage._makeRequest(y,Pl,l,f);this._request=T,T.getPromise().then(k=>{this._request=void 0,this._updateProgress(k.current),this._needToFetchStatus=!1,k.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const s=262144*this._chunkMultiplier,l=new Vh(this._transferred,this._blob.size()),f=this._uploadUrl;this._resolveToken((y,T)=>{let k;try{k=function Cg(c,s,l,f,y,T,k,Q){const de=new Vh(0,0);if(k?(de.current=k.current,de.total=k.total):(de.current=0,de.total=f.size()),f.size()!==de.total)throw function Kf(){return new ao("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const Fe=de.total-de.current;let wt=Fe;y>0&&(wt=Math.min(wt,y));const vt=de.current,Sn={"X-Goog-Upload-Command":wt===Fe?"upload, finalize":"upload","X-Goog-Upload-Offset":`${de.current}`},Br=f.slice(vt,vt+wt);if(null===Br)throw Yf();const ds=new Rl(l,"POST",function Qr(Ls,Ou){const Jl=$h(Ls,["active","final"]),rf=de.current+wt,Jc=f.size();let eu;return eu="final"===Jl?Wd(s,T)(Ls,Ou):null,new Vh(rf,Jc,"final"===Jl,eu)},s.maxUploadRetryTime);return ds.headers=Sn,ds.body=Br.uploadData(),ds.progressCallback=Q||null,ds.errorHandler=od(c),ds}(this._ref._location,this._ref.storage,f,this._blob,s,this._mappings,l,this._makeProgressCallback())}catch(de){return this._error=de,void this._transition("error")}const Q=this._ref.storage._makeRequest(k,Pl,y,T);this._request=Q,Q.getPromise().then(de=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(de.current),de.finalized?(this._metadata=de.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((s,l)=>{const f=bm(this._ref.storage,this._ref._location,this._mappings),y=this._ref.storage._makeRequest(f,Pl,s,l);this._request=y,y.getPromise().then(T=>{this._request=void 0,this._metadata=T,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((s,l)=>{const f=function Jf(c,s,l,f,y){const T=s.bucketOnlyServerUrl(),k={"X-Goog-Upload-Protocol":"multipart"},de=function Q(){let ds="";for(let Ls=0;Ls<2;Ls++)ds+=Math.random().toString().slice(2);return ds}();k["Content-Type"]="multipart/related; boundary="+de;const Fe=Eg(s,f,y),wt=jd(Fe,l),an=Ql.getBlob("--"+de+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+wt+"\r\n--"+de+"\r\nContent-Type: "+Fe.contentType+"\r\n\r\n",f,"\r\n--"+de+"--");if(null===an)throw Yf();const Sn={name:Fe.fullPath},Br=xu(T,c.host,c._protocol),Ts=c.maxUploadRetryTime,lo=new Rl(Br,"POST",Wd(c,l),Ts);return lo.urlParams=Sn,lo.headers=k,lo.body=an.uploadData(),lo.errorHandler=od(s),lo}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),y=this._ref.storage._makeRequest(f,Pl,s,l);this._request=y,y.getPromise().then(T=>{this._request=void 0,this._metadata=T,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(s){const l=this._transferred;this._transferred=s,this._transferred!==l&&this._notifyObservers()}_transition(s){if(this._state!==s)switch(s){case"canceling":case"pausing":this._state=s,void 0!==this._request&&this._request.cancel();break;case"running":const l="paused"===this._state;this._state=s,l&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=s,this._notifyObservers();break;case"canceled":this._error=lg(),this._state=s,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const s=Yd(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:s,metadata:this._metadata,task:this,ref:this._ref}}on(s,l,f,y){const T=new Dg(l||void 0,f||void 0,y||void 0);return this._addObserver(T),()=>{this._removeObserver(T)}}then(s,l){return this._promise.then(s,l)}catch(s){return this.then(null,s)}_addObserver(s){this._observers.push(s),this._notifyObserver(s)}_removeObserver(s){const l=this._observers.indexOf(s);-1!==l&&this._observers.splice(l,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(l=>{this._notifyObserver(l)})}_finishPromise(){if(void 0!==this._resolve){let s=!0;switch(Yd(this._state)){case Fo.SUCCESS:Ta(this._resolve.bind(null,this.snapshot))();break;case Fo.CANCELED:case Fo.ERROR:Ta(this._reject.bind(null,this._error))();break;default:s=!1}s&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(s){switch(Yd(this._state)){case Fo.RUNNING:case Fo.PAUSED:s.next&&Ta(s.next.bind(s,this.snapshot))();break;case Fo.SUCCESS:s.complete&&Ta(s.complete.bind(s))();break;default:s.error&&Ta(s.error.bind(s,this._error))()}}resume(){const s="paused"===this._state||"pausing"===this._state;return s&&this._transition("running"),s}pause(){const s="running"===this._state;return s&&this._transition("pausing"),s}cancel(){const s="running"===this._state||"pausing"===this._state;return s&&this._transition("canceling"),s}}class ad{constructor(s,l){this._service=s,this._location=l instanceof To?l:To.makeFromUrl(l,s.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(s,l){return new ad(s,l)}get root(){const s=new To(this._location.bucket,"");return this._newRef(this._service,s)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return vg(this._location.path)}get storage(){return this._service}get parent(){const s=function hy(c){if(0===c.length)return null;const s=c.lastIndexOf("/");return-1===s?"":c.slice(0,s)}(this._location.path);if(null===s)return null;const l=new To(this._location.bucket,s);return new ad(this._service,l)}_throwIfRoot(s){if(""===this._location.path)throw dg(s)}}function rp(c,s,l){return ip.apply(this,arguments)}function ip(){return(ip=(0,Ne.Z)(function*(c,s,l){const y=yield Gh(c,{pageToken:l});s.prefixes.push(...y.prefixes),s.items.push(...y.items),null!=y.nextPageToken&&(yield rp(c,s,y.nextPageToken))})).apply(this,arguments)}function Gh(c,s){null!=s&&"number"==typeof s.maxResults&&Au("options.maxResults",1,1e3,s.maxResults);const l=s||{},f=dl(c.storage,c._location,"/",l.pageToken,l.maxResults);return c.storage.makeRequestWithTokens(f,Pl)}function sp(c){c._throwIfRoot("getDownloadURL");const s=function fy(c,s,l){const y=xu(s.fullServerUrl(),c.host,c._protocol),k=c.maxOperationRetryTime,Q=new Rl(y,"GET",function wg(c,s){return function l(f,y){const T=Qf(c,y,s);return Zc(null!==T),function Im(c,s,l,f){const y=Nh(s);if(null===y||!Kc(y.downloadTokens))return null;const T=y.downloadTokens;if(0===T.length)return null;const k=encodeURIComponent;return T.split(",").map(Fe=>{const vt=c.fullPath;return xu("/b/"+k(c.bucket)+"/o/"+k(vt),l,f)+pg({alt:"media",token:Fe})})[0]}(T,y,c.host,c._protocol)}}(c,l),k);return Q.errorHandler=Ru(s),Q}(c.storage,c._location,Ec());return c.storage.makeRequestWithTokens(s,Pl).then(l=>{if(null===l)throw function cg(){return new ao("no-download-url","The given file does not have any download URLs.")}();return l})}function zh(c,s){const l=function Zf(c,s){const l=s.split("/").filter(f=>f.length>0).join("/");return 0===c.length?l:c+"/"+l}(c._location.path,s),f=new To(c._location.bucket,l);return new ad(c.storage,f)}function Wh(c,s){if(c instanceof Kh){const l=c;if(null==l._bucket)throw function vc(){return new ao("no-default-bucket","No default bucket found. Did you set the '"+Gf+"' property when initializing the app?")}();const f=new ad(l,l._bucket);return null!=s?Wh(f,s):f}return void 0!==s?zh(c,s):c}function Yh(c,s){if(s&&function Mg(c){return/^[A-Za-z]+:\/\//.test(c)}(s)){if(c instanceof Kh)return function Qc(c,s){return new ad(c,s)}(c,s);throw id("To use ref(service, url), the first argument must be a Storage instance.")}return Wh(c,s)}function qd(c,s){const l=s?.[Gf];return null==l?null:To.makeFromBucketSpec(l,c)}class Kh{constructor(s,l,f,y,T){this.app=s,this._authProvider=l,this._appCheckProvider=f,this._url=y,this._firebaseVersion=T,this._bucket=null,this._host=zc,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=y?To.makeFromBucketSpec(y,this._host):qd(this._host,this.app.options)}get host(){return this._host}set host(s){this._host=s,this._bucket=null!=this._url?To.makeFromBucketSpec(this._url,s):qd(s,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(s){Au("time",0,Number.POSITIVE_INFINITY,s),this._maxUploadRetryTime=s}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(s){Au("time",0,Number.POSITIVE_INFINITY,s),this._maxOperationRetryTime=s}_getAuthToken(){var s=this;return(0,Ne.Z)(function*(){if(s._overrideAuthToken)return s._overrideAuthToken;const l=s._authProvider.getImmediate({optional:!0});if(l){const f=yield l.getToken();if(null!==f)return f.accessToken}return null})()}_getAppCheckToken(){var s=this;return(0,Ne.Z)(function*(){const l=s._appCheckProvider.getImmediate({optional:!0});return l?(yield l.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(s=>s.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(s){return new ad(this,s)}_makeRequest(s,l,f,y){if(this._deleted)return new Rh(ug());{const T=function _m(c,s,l,f,y,T){const k=pg(c.urlParams),Q=c.url+k,de=Object.assign({},c.headers);return function Jy(c,s){s&&(c["X-Firebase-GMPID"]=s)}(de,s),function ym(c,s){null!==s&&s.length>0&&(c.Authorization="Firebase "+s)}(de,l),function Xy(c,s){c["X-Firebase-Storage-Version"]="webjs/"+(s??"AppManager")}(de,T),function vm(c,s){null!==s&&(c["X-Firebase-AppCheck"]=s)}(de,f),new gg(Q,c.method,de,c.body,c.successCodes,c.additionalRetryCodes,c.handler,c.errorHandler,c.timeout,c.progressCallback,y)}(s,this._appId,f,y,l,this._firebaseVersion);return this._requests.add(T),T.getPromise().then(()=>this._requests.delete(T),()=>this._requests.delete(T)),T}}makeRequestWithTokens(s,l){var f=this;return(0,Ne.Z)(function*(){const[y,T]=yield Promise.all([f._getAuthToken(),f._getAppCheckToken()]);return f._makeRequest(s,l,y,T).getPromise()})()}}const Rg="@firebase/storage";function ap(c,s){return Yh(c=(0,Ml.m9)(c),s)}function lp(c,{instanceIdentifier:s}){const l=c.getProvider("app").getImmediate(),f=c.getProvider("auth-internal"),y=c.getProvider("app-check-internal");return new Kh(l,f,y,s,Pr.SDK_VERSION)}!function Nm(){(0,Pr._registerComponent)(new xh.wA("storage",lp,"PUBLIC").setMultipleInstances(!0)),(0,Pr.registerVersion)(Rg,"0.9.9",""),(0,Pr.registerVersion)(Rg,"0.9.9","esm2017")}();class Zh{constructor(s,l,f){this._delegate=s,this.task=l,this.ref=f}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Qh{constructor(s,l){this._delegate=s,this._ref=l,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Zh(this._delegate.snapshot,this,this._ref)}then(s,l){return this._delegate.then(f=>{if(s)return s(new Zh(f,this,this._ref))},l)}on(s,l,f,y){let T;return l&&(T="function"==typeof l?k=>l(new Zh(k,this,this._ref)):{next:l.next?k=>l.next(new Zh(k,this,this._ref)):void 0,complete:l.complete||void 0,error:l.error||void 0}),this._delegate.on(s,T,f||void 0,y||void 0)}}class Cc{constructor(s,l){this._delegate=s,this._service=l}get prefixes(){return this._delegate.prefixes.map(s=>new Pu(s,this._service))}get items(){return this._delegate.items.map(s=>new Pu(s,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Pu{constructor(s,l){this._delegate=s,this.storage=l}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(s){const l=function Cs(c,s){return zh(c,s)}(this._delegate,s);return new Pu(l,this.storage)}get root(){return new Pu(this._delegate.root,this.storage)}get parent(){const s=this._delegate.parent;return null==s?null:new Pu(s,this.storage)}put(s,l){return this._throwIfRoot("put"),new Qh(function Rm(c,s,l){return function Sg(c,s,l){return c._throwIfRoot("uploadBytesResumable"),new tp(c,new Ql(s),l)}(c=(0,Ml.m9)(c),s,l)}(this._delegate,s,l),this)}putString(s,l=ul.RAW,f){this._throwIfRoot("putString");const y=Ud(l,s),T=Object.assign({},f);return null==T.contentType&&null!=y.contentType&&(T.contentType=y.contentType),new Qh(new tp(this._delegate,new Ql(y.data,!0),T),this)}listAll(){return function Pm(c){return function np(c){const s={prefixes:[],items:[]};return rp(c,s).then(()=>s)}(c=(0,Ml.m9)(c))}(this._delegate).then(s=>new Cc(s,this.storage))}list(s){return function mi(c,s){return Gh(c=(0,Ml.m9)(c),s)}(this._delegate,s||void 0).then(l=>new Cc(l,this.storage))}getMetadata(){return function wy(c){return function Ag(c){c._throwIfRoot("getMetadata");const s=bm(c.storage,c._location,Ec());return c.storage.makeRequestWithTokens(s,Pl)}(c=(0,Ml.m9)(c))}(this._delegate)}updateMetadata(s){return function op(c,s){return function xg(c,s){c._throwIfRoot("updateMetadata");const l=function Cm(c,s,l,f){const T=xu(s.fullServerUrl(),c.host,c._protocol),Q=jd(l,f),Fe=c.maxOperationRetryTime,wt=new Rl(T,"PATCH",Wd(c,f),Fe);return wt.headers={"Content-Type":"application/json; charset=utf-8"},wt.body=Q,wt.errorHandler=Ru(s),wt}(c.storage,c._location,s,Ec());return c.storage.makeRequestWithTokens(l,Pl)}(c=(0,Ml.m9)(c),s)}(this._delegate,s)}getDownloadURL(){return function Om(c){return sp(c=(0,Ml.m9)(c))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Zd(c){return function ld(c){c._throwIfRoot("deleteObject");const s=function py(c,s){const f=xu(s.fullServerUrl(),c.host,c._protocol),Q=new Rl(f,"DELETE",function k(de,Fe){},c.maxOperationRetryTime);return Q.successCodes=[200,204],Q.errorHandler=Ru(s),Q}(c.storage,c._location);return c.storage.makeRequestWithTokens(s,Pl)}(c=(0,Ml.m9)(c))}(this._delegate)}_throwIfRoot(s){if(""===this._delegate._location.path)throw dg(s)}}class Qd{constructor(s,l){this.app=s,this._delegate=l}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(s){if(Ds(s))throw id("ref() expected a child path but got a URL, use refFromURL instead.");return new Pu(ap(this._delegate,s),this)}refFromURL(s){if(!Ds(s))throw id("refFromURL() expected a full URL but got a child path, use ref() instead.");try{To.makeFromUrl(s,this._delegate.host)}catch{throw id("refFromUrl() expected a valid full URL but got an invalid one.")}return new Pu(ap(this._delegate,s),this)}setMaxUploadRetryTime(s){this._delegate.maxUploadRetryTime=s}setMaxOperationRetryTime(s){this._delegate.maxOperationRetryTime=s}useEmulator(s,l,f={}){!function bc(c,s,l,f={}){!function Sm(c,s,l,f={}){c.host=`${s}:${l}`,c._protocol="http";const{mockUserToken:y}=f;y&&(c._overrideAuthToken="string"==typeof y?y:(0,Ml.Sg)(y,c.app.options.projectId))}(c,s,l,f)}(this._delegate,s,l,f)}}function Ds(c){return/^[A-Za-z]+:\/\//.test(c)}function Xl(c,{instanceIdentifier:s}){const l=c.getProvider("app-compat").getImmediate(),f=c.getProvider("storage").getImmediate({identifier:s});return new Qd(l,f)}function Xc(c){const s=function ha(c){return new ae.y(s=>{const l=k=>s.next(k);l(c.snapshot);const T=c.on("state_changed",l);return c.then(k=>{l(k),s.complete()},k=>{l(c.snapshot),(k=>{s.error(k)})(k)}),function(){T()}}).pipe(function jf(c,s=ie.P){return l=>l.lift(new Ah(c,s))}(0))}(c);return{task:c,then:c.then.bind(c),catch:c.catch.bind(c),pause:c.pause.bind(c),cancel:c.cancel.bind(c),resume:c.resume.bind(c),snapshotChanges:()=>s,percentageChanges:()=>s.pipe((0,He.U)(l=>l.bytesTransferred/l.totalBytes*100))}}function cd(c){return{getDownloadURL:()=>(0,ne.of)(void 0).pipe(Ce.fc,(0,Ve.w)(()=>c.getDownloadURL()),Ce.iC),getMetadata:()=>(0,ne.of)(void 0).pipe(Ce.fc,(0,Ve.w)(()=>c.getMetadata()),Ce.iC),delete:()=>(0,nd.D)(c.delete()),child:s=>cd(c.child(s)),updateMetadata:s=>(0,nd.D)(c.updateMetadata(s)),put:(s,l)=>Xc(c.put(s,l)),putString:(s,l,f)=>Xc(c.putString(s,l,f)),list:s=>(0,nd.D)(c.list(s)),listAll:()=>(0,nd.D)(c.listAll())}}!function Xh(c){const s={TaskState:Fo,TaskEvent:my,StringFormat:ul,Storage:Qd,Reference:Pu};c.INTERNAL.registerComponent(new xh.wA("storage-compat",Xl,"PUBLIC").setServiceProps(s).setMultipleInstances(!0)),c.registerVersion("@firebase/storage-compat","0.1.17")}(oe.Z);const Ol=new X.OlP("angularfire2.storageBucket"),Pg=new X.OlP("angularfire2.storage.maxUploadRetryTime"),Xd=new X.OlP("angularfire2.storage.maxOperationRetryTime"),Jh=new X.OlP("angularfire2.storage.use-emulator");let Jd=(()=>{class c{constructor(l,f,y,T,k,Q,de,Fe,wt,vt){const Ft=(0,ce.on)(l,k,f);this.storage=(0,ce.cc)(`${Ft.name}.storage.${y}`,"AngularFireStorage",Ft.name,()=>{const an=k.runOutsideAngular(()=>Ft.storage(y||void 0)),Sn=wt;return Sn&&an.useEmulator(...Sn),de&&an.setMaxUploadRetryTime(de),Fe&&an.setMaxOperationRetryTime(Fe),an},[de,Fe])}ref(l){return cd(this.storage.ref(l))}refFromURL(l){return cd(this.storage.refFromURL(l))}upload(l,f,y){return cd(this.storage.ref(l)).put(f,y)}}return c.\u0275fac=function(l){return new(l||c)(X.LFG(ce.Dh),X.LFG(ce.xv,8),X.LFG(Ol,8),X.LFG(X.Lbi),X.LFG(X.R0b),X.LFG(Ce.HU),X.LFG(Pg,8),X.LFG(Xd,8),X.LFG(Jh,8),X.LFG(om.nm,8))},c.\u0275prov=X.Yz7({token:c,factory:c.\u0275fac,providedIn:"any"}),c})(),ud=(()=>{class c{}return c.\u0275fac=function(l){return new(l||c)},c.\u0275mod=X.oAB({type:c}),c.\u0275inj=X.cJS({}),c})(),Va=(()=>{class c{constructor(){Lr.Z.registerVersion("angularfire",Ce.q4.full,"gcs-compat")}}return c.\u0275fac=function(l){return new(l||c)},c.\u0275mod=X.oAB({type:c}),c.\u0275inj=X.cJS({providers:[Jd],imports:[ud]}),c})();const tf_firebaseConfig={apiKey:"AIzaSyDIAwHNrT0fC7k7ufV_cV_aPNYxL2pXDbM",authDomain:"insureme-uat.firebaseapp.com",projectId:"insureme-uat",storageBucket:"insureme-uat.appspot.com",messagingSenderId:"400437953754",appId:"1:400437953754:web:86cb960c698e83905ed1e3",measurementId:"G-LJX756ZL13"};var fa=O(4719),Nl=O(9646),nf=O(8394),Fm=O(602),Lm=O(238);let Og=(()=>{class c{}return c.\u0275fac=function(l){return new(l||c)},c.\u0275mod=X.oAB({type:c,bootstrap:[Ld]}),c.\u0275inj=X.cJS({providers:[Nl.V1,nf.w,Fm.X,hm.b,ve,Lm.ContactsPageModule,{provide:W.wN,useClass:Be.r4}],imports:[u.b2,Be.Pc.forRoot(),Vd,ce.hO.initializeApp(tf_firebaseConfig),yc.ww,Ee.yb,Va,fa.u5,fa.UX,Fd]}),c})();(0,X.G48)(),u.q6().bootstrapModule(Og).catch(c=>console.log(c))},5867:(ln,pt,O)=>{"use strict";O.d(pt,{C6:()=>u.getApps,Mq:()=>u.getApp});var u=O(9681);(0,u.registerVersion)("firebase","9.10.0","app")},127:(ln,pt,O)=>{"use strict";O.d(pt,{Z:()=>u.Z});var u=O(3942);u.Z.registerVersion("firebase","9.10.0","app-compat")},2476:(ln,pt,O)=>{"use strict";O.r(pt);var u=O(5861),X=O(3942),W=O(2090),Be=O(9681),Ne=O(655),J=O(1877),fe=O(4859);const Qe=function pe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ve=function He(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ke=new W.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),St=new J.Yd("@firebase/auth");function Se(C,...g){St.logLevel<=J.in.ERROR&&St.error(`Auth (${Be.SDK_VERSION}): ${C}`,...g)}function Dt(C,...g){throw _t(C,...g)}function bt(C,...g){return _t(C,...g)}function Mt(C,g,_){const x=Object.assign(Object.assign({},Ve()),{[g]:_});return new W.LL("auth","Firebase",x).create(g,{appName:C.name})}function rt(C,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&Dt(C,"argument-error"),Mt(C,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _t(C,...g){if("string"!=typeof C){const _=g[0],x=[...g.slice(1)];return x[0]&&(x[0].appName=C.name),C._errorFactory.create(_,...x)}return ke.create(C,...g)}function Me(C,g,..._){if(!C)throw _t(g,..._)}function Ge(C){const g="INTERNAL ASSERTION FAILED: "+C;throw Se(g),new Error(g)}function Ce(C,g){C||Ge(g)}const ce=new Map;function xe(C){Ce(C instanceof Function,"Expected a class definition");let g=ce.get(C);return g?(Ce(g instanceof C,"Instance stored in cache mismatched with class"),g):(g=new C,ce.set(C,g),g)}function re(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function be(){return"http:"===me()||"https:"===me()}function me(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class Ie{constructor(g,_){this.shortDelay=g,this.longDelay=_,Ce(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,W.uI)()||(0,W.b$)()}get(){return function Re(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(be()||(0,W.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ue(C,g){Ce(C.emulator,"Emulator should always be set here");const{url:_}=C.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class qe{static initialize(g,_,x){this.fetchImpl=g,_&&(this.headersImpl=_),x&&(this.responseImpl=x)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ge("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ge("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ge("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Rt=new Ie(3e4,6e4);function gt(C,g){return C.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:C.tenantId}):g}function Lt(C,g,_,x){return pn.apply(this,arguments)}function pn(){return(pn=(0,u.Z)(function*(C,g,_,x,q={}){return wn(C,q,(0,u.Z)(function*(){let we={},dt={};x&&("GET"===g?dt=x:we={body:JSON.stringify(x)});const Bt=(0,W.xO)(Object.assign({key:C.config.apiKey},dt)).slice(1),vn=yield C._getAdditionalHeaders();return vn["Content-Type"]="application/json",C.languageCode&&(vn["X-Firebase-Locale"]=C.languageCode),qe.fetch()(ri(C,C.config.apiHost,_,Bt),Object.assign({method:g,headers:vn,referrerPolicy:"no-referrer"},we))}))})).apply(this,arguments)}function wn(C,g,_){return An.apply(this,arguments)}function An(){return(An=(0,u.Z)(function*(C,g,_){C._canInitEmulator=!1;const x=Object.assign(Object.assign({},nt),g);try{const q=new zr(C),we=yield Promise.race([_(),q.promise]);q.clearNetworkTimeout();const dt=yield we.json();if("needConfirmation"in dt)throw Mr(C,"account-exists-with-different-credential",dt);if(we.ok&&!("errorMessage"in dt))return dt;{const Bt=we.ok?dt.errorMessage:dt.error.message,[vn,xn]=Bt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===vn)throw Mr(C,"credential-already-in-use",dt);if("EMAIL_EXISTS"===vn)throw Mr(C,"email-already-in-use",dt);if("USER_DISABLED"===vn)throw Mr(C,"user-disabled",dt);const lr=x[vn]||vn.toLowerCase().replace(/[_\s]+/g,"-");if(xn)throw Mt(C,lr,xn);Dt(C,lr)}}catch(q){if(q instanceof W.ZR)throw q;Dt(C,"network-request-failed")}})).apply(this,arguments)}function Nn(C,g,_,x){return sr.apply(this,arguments)}function sr(){return(sr=(0,u.Z)(function*(C,g,_,x,q={}){const we=yield Lt(C,g,_,x,q);return"mfaPendingCredential"in we&&Dt(C,"multi-factor-auth-required",{_serverResponse:we}),we})).apply(this,arguments)}function ri(C,g,_,x){const q=`${g}${_}?${x}`;return C.config.emulator?Ue(C.config,q):`${C.config.apiScheme}://${q}`}class zr{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,x)=>{this.timer=setTimeout(()=>x(bt(this.auth,"network-request-failed")),Rt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mr(C,g,_){const x={appName:C.name};_.email&&(x.email=_.email),_.phoneNumber&&(x.phoneNumber=_.phoneNumber);const q=bt(C,g,x);return q.customData._tokenResponse=_,q}function sn(){return(sn=(0,u.Z)(function*(C,g){return Lt(C,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function zt(C,g){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,u.Z)(function*(C,g){return Lt(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Ln(C,g){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,u.Z)(function*(C,g){return Lt(C,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Fr(C){if(C)try{const g=new Date(Number(C));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Sr(){return(Sr=(0,u.Z)(function*(C,g=!1){const _=(0,W.m9)(C),x=yield _.getIdToken(g),q=In(x);Me(q&&q.exp&&q.auth_time&&q.iat,_.auth,"internal-error");const we="object"==typeof q.firebase?q.firebase:void 0,dt=we?.sign_in_provider;return{claims:q,token:x,authTime:Fr(En(q.auth_time)),issuedAtTime:Fr(En(q.iat)),expirationTime:Fr(En(q.exp)),signInProvider:dt||null,signInSecondFactor:we?.sign_in_second_factor||null}})).apply(this,arguments)}function En(C){return 1e3*Number(C)}function In(C){var g;const[_,x,q]=C.split(".");if(void 0===_||void 0===x||void 0===q)return Se("JWT malformed, contained fewer than 3 sections"),null;try{const we=(0,W.tV)(x);return we?JSON.parse(we):(Se("Failed to decode base64 JWT payload"),null)}catch(we){return Se("Caught error parsing JWT payload as JSON",null===(g=we)||void 0===g?void 0:g.toString()),null}}function Jn(C,g){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,u.Z)(function*(C,g,_=!1){if(_)return g;try{return yield g}catch(x){throw x instanceof W.ZR&&Ar(x)&&C.auth.currentUser===C&&(yield C.auth.signOut()),x}})).apply(this,arguments)}function Ar({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}class $n{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const x=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),x}{this.errorBackoff=3e4;const q=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,q)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const x=this.getInterval(g);this.timerId=setTimeout((0,u.Z)(function*(){yield _.iteration()}),x)}iteration(){var g=this;return(0,u.Z)(function*(){var _;try{yield g.user.getIdToken(!0)}catch(x){return void("auth/network-request-failed"===(null===(_=x)||void 0===_?void 0:_.code)&&g.schedule(!0))}g.schedule()})()}}class Ui{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fr(this.lastLoginAt),this.creationTime=Fr(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Un(C){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,u.Z)(function*(C){var g;const _=C.auth,x=yield C.getIdToken(),q=yield Jn(C,Ln(_,{idToken:x}));Me(q?.users.length,_,"internal-error");const we=q.users[0];C._notifyReloadListener(we);const dt=null!==(g=we.providerUserInfo)&&void 0!==g&&g.length?Ze(we.providerUserInfo):[],Bt=tt(C.providerData,dt),lr=!!C.isAnonymous&&!(C.email&&we.passwordHash||Bt?.length),rr={uid:we.localId,displayName:we.displayName||null,photoURL:we.photoUrl||null,email:we.email||null,emailVerified:we.emailVerified||!1,phoneNumber:we.phoneNumber||null,tenantId:we.tenantId||null,providerData:Bt,metadata:new Ui(we.createdAt,we.lastLoginAt),isAnonymous:lr};Object.assign(C,rr)})).apply(this,arguments)}function ot(){return(ot=(0,u.Z)(function*(C){const g=(0,W.m9)(C);yield Un(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function tt(C,g){return[...C.filter(x=>!g.some(q=>q.providerId===x.providerId)),...g]}function Ze(C){return C.map(g=>{var{providerId:_}=g,x=(0,Ne._T)(g,["providerId"]);return{providerId:_,uid:x.rawId||"",displayName:x.displayName||null,email:x.email||null,phoneNumber:x.phoneNumber||null,photoURL:x.photoUrl||null}})}function st(){return(st=(0,u.Z)(function*(C,g){const _=yield wn(C,{},(0,u.Z)(function*(){const x=(0,W.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:q,apiKey:we}=C.config,dt=ri(C,q,"/v1/token",`key=${we}`),Bt=yield C._getAdditionalHeaders();return Bt["Content-Type"]="application/x-www-form-urlencoded",qe.fetch()(dt,{method:"POST",headers:Bt,body:x})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Wt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){Me(g.idToken,"internal-error"),Me(typeof g.idToken<"u","internal-error"),Me(typeof g.refreshToken<"u","internal-error");const _="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function br(C){const g=In(C);return Me(g,"internal-error"),Me(typeof g.exp<"u","internal-error"),Me(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var x=this;return(0,u.Z)(function*(){return Me(!x.accessToken||x.refreshToken,g,"user-token-expired"),_||!x.accessToken||x.isExpired?x.refreshToken?(yield x.refresh(g,x.refreshToken),x.accessToken):null:x.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var x=this;return(0,u.Z)(function*(){const{accessToken:q,refreshToken:we,expiresIn:dt}=yield function et(C,g){return st.apply(this,arguments)}(g,_);x.updateTokensAndExpiration(q,we,Number(dt))})()}updateTokensAndExpiration(g,_,x){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*x}static fromJSON(g,_){const{refreshToken:x,accessToken:q,expirationTime:we}=_,dt=new Wt;return x&&(Me("string"==typeof x,"internal-error",{appName:g}),dt.refreshToken=x),q&&(Me("string"==typeof q,"internal-error",{appName:g}),dt.accessToken=q),we&&(Me("number"==typeof we,"internal-error",{appName:g}),dt.expirationTime=we),dt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new Wt,this.toJSON())}_performRefresh(){return Ge("not implemented")}}function tn(C,g){Me("string"==typeof C||typeof C>"u","internal-error",{appName:g})}class gn{constructor(g){var{uid:_,auth:x,stsTokenManager:q}=g,we=(0,Ne._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $n(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=x,this.stsTokenManager=q,this.accessToken=q.accessToken,this.displayName=we.displayName||null,this.email=we.email||null,this.emailVerified=we.emailVerified||!1,this.phoneNumber=we.phoneNumber||null,this.photoURL=we.photoURL||null,this.isAnonymous=we.isAnonymous||!1,this.tenantId=we.tenantId||null,this.providerData=we.providerData?[...we.providerData]:[],this.metadata=new Ui(we.createdAt||void 0,we.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,u.Z)(function*(){const x=yield Jn(_,_.stsTokenManager.getToken(_.auth,g));return Me(x,_.auth,"internal-error"),_.accessToken!==x&&(_.accessToken=x,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),x})()}getIdTokenResult(g){return function Rr(C){return Sr.apply(this,arguments)}(this,g)}reload(){return function qn(C){return ot.apply(this,arguments)}(this)}_assign(g){this!==g&&(Me(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new gn(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var x=this;return(0,u.Z)(function*(){let q=!1;g.idToken&&g.idToken!==x.stsTokenManager.accessToken&&(x.stsTokenManager.updateFromServerResponse(g),q=!0),_&&(yield Un(x)),yield x.auth._persistUserIfCurrent(x),q&&x.auth._notifyListenersIfCurrent(x)})()}delete(){var g=this;return(0,u.Z)(function*(){const _=yield g.getIdToken();return yield Jn(g,function yn(C,g){return sn.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var x,q,we,dt,Bt,vn,xn,lr;const rr=null!==(x=_.displayName)&&void 0!==x?x:void 0,ks=null!==(q=_.email)&&void 0!==q?q:void 0,La=null!==(we=_.phoneNumber)&&void 0!==we?we:void 0,Do=null!==(dt=_.photoURL)&&void 0!==dt?dt:void 0,Wu=null!==(Bt=_.tenantId)&&void 0!==Bt?Bt:void 0,so=null!==(vn=_._redirectEventId)&&void 0!==vn?vn:void 0,mh=null!==(xn=_.createdAt)&&void 0!==xn?xn:void 0,yh=null!==(lr=_.lastLoginAt)&&void 0!==lr?lr:void 0,{uid:ua,emailVerified:If,isAnonymous:Yu,providerData:xl,stsTokenManager:bf}=_;Me(ua&&bf,g,"internal-error");const Ip=Wt.fromJSON(this.name,bf);Me("string"==typeof ua,g,"internal-error"),tn(rr,g.name),tn(ks,g.name),Me("boolean"==typeof If,g,"internal-error"),Me("boolean"==typeof Yu,g,"internal-error"),tn(La,g.name),tn(Do,g.name),tn(Wu,g.name),tn(so,g.name),tn(mh,g.name),tn(yh,g.name);const Cf=new gn({uid:ua,auth:g,email:ks,emailVerified:If,displayName:rr,isAnonymous:Yu,photoURL:Do,phoneNumber:La,tenantId:Wu,stsTokenManager:Ip,createdAt:mh,lastLoginAt:yh});return xl&&Array.isArray(xl)&&(Cf.providerData=xl.map(Df=>Object.assign({},Df))),so&&(Cf._redirectEventId=so),Cf}static _fromIdTokenResponse(g,_,x=!1){return(0,u.Z)(function*(){const q=new Wt;q.updateFromServerResponse(_);const we=new gn({uid:_.localId,auth:g,stsTokenManager:q,isAnonymous:x});return yield Un(we),we})()}}const zn=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(_,x){var q=this;return(0,u.Z)(function*(){q.storage[_]=x})()}_get(_){var x=this;return(0,u.Z)(function*(){const q=x.storage[_];return void 0===q?null:q})()}_remove(_){var x=this;return(0,u.Z)(function*(){delete x.storage[_]})()}_addListener(_,x){}_removeListener(_,x){}}return C.type="NONE",C})();function tr(C,g,_){return`firebase:${C}:${g}:${_}`}class cn{constructor(g,_,x){this.persistence=g,this.auth=_,this.userKey=x;const{config:q,name:we}=this.auth;this.fullUserKey=tr(this.userKey,q.apiKey,we),this.fullPersistenceKey=tr("persistence",q.apiKey,we),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,u.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?gn._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,u.Z)(function*(){if(_.persistence===g)return;const x=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,x?_.setCurrentUser(x):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,x="authUser"){return(0,u.Z)(function*(){if(!_.length)return new cn(xe(zn),g,x);const q=(yield Promise.all(_.map(function(){var xn=(0,u.Z)(function*(lr){if(yield lr._isAvailable())return lr});return function(lr){return xn.apply(this,arguments)}}()))).filter(xn=>xn);let we=q[0]||xe(zn);const dt=tr(x,g.config.apiKey,g.name);let Bt=null;for(const xn of _)try{const lr=yield xn._get(dt);if(lr){const rr=gn._fromJSON(g,lr);xn!==we&&(Bt=rr),we=xn;break}}catch{}const vn=q.filter(xn=>xn._shouldAllowMigration);return we._shouldAllowMigration&&vn.length?(we=vn[0],Bt&&(yield we._set(dt,Bt.toJSON())),yield Promise.all(_.map(function(){var xn=(0,u.Z)(function*(lr){if(lr!==we)try{yield lr._remove(dt)}catch{}});return function(lr){return xn.apply(this,arguments)}}())),new cn(we,g,x)):new cn(we,g,x)})()}}function jn(C){const g=C.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(hr(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(Wr(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Ye(g))return"Blackberry";if(We(g))return"Webos";if(vr(g))return"Safari";if((g.includes("chrome/")||Dn(g))&&!g.includes("edge/"))return"Chrome";if(ii(g))return"Android";{const x=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===x?.length)return x[1]}return"Other"}function Wr(C=(0,W.z$)()){return/firefox\//i.test(C)}function vr(C=(0,W.z$)()){const g=C.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function Dn(C=(0,W.z$)()){return/crios\//i.test(C)}function hr(C=(0,W.z$)()){return/iemobile/i.test(C)}function ii(C=(0,W.z$)()){return/android/i.test(C)}function Ye(C=(0,W.z$)()){return/blackberry/i.test(C)}function We(C=(0,W.z$)()){return/webos/i.test(C)}function Le(C=(0,W.z$)()){return/iphone|ipad|ipod/i.test(C)||/macintosh/i.test(C)&&/mobile/i.test(C)}function Tn(C=(0,W.z$)()){return Le(C)||ii(C)||We(C)||Ye(C)||/windows phone/i.test(C)||hr(C)}function Cr(C,g=[]){let _;switch(C){case"Browser":_=jn((0,W.z$)());break;case"Worker":_=`${jn((0,W.z$)())}-${C}`;break;default:_=C}const x=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${Be.SDK_VERSION}/${x}`}class ci{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,_){const x=we=>new Promise((dt,Bt)=>{try{dt(g(we))}catch(vn){Bt(vn)}});x.onAbort=_,this.queue.push(x);const q=this.queue.length-1;return()=>{this.queue[q]=()=>Promise.resolve()}}runMiddleware(g){var _=this;return(0,u.Z)(function*(){var x;if(_.auth.currentUser===g)return;const q=[];try{for(const we of _.queue)yield we(g),we.onAbort&&q.push(we.onAbort)}catch(we){q.reverse();for(const dt of q)try{dt()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:null===(x=we)||void 0===x?void 0:x.message})}})()}}class Gn{constructor(g,_,x){this.app=g,this.heartbeatServiceProvider=_,this.config=x,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yr(this),this.idTokenSubscription=new Yr(this),this.beforeStateQueue=new ci(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ke,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=x.sdkClientVersion}_initializeWithPersistence(g,_){var x=this;return _&&(this._popupRedirectResolver=xe(_)),this._initializationPromise=this.queue((0,u.Z)(function*(){var q,we;if(!x._deleted&&(x.persistenceManager=yield cn.create(x,g),!x._deleted)){if(null!==(q=x._popupRedirectResolver)&&void 0!==q&&q._shouldInitProactively)try{yield x._popupRedirectResolver._initialize(x)}catch{}yield x.initializeCurrentUser(_),x.lastNotifiedUid=(null===(we=x.currentUser)||void 0===we?void 0:we.uid)||null,!x._deleted&&(x._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,u.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_,!0)}})()}initializeCurrentUser(g){var _=this;return(0,u.Z)(function*(){var x;const q=yield _.assertedPersistence.getCurrentUser();let we=q,dt=!1;if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const Bt=null===(x=_.redirectUser)||void 0===x?void 0:x._redirectEventId,vn=we?._redirectEventId,xn=yield _.tryRedirectSignIn(g);(!Bt||Bt===vn)&&xn?.user&&(we=xn.user,dt=!0)}if(!we)return _.directlySetCurrentUser(null);if(!we._redirectEventId){if(dt)try{yield _.beforeStateQueue.runMiddleware(we)}catch(Bt){we=q,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(Bt))}return we?_.reloadAndSetCurrentUserOrClear(we):_.directlySetCurrentUser(null)}return Me(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===we._redirectEventId?_.directlySetCurrentUser(we):_.reloadAndSetCurrentUserOrClear(we)})()}tryRedirectSignIn(g){var _=this;return(0,u.Z)(function*(){let x=null;try{x=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch{yield _._setRedirectUser(null)}return x})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,u.Z)(function*(){var x;try{yield Un(g)}catch(q){if("auth/network-request-failed"!==(null===(x=q)||void 0===x?void 0:x.code))return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function ye(){if(typeof navigator>"u")return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var g=this;return(0,u.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,u.Z)(function*(){const x=g?(0,W.m9)(g):null;return x&&Me(x.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(x&&x._clone(_))})()}_updateCurrentUser(g,_=!1){var x=this;return(0,u.Z)(function*(){if(!x._deleted)return g&&Me(x.tenantId===g.tenantId,x,"tenant-id-mismatch"),_||(yield x.beforeStateQueue.runMiddleware(g)),x.queue((0,u.Z)(function*(){yield x.directlySetCurrentUser(g),x.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,u.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var _=this;return this.queue((0,u.Z)(function*(){yield _.assertedPersistence.setPersistence(xe(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new W.LL("auth","Firebase",g())}onAuthStateChanged(g,_,x){return this.registerStateListener(this.authStateSubscription,g,_,x)}beforeAuthStateChanged(g,_){return this.beforeStateQueue.pushCallback(g,_)}onIdTokenChanged(g,_,x){return this.registerStateListener(this.idTokenSubscription,g,_,x)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var x=this;return(0,u.Z)(function*(){const q=yield x.getOrInitRedirectPersistenceManager(_);return null===g?q.removeCurrentUser():q.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,u.Z)(function*(){if(!_.redirectPersistenceManager){const x=g&&xe(g)||_._popupRedirectResolver;Me(x,_,"argument-error"),_.redirectPersistenceManager=yield cn.create(_,[xe(x._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,u.Z)(function*(){var x,q;return _._isInitialized&&(yield _.queue((0,u.Z)(function*(){}))),(null===(x=_._currentUser)||void 0===x?void 0:x._redirectEventId)===g?_._currentUser:(null===(q=_.redirectUser)||void 0===q?void 0:q._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,u.Z)(function*(){if(g===_.currentUser)return _.queue((0,u.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const x=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==x&&(this.lastNotifiedUid=x,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,x,q){if(this._deleted)return()=>{};const we="function"==typeof _?_:_.next.bind(_),dt=this._isInitialized?Promise.resolve():this._initializationPromise;return Me(dt,this,"internal-error"),dt.then(()=>we(this.currentUser)),"function"==typeof _?g.addObserver(_,x,q):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,u.Z)(function*(){_.currentUser&&_.currentUser!==g&&_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh(),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Cr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,u.Z)(function*(){var _;const x={"X-Client-Version":g.clientVersion};g.app.options.appId&&(x["X-Firebase-gmpid"]=g.app.options.appId);const q=yield null===(_=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return q&&(x["X-Firebase-Client"]=q),x})()}}function Jr(C){return(0,W.m9)(C)}class Yr{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,W.ne)(_=>this.observer=_)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ei(C){const g=C.indexOf(":");return g<0?"":C.substr(0,g+1)}function hs(C){if(!C)return null;const g=Number(C);return isNaN(g)?null:g}class li{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return Ge("not implemented")}_getIdTokenResponse(g){return Ge("not implemented")}_linkToIdToken(g,_){return Ge("not implemented")}_getReauthenticationResolver(g){return Ge("not implemented")}}function Pr(C,g){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,u.Z)(function*(C,g){return Lt(C,"POST","/v1/accounts:resetPassword",gt(C,g))})).apply(this,arguments)}function Pn(C,g){return fi.apply(this,arguments)}function fi(){return(fi=(0,u.Z)(function*(C,g){return Lt(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Hi(C,g){return ns.apply(this,arguments)}function ns(){return(ns=(0,u.Z)(function*(C,g){return Lt(C,"POST","/v1/accounts:update",gt(C,g))})).apply(this,arguments)}function yi(){return(yi=(0,u.Z)(function*(C,g){return Nn(C,"POST","/v1/accounts:signInWithPassword",gt(C,g))})).apply(this,arguments)}function xi(C,g){return ue.apply(this,arguments)}function ue(){return(ue=(0,u.Z)(function*(C,g){return Lt(C,"POST","/v1/accounts:sendOobCode",gt(C,g))})).apply(this,arguments)}function De(C,g){return lt.apply(this,arguments)}function lt(){return(lt=(0,u.Z)(function*(C,g){return xi(C,g)})).apply(this,arguments)}function ut(C,g){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,u.Z)(function*(C,g){return xi(C,g)})).apply(this,arguments)}function Ke(C,g){return mt.apply(this,arguments)}function mt(){return(mt=(0,u.Z)(function*(C,g){return xi(C,g)})).apply(this,arguments)}function Gt(C,g){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,u.Z)(function*(C,g){return xi(C,g)})).apply(this,arguments)}function hn(){return(hn=(0,u.Z)(function*(C,g){return Nn(C,"POST","/v1/accounts:signInWithEmailLink",gt(C,g))})).apply(this,arguments)}function Hn(){return(Hn=(0,u.Z)(function*(C,g){return Nn(C,"POST","/v1/accounts:signInWithEmailLink",gt(C,g))})).apply(this,arguments)}class Or extends li{constructor(g,_,x,q=null){super("password",x),this._email=g,this._password=_,this._tenantId=q}static _fromEmailAndPassword(g,_){return new Or(g,_,"password")}static _fromEmailAndCode(g,_,x=null){return new Or(g,_,"emailLink",x)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,u.Z)(function*(){switch(_.signInMethod){case"password":return function Ss(C,g){return yi.apply(this,arguments)}(g,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function Yt(C,g){return hn.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:Dt(g,"internal-error")}})()}_linkToIdToken(g,_){var x=this;return(0,u.Z)(function*(){switch(x.signInMethod){case"password":return Pn(g,{idToken:_,returnSecureToken:!0,email:x._email,password:x._password});case"emailLink":return function Bn(C,g){return Hn.apply(this,arguments)}(g,{idToken:_,email:x._email,oobCode:x._password});default:Dt(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Zn(C,g){return ct.apply(this,arguments)}function ct(){return(ct=(0,u.Z)(function*(C,g){return Nn(C,"POST","/v1/accounts:signInWithIdp",gt(C,g))})).apply(this,arguments)}class yt extends li{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new yt(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):Dt("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:x,signInMethod:q}=_,we=(0,Ne._T)(_,["providerId","signInMethod"]);if(!x||!q)return null;const dt=new yt(x,q);return dt.idToken=we.idToken||void 0,dt.accessToken=we.accessToken||void 0,dt.secret=we.secret,dt.nonce=we.nonce,dt.pendingToken=we.pendingToken||null,dt}_getIdTokenResponse(g){return Zn(g,this.buildRequest())}_linkToIdToken(g,_){const x=this.buildRequest();return x.idToken=_,Zn(g,x)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,Zn(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,W.xO)(_)}return g}}function jt(C,g){return on.apply(this,arguments)}function on(){return(on=(0,u.Z)(function*(C,g){return Lt(C,"POST","/v1/accounts:sendVerificationCode",gt(C,g))})).apply(this,arguments)}function kn(){return(kn=(0,u.Z)(function*(C,g){return Nn(C,"POST","/v1/accounts:signInWithPhoneNumber",gt(C,g))})).apply(this,arguments)}function Dr(){return(Dr=(0,u.Z)(function*(C,g){const _=yield Nn(C,"POST","/v1/accounts:signInWithPhoneNumber",gt(C,g));if(_.temporaryProof)throw Mr(C,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const ys={USER_NOT_FOUND:"user-not-found"};function Gi(){return(Gi=(0,u.Z)(function*(C,g){return Nn(C,"POST","/v1/accounts:signInWithPhoneNumber",gt(C,Object.assign(Object.assign({},g),{operation:"REAUTH"})),ys)})).apply(this,arguments)}class bi extends li{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new bi({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new bi({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function mn(C,g){return kn.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function Ii(C,g){return Dr.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function ji(C,g){return Gi.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:x,verificationCode:q}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:x,code:q}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:x,phoneNumber:q,temporaryProof:we}=g;return x||_||q||we?new bi({verificationId:_,verificationCode:x,phoneNumber:q,temporaryProof:we}):null}}class Bs{constructor(g){var _,x,q,we,dt,Bt;const vn=(0,W.zd)((0,W.pd)(g)),xn=null!==(_=vn.apiKey)&&void 0!==_?_:null,lr=null!==(x=vn.oobCode)&&void 0!==x?x:null,rr=function As(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(q=vn.mode)&&void 0!==q?q:null);Me(xn&&lr&&rr,"argument-error"),this.apiKey=xn,this.operation=rr,this.code=lr,this.continueUrl=null!==(we=vn.continueUrl)&&void 0!==we?we:null,this.languageCode=null!==(dt=vn.languageCode)&&void 0!==dt?dt:null,this.tenantId=null!==(Bt=vn.tenantId)&&void 0!==Bt?Bt:null}static parseLink(g){const _=function go(C){const g=(0,W.zd)((0,W.pd)(C)).link,_=g?(0,W.zd)((0,W.pd)(g)).deep_link_id:null,x=(0,W.zd)((0,W.pd)(C)).deep_link_id;return(x?(0,W.zd)((0,W.pd)(x)).link:null)||x||_||g||C}(g);try{return new Bs(_)}catch{return null}}}let Kr=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(_,x){return Or._fromEmailAndPassword(_,x)}static credentialWithLink(_,x){const q=Bs.parseLink(x);return Me(q,"argument-error"),Or._fromEmailAndCode(_,q.code,q.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class xs{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class fs extends xs{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Vs extends fs{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return Me("providerId"in _&&"signInMethod"in _,"argument-error"),yt._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return Me(g.idToken||g.accessToken,"argument-error"),yt._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Vs.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Vs.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:x,oauthTokenSecret:q,pendingToken:we,nonce:dt,providerId:Bt}=g;if(!x&&!q&&!_&&!we||!Bt)return null;try{return new Vs(Bt)._credential({idToken:_,accessToken:x,nonce:dt,pendingToken:we})}catch{return null}}}let mo=(()=>{class C extends fs{constructor(){super("facebook.com")}static credential(_){return yt._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return C.credential(_.oauthAccessToken)}catch{return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),Ms=(()=>{class C extends fs{constructor(){super("google.com"),this.addScope("profile")}static credential(_,x){return yt._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:x})}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:x,oauthAccessToken:q}=_;if(!x&&!q)return null;try{return C.credential(x,q)}catch{return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),Rs=(()=>{class C extends fs{constructor(){super("github.com")}static credential(_){return yt._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return C.credential(_.oauthAccessToken)}catch{return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class Qi extends li{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return Zn(g,this.buildRequest())}_linkToIdToken(g,_){const x=this.buildRequest();return x.idToken=_,Zn(g,x)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,Zn(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:x,signInMethod:q,pendingToken:we}=_;return x&&q&&we&&x===q?new Qi(x,we):null}static _create(g,_){return new Qi(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class rs extends xs{constructor(g){Me(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return rs.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return rs.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=Qi.fromJSON(g);return Me(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:x}=g;if(!_||!x)return null;try{return Qi._create(x,_)}catch{return null}}}let Fi=(()=>{class C extends fs{constructor(){super("twitter.com")}static credential(_,x){return yt._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:x})}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:x,oauthTokenSecret:q}=_;if(!x||!q)return null;try{return C.credential(x,q)}catch{return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function zi(C,g){return ra.apply(this,arguments)}function ra(){return(ra=(0,u.Z)(function*(C,g){return Nn(C,"POST","/v1/accounts:signUp",gt(C,g))})).apply(this,arguments)}class Li{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,x,q=!1){return(0,u.Z)(function*(){const we=yield gn._fromIdTokenResponse(g,x,q),dt=Ws(x);return new Li({user:we,providerId:dt,_tokenResponse:x,operationType:_})})()}static _forOperation(g,_,x){return(0,u.Z)(function*(){yield g._updateTokensIfNecessary(x,!0);const q=Ws(x);return new Li({user:g,providerId:q,_tokenResponse:x,operationType:_})})()}}function Ws(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function Ur(){return(Ur=(0,u.Z)(function*(C){var g;const _=Jr(C);if(yield _._initializationPromise,null!==(g=_.currentUser)&&void 0!==g&&g.isAnonymous)return new Li({user:_.currentUser,providerId:null,operationType:"signIn"});const x=yield zi(_,{returnSecureToken:!0}),q=yield Li._fromIdTokenResponse(_,"signIn",x,!0);return yield _._updateCurrentUser(q.user),q})).apply(this,arguments)}class Ys extends W.ZR{constructor(g,_,x,q){var we;super(_.code,_.message),this.operationType=x,this.user=q,Object.setPrototypeOf(this,Ys.prototype),this.customData={appName:g.name,tenantId:null!==(we=g.tenantId)&&void 0!==we?we:void 0,_serverResponse:_.customData._serverResponse,operationType:x}}static _fromErrorAndOperation(g,_,x,q){return new Ys(g,_,x,q)}}function ps(C,g,_,x){return("reauthenticate"===g?_._getReauthenticationResolver(C):_._getIdTokenResponse(C)).catch(we=>{throw"auth/multi-factor-auth-required"===we.code?Ys._fromErrorAndOperation(C,we,g,x):we})}function Xi(C){return new Set(C.map(({providerId:g})=>g).filter(g=>!!g))}function Ps(){return(Ps=(0,u.Z)(function*(C,g){const _=(0,W.m9)(C);yield Nr(!0,_,g);const{providerUserInfo:x}=yield zt(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),q=Xi(x||[]);return _.providerData=_.providerData.filter(we=>q.has(we.providerId)),q.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function vs(C,g){return gs.apply(this,arguments)}function gs(){return(gs=(0,u.Z)(function*(C,g,_=!1){const x=yield Jn(C,g._linkToIdToken(C.auth,yield C.getIdToken()),_);return Li._forOperation(C,"link",x)})).apply(this,arguments)}function Nr(C,g,_){return ss.apply(this,arguments)}function ss(){return(ss=(0,u.Z)(function*(C,g,_){yield Un(g);const q=!1===C?"provider-already-linked":"no-such-provider";Me(Xi(g.providerData).has(_)===C,g.auth,q)})).apply(this,arguments)}function Xs(C,g){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,u.Z)(function*(C,g,_=!1){var x;const{auth:q}=C,we="reauthenticate";try{const dt=yield Jn(C,ps(q,we,g,C),_);Me(dt.idToken,q,"internal-error");const Bt=In(dt.idToken);Me(Bt,q,"internal-error");const{sub:vn}=Bt;return Me(C.uid===vn,q,"user-mismatch"),Li._forOperation(C,we,dt)}catch(dt){throw"auth/user-not-found"===(null===(x=dt)||void 0===x?void 0:x.code)&&Dt(q,"user-mismatch"),dt}})).apply(this,arguments)}function Os(C,g){return $o.apply(this,arguments)}function $o(){return($o=(0,u.Z)(function*(C,g,_=!1){const x="signIn",q=yield ps(C,x,g),we=yield Li._fromIdTokenResponse(C,x,q);return _||(yield C._updateCurrentUser(we.user)),we})).apply(this,arguments)}function Hr(C,g){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,u.Z)(function*(C,g){return Os(Jr(C),g)})).apply(this,arguments)}function yo(C,g){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,u.Z)(function*(C,g){const _=(0,W.m9)(C);return yield Nr(!1,_,g.providerId),vs(_,g)})).apply(this,arguments)}function vo(C,g){return Js.apply(this,arguments)}function Js(){return(Js=(0,u.Z)(function*(C,g){return Xs((0,W.m9)(C),g)})).apply(this,arguments)}function pa(C,g){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,u.Z)(function*(C,g){return Nn(C,"POST","/v1/accounts:signInWithCustomToken",gt(C,g))})).apply(this,arguments)}function Ho(){return(Ho=(0,u.Z)(function*(C,g){const _=Jr(C),x=yield pa(_,{token:g,returnSecureToken:!0}),q=yield Li._fromIdTokenResponse(_,"signIn",x);return yield _._updateCurrentUser(q.user),q})).apply(this,arguments)}class qt{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?_r._fromServerResponse(g,_):Dt(g,"internal-error")}}class _r extends qt{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new _r(_)}}function jo(C,g,_){var x;Me((null===(x=_.url)||void 0===x?void 0:x.length)>0,C,"invalid-continue-uri"),Me(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(Me(_.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(Me(_.android.packageName.length>0,C,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function z(){return(z=(0,u.Z)(function*(C,g,_){const x=(0,W.m9)(C),q={requestType:"PASSWORD_RESET",email:g};_&&jo(x,q,_),yield ut(x,q)})).apply(this,arguments)}function H(){return(H=(0,u.Z)(function*(C,g,_){yield Pr((0,W.m9)(C),{oobCode:g,newPassword:_})})).apply(this,arguments)}function Nt(){return(Nt=(0,u.Z)(function*(C,g){yield Hi((0,W.m9)(C),{oobCode:g})})).apply(this,arguments)}function $(C,g){return V.apply(this,arguments)}function V(){return(V=(0,u.Z)(function*(C,g){const _=(0,W.m9)(C),x=yield Pr(_,{oobCode:g}),q=x.requestType;switch(Me(q,_,"internal-error"),q){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Me(x.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Me(x.mfaInfo,_,"internal-error");default:Me(x.email,_,"internal-error")}let we=null;return x.mfaInfo&&(we=qt._fromServerResponse(Jr(_),x.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.newEmail:x.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.email:x.newEmail)||null,multiFactorInfo:we},operation:q}})).apply(this,arguments)}function se(){return(se=(0,u.Z)(function*(C,g){const{data:_}=yield $((0,W.m9)(C),g);return _.email})).apply(this,arguments)}function Qt(){return(Qt=(0,u.Z)(function*(C,g,_){const x=Jr(C),q=yield zi(x,{returnSecureToken:!0,email:g,password:_}),we=yield Li._fromIdTokenResponse(x,"signIn",q);return yield x._updateCurrentUser(we.user),we})).apply(this,arguments)}function vi(){return(vi=(0,u.Z)(function*(C,g,_){const x=(0,W.m9)(C),q={requestType:"EMAIL_SIGNIN",email:g};Me(_.handleCodeInApp,x,"argument-error"),_&&jo(x,q,_),yield Ke(x,q)})).apply(this,arguments)}function _o(){return(_o=(0,u.Z)(function*(C,g,_){const x=(0,W.m9)(C),q=Kr.credentialWithLink(g,_||re());return Me(q._tenantId===(x.tenantId||null),x,"tenant-id-mismatch"),Hr(x,q)})).apply(this,arguments)}function rc(C,g){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,u.Z)(function*(C,g){return Lt(C,"POST","/v1/accounts:createAuthUri",gt(C,g))})).apply(this,arguments)}function xa(){return(xa=(0,u.Z)(function*(C,g){const x={identifier:g,continueUri:be()?re():"http://localhost"},{signinMethods:q}=yield rc((0,W.m9)(C),x);return q||[]})).apply(this,arguments)}function ia(){return(ia=(0,u.Z)(function*(C,g){const _=(0,W.m9)(C),q={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};g&&jo(_.auth,q,g);const{email:we}=yield De(_.auth,q);we!==C.email&&(yield C.reload())})).apply(this,arguments)}function eo(){return(eo=(0,u.Z)(function*(C,g,_){const x=(0,W.m9)(C),we={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:g};_&&jo(x.auth,we,_);const{email:dt}=yield Gt(x.auth,we);dt!==C.email&&(yield C.reload())})).apply(this,arguments)}function sa(C,g){return oa.apply(this,arguments)}function oa(){return(oa=(0,u.Z)(function*(C,g){return Lt(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function aa(){return(aa=(0,u.Z)(function*(C,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const x=(0,W.m9)(C),we={idToken:yield x.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},dt=yield Jn(x,sa(x.auth,we));x.displayName=dt.displayName||null,x.photoURL=dt.photoUrl||null;const Bt=x.providerData.find(({providerId:vn})=>"password"===vn);Bt&&(Bt.displayName=x.displayName,Bt.photoURL=x.photoURL),yield x._updateTokensIfNecessary(dt)})).apply(this,arguments)}function U(C,g,_){return he.apply(this,arguments)}function he(){return(he=(0,u.Z)(function*(C,g,_){const{auth:x}=C,we={idToken:yield C.getIdToken(),returnSecureToken:!0};g&&(we.email=g),_&&(we.password=_);const dt=yield Jn(C,Pn(x,we));yield C._updateTokensIfNecessary(dt,!0)})).apply(this,arguments)}class Et{constructor(g,_,x={}){this.isNewUser=g,this.providerId=_,this.profile=x}}class At extends Et{constructor(g,_,x,q){super(g,_,x),this.username=q}}class Jt extends Et{constructor(g,_){super(g,"facebook.com",_)}}class xr extends At{constructor(g,_){super(g,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class Qn extends Et{constructor(g,_){super(g,"google.com",_)}}class jr extends At{constructor(g,_,x){super(g,"twitter.com",_,x)}}function $r(C){const{user:g,_tokenResponse:_}=C;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Xe(C){var g,_;if(!C)return null;const{providerId:x}=C,q=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},we=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!x&&C?.idToken){const dt=null===(_=null===(g=In(C.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if(dt)return new Et(we,"anonymous"!==dt&&"custom"!==dt?dt:null)}if(!x)return null;switch(x){case"facebook.com":return new Jt(we,q);case"github.com":return new xr(we,q);case"google.com":return new Qn(we,q);case"twitter.com":return new jr(we,q,C.screenName||null);case"custom":case"anonymous":return new Et(we,null);default:return new Et(we,x,q)}}(_)}class Ks{constructor(g,_,x){this.type=g,this.credential=_,this.auth=x}static _fromIdtoken(g,_){return new Ks("enroll",g,_)}static _fromMfaPendingCredential(g){return new Ks("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,x;if(g?.multiFactorSession){if(null!==(_=g.multiFactorSession)&&void 0!==_&&_.pendingCredential)return Ks._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(x=g.multiFactorSession)&&void 0!==x&&x.idToken)return Ks._fromIdtoken(g.multiFactorSession.idToken)}return null}}class _s{constructor(g,_,x){this.session=g,this.hints=_,this.signInResolver=x}static _fromError(g,_){const x=Jr(g),q=_.customData._serverResponse,we=(q.mfaInfo||[]).map(Bt=>qt._fromServerResponse(x,Bt));Me(q.mfaPendingCredential,x,"internal-error");const dt=Ks._fromMfaPendingCredential(q.mfaPendingCredential);return new _s(dt,we,function(){var Bt=(0,u.Z)(function*(vn){const xn=yield vn._process(x,dt);delete q.mfaInfo,delete q.mfaPendingCredential;const lr=Object.assign(Object.assign({},q),{idToken:xn.idToken,refreshToken:xn.refreshToken});switch(_.operationType){case"signIn":const rr=yield Li._fromIdTokenResponse(x,_.operationType,lr);return yield x._updateCurrentUser(rr.user),rr;case"reauthenticate":return Me(_.user,x,"internal-error"),Li._forOperation(_.user,_.operationType,lr);default:Dt(x,"internal-error")}});return function(vn){return Bt.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,u.Z)(function*(){return _.signInResolver(g)})()}}function no(C,g){return Lt(C,"POST","/v2/accounts/mfaEnrollment:start",gt(C,g))}class iu{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(x=>qt._fromServerResponse(g.auth,x)))})}static _fromUser(g){return new iu(g)}getSession(){var g=this;return(0,u.Z)(function*(){return Ks._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,_){var x=this;return(0,u.Z)(function*(){const q=g,we=yield x.getSession(),dt=yield Jn(x.user,q._process(x.user.auth,we,_));return yield x.user._updateTokensIfNecessary(dt),x.user.reload()})()}unenroll(g){var _=this;return(0,u.Z)(function*(){var x;const q="string"==typeof g?g:g.uid,we=yield _.user.getIdToken(),dt=yield Jn(_.user,function kl(C,g){return Lt(C,"POST","/v2/accounts/mfaEnrollment:withdraw",gt(C,g))}(_.user.auth,{idToken:we,mfaEnrollmentId:q}));_.enrolledFactors=_.enrolledFactors.filter(({uid:Bt})=>Bt!==q),yield _.user._updateTokensIfNecessary(dt);try{yield _.user.reload()}catch(Bt){if("auth/user-token-expired"!==(null===(x=Bt)||void 0===x?void 0:x.code))throw Bt}})()}}const ja=new WeakMap,Ga="__sak";class za{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Ga,"1"),this.storage.removeItem(Ga),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Yi=(()=>{class C extends za{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,x)=>this.onStorageEvent(_,x),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Fl(){const C=(0,W.z$)();return vr(C)||Le(C)}()&&function Rn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Tn(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const x of Object.keys(this.listeners)){const q=this.storage.getItem(x),we=this.localCache[x];q!==we&&_(x,we,q)}}onStorageEvent(_,x=!1){if(!_.key)return void this.forAllChangedKeys((Bt,vn,xn)=>{this.notifyListeners(Bt,xn)});const q=_.key;if(x?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Bt=this.storage.getItem(q);if(_.newValue!==Bt)null!==_.newValue?this.storage.setItem(q,_.newValue):this.storage.removeItem(q);else if(this.localCache[q]===_.newValue&&!x)return}const we=()=>{const Bt=this.storage.getItem(q);!x&&this.localCache[q]===Bt||this.notifyListeners(q,Bt)},dt=this.storage.getItem(q);!function _n(){return(0,W.w1)()&&10===document.documentMode}()||dt===_.newValue||_.newValue===_.oldValue?we():setTimeout(we,10)}notifyListeners(_,x){this.localCache[_]=x;const q=this.listeners[_];if(q)for(const we of Array.from(q))we(x&&JSON.parse(x))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,x,q)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:x,newValue:q}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,x){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(x)}_removeListener(_,x){this.listeners[_]&&(this.listeners[_].delete(x),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,x){var q=()=>super._set,we=this;return(0,u.Z)(function*(){yield q().call(we,_,x),we.localCache[_]=JSON.stringify(x)})()}_get(_){var x=()=>super._get,q=this;return(0,u.Z)(function*(){const we=yield x().call(q,_);return q.localCache[_]=JSON.stringify(we),we})()}_remove(_){var x=()=>super._remove,q=this;return(0,u.Z)(function*(){yield x().call(q,_),delete q.localCache[_]})()}}return C.type="LOCAL",C})(),Pi=(()=>{class C extends za{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,x){}_removeListener(_,x){}}return C.type="SESSION",C})();let la=(()=>{class C{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const x=this.receivers.find(we=>we.isListeningto(_));if(x)return x;const q=new C(_);return this.receivers.push(q),q}isListeningto(_){return this.eventTarget===_}handleEvent(_){var x=this;return(0,u.Z)(function*(){const q=_,{eventId:we,eventType:dt,data:Bt}=q.data,vn=x.handlersMap[dt];if(!vn?.size)return;q.ports[0].postMessage({status:"ack",eventId:we,eventType:dt});const xn=Array.from(vn).map(function(){var rr=(0,u.Z)(function*(ks){return ks(q.origin,Bt)});return function(ks){return rr.apply(this,arguments)}}()),lr=yield function Wo(C){return Promise.all(C.map(function(){var g=(0,u.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(x){return{fulfilled:!1,reason:x}}});return function(_){return g.apply(this,arguments)}}()))}(xn);q.ports[0].postMessage({status:"done",eventId:we,eventType:dt,response:lr})})()}_subscribe(_,x){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(x)}_unsubscribe(_,x){this.handlersMap[_]&&x&&this.handlersMap[_].delete(x),(!x||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function rn(C="",g=10){let _="";for(let x=0;x<g;x++)_+=Math.floor(10*Math.random());return C+_}class Zr{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,x=50){var q=this;return(0,u.Z)(function*(){const we=typeof MessageChannel<"u"?new MessageChannel:null;if(!we)throw new Error("connection_unavailable");let dt,Bt;return new Promise((vn,xn)=>{const lr=rn("",20);we.port1.start();const rr=setTimeout(()=>{xn(new Error("unsupported_event"))},x);Bt={messageChannel:we,onMessage(ks){const La=ks;if(La.data.eventId===lr)switch(La.data.status){case"ack":clearTimeout(rr),dt=setTimeout(()=>{xn(new Error("timeout"))},3e3);break;case"done":clearTimeout(dt),vn(La.data.response);break;default:clearTimeout(rr),clearTimeout(dt),xn(new Error("invalid_response"))}}},q.handlers.add(Bt),we.port1.addEventListener("message",Bt.onMessage),q.target.postMessage({eventType:g,eventId:lr,data:_},[we.port2])}).finally(()=>{Bt&&q.removeMessageHandler(Bt)})})()}}function Oi(){return window}function On(){return typeof Oi().WorkerGlobalScope<"u"&&"function"==typeof Oi().importScripts}function gl(){return(gl=(0,u.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Zt="firebaseLocalStorageDb",ca="firebaseLocalStorage",Ll="fbase_key";class ma{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function ml(C,g){return C.transaction([ca],g?"readwrite":"readonly").objectStore(ca)}function Wa(){const C=indexedDB.open(Zt,1);return new Promise((g,_)=>{C.addEventListener("error",()=>{_(C.error)}),C.addEventListener("upgradeneeded",()=>{const x=C.result;try{x.createObjectStore(ca,{keyPath:Ll})}catch(q){_(q)}}),C.addEventListener("success",(0,u.Z)(function*(){const x=C.result;x.objectStoreNames.contains(ca)?g(x):(x.close(),yield function Ci(){const C=indexedDB.deleteDatabase(Zt);return new ma(C).toPromise()}(),g(yield Wa()))}))})}function ya(C,g,_){return yl.apply(this,arguments)}function yl(){return(yl=(0,u.Z)(function*(C,g,_){const x=ml(C,!0).put({[Ll]:g,value:_});return new ma(x).toPromise()})).apply(this,arguments)}function ho(){return(ho=(0,u.Z)(function*(C,g){const _=ml(C,!1).get(g),x=yield new ma(_).toPromise();return void 0===x?null:x.value})).apply(this,arguments)}function Ns(C,g){const _=ml(C,!0).delete(g);return new ma(_).toPromise()}const si=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,u.Z)(function*(){return _.db||(_.db=yield Wa()),_.db})()}_withRetries(_){var x=this;return(0,u.Z)(function*(){let q=0;for(;;)try{const we=yield x._openDb();return yield _(we)}catch(we){if(q++>3)throw we;x.db&&(x.db.close(),x.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,u.Z)(function*(){return On()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,u.Z)(function*(){_.receiver=la._getInstance(function Vt(){return On()?self:null}()),_.receiver._subscribe("keyChanged",function(){var x=(0,u.Z)(function*(q,we){return{keyProcessed:(yield _._poll()).includes(we.key)}});return function(q,we){return x.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var x=(0,u.Z)(function*(q,we){return["keyChanged"]});return function(q,we){return x.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,u.Z)(function*(){var x,q;if(_.activeServiceWorker=yield function or(){return gl.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Zr(_.activeServiceWorker);const we=yield _.sender._send("ping",{},800);!we||(null===(x=we[0])||void 0===x?void 0:x.fulfilled)&&(null===(q=we[0])||void 0===q?void 0:q.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var x=this;return(0,u.Z)(function*(){if(x.sender&&x.activeServiceWorker&&function bn(){var C;return(null===(C=navigator?.serviceWorker)||void 0===C?void 0:C.controller)||null}()===x.activeServiceWorker)try{yield x.sender._send("keyChanged",{key:_},x.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Wa();return yield ya(_,Ga,"1"),yield Ns(_,Ga),!0}catch{}return!1})()}_withPendingWrite(_){var x=this;return(0,u.Z)(function*(){x.pendingWrites++;try{yield _()}finally{x.pendingWrites--}})()}_set(_,x){var q=this;return(0,u.Z)(function*(){return q._withPendingWrite((0,u.Z)(function*(){return yield q._withRetries(we=>ya(we,_,x)),q.localCache[_]=x,q.notifyServiceWorker(_)}))})()}_get(_){var x=this;return(0,u.Z)(function*(){const q=yield x._withRetries(we=>function Bl(C,g){return ho.apply(this,arguments)}(we,_));return x.localCache[_]=q,q})()}_remove(_){var x=this;return(0,u.Z)(function*(){return x._withPendingWrite((0,u.Z)(function*(){return yield x._withRetries(q=>Ns(q,_)),delete x.localCache[_],x.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,u.Z)(function*(){const x=yield _._withRetries(dt=>{const Bt=ml(dt,!1).getAll();return new ma(Bt).toPromise()});if(!x)return[];if(0!==_.pendingWrites)return[];const q=[],we=new Set;for(const{fbase_key:dt,value:Bt}of x)we.add(dt),JSON.stringify(_.localCache[dt])!==JSON.stringify(Bt)&&(_.notifyListeners(dt,Bt),q.push(dt));for(const dt of Object.keys(_.localCache))_.localCache[dt]&&!we.has(dt)&&(_.notifyListeners(dt,null),q.push(dt));return q})()}notifyListeners(_,x){this.localCache[_]=x;const q=this.listeners[_];if(q)for(const we of Array.from(q))we(x)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,x){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(x)}_removeListener(_,x){this.listeners[_]&&(this.listeners[_].delete(x),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();function nr(C,g){return Lt(C,"POST","/v2/accounts/mfaSignIn:start",gt(C,g))}function va(){return(va=(0,u.Z)(function*(C){return(yield Lt(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function dn(C){return new Promise((g,_)=>{const x=document.createElement("script");x.setAttribute("src",C),x.onload=g,x.onerror=q=>{const we=bt("internal-error");we.customData=q,_(we)},x.type="text/javascript",x.charset="UTF-8",function di(){var C,g;return null!==(g=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==g?g:document}().appendChild(x)})}function Yo(C){return`__${C}${Math.floor(1e6*Math.random())}`}const Ya=1e12;class oi{constructor(g){this.auth=g,this.counter=Ya,this._widgets=new Map}render(g,_){const x=this.counter;return this._widgets.set(x,new Dc(g,this.auth.name,_||{})),this.counter++,x}reset(g){var _;const x=g||Ya;null===(_=this._widgets.get(x))||void 0===_||_.delete(),this._widgets.delete(x)}getResponse(g){var _;return(null===(_=this._widgets.get(g||Ya))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,u.Z)(function*(){var x;return null===(x=_._widgets.get(g||Ya))||void 0===x||x.execute(),""})()}}class Dc{constructor(g,_,x){this.params=x,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const q="string"==typeof g?document.getElementById(g):g;Me(q,"argument-error",{appName:_}),this.container=q,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function $l(C){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let x=0;x<C;x++)g.push(_.charAt(Math.floor(Math.random()*_.length)));return g.join("")}(50);const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ka=Yo("rcb"),vl=new Ie(3e4,6e4);class Tc{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=Oi().grecaptcha)||void 0===g||!g.render)}load(g,_=""){return Me(function su(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(_),g,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(Oi().grecaptcha):new Promise((x,q)=>{const we=Oi().setTimeout(()=>{q(bt(g,"network-request-failed"))},vl.get());Oi()[Ka]=()=>{Oi().clearTimeout(we),delete Oi()[Ka];const Bt=Oi().grecaptcha;if(!Bt)return void q(bt(g,"internal-error"));const vn=Bt.render;Bt.render=(xn,lr)=>{const rr=vn(xn,lr);return this.counter++,rr},this.hostLanguage=_,x(Bt)},dn(`https://www.google.com/recaptcha/api.js??${(0,W.xO)({onload:Ka,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(we),q(bt(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var _;return!(null===(_=Oi().grecaptcha)||void 0===_||!_.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ko{load(g){return(0,u.Z)(function*(){return new oi(g)})()}clearedOneInstance(){}}const Ma="recaptcha",qa={theme:"light",type:"image"};class Tt{constructor(g,_=Object.assign({},qa),x){this.parameters=_,this.type=Ma,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Jr(x),this.isInvisible="invisible"===this.parameters.size,Me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const q="string"==typeof g?document.getElementById(g):g;Me(q,this.auth,"argument-error"),this.container=q,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ko:new Tc,this.validateStartingState()}verify(){var g=this;return(0,u.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),x=g.getAssertedRecaptcha();return x.getResponse(_)||new Promise(we=>{const dt=Bt=>{!Bt||(g.tokenChangeListeners.delete(dt),we(Bt))};g.tokenChangeListeners.add(dt),g.isInvisible&&x.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){Me(!this.parameters.sitekey,this.auth,"argument-error"),Me(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(x=>x(_)),"function"==typeof g)g(_);else if("string"==typeof g){const x=Oi()[g];"function"==typeof x&&x(_)}}}assertNotDestroyed(){Me(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,u.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const x=document.createElement("div");_.appendChild(x),_=x}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,u.Z)(function*(){Me(be()&&!On(),g.auth,"internal-error"),yield function Za(){let C=null;return new Promise(g=>{"complete"!==document.readyState?(C=()=>g(),window.addEventListener("load",C)):g()}).catch(g=>{throw C&&window.removeEventListener("load",C),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function pr(C){return va.apply(this,arguments)}(g.auth);Me(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return Me(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ls{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=bi._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function Qa(){return(Qa=(0,u.Z)(function*(C,g,_){const x=Jr(C),q=yield Ro(x,g,(0,W.m9)(_));return new ls(q,we=>Hr(x,we))})).apply(this,arguments)}function Mo(){return(Mo=(0,u.Z)(function*(C,g,_){const x=(0,W.m9)(C);yield Nr(!1,x,"phone");const q=yield Ro(x.auth,g,(0,W.m9)(_));return new ls(q,we=>yo(x,we))})).apply(this,arguments)}function Ra(){return(Ra=(0,u.Z)(function*(C,g,_){const x=(0,W.m9)(C),q=yield Ro(x.auth,g,(0,W.m9)(_));return new ls(q,we=>vo(x,we))})).apply(this,arguments)}function Ro(C,g,_){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,u.Z)(function*(C,g,_){var x;const q=yield _.verify();try{let we;if(Me("string"==typeof q,C,"argument-error"),Me(_.type===Ma,C,"argument-error"),we="string"==typeof g?{phoneNumber:g}:g,"session"in we){const dt=we.session;if("phoneNumber"in we)return Me("enroll"===dt.type,C,"internal-error"),(yield no(C,{idToken:dt.credential,phoneEnrollmentInfo:{phoneNumber:we.phoneNumber,recaptchaToken:q}})).phoneSessionInfo.sessionInfo;{Me("signin"===dt.type,C,"internal-error");const Bt=(null===(x=we.multiFactorHint)||void 0===x?void 0:x.uid)||we.multiFactorUid;return Me(Bt,C,"missing-multi-factor-info"),(yield nr(C,{mfaPendingCredential:dt.credential,mfaEnrollmentId:Bt,phoneSignInInfo:{recaptchaToken:q}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:dt}=yield jt(C,{phoneNumber:we.phoneNumber,recaptchaToken:q});return dt}}finally{_._reset()}})).apply(this,arguments)}function cs(){return(cs=(0,u.Z)(function*(C,g){yield vs((0,W.m9)(C),g)})).apply(this,arguments)}let qo=(()=>{class C{constructor(_){this.providerId=C.PROVIDER_ID,this.auth=Jr(_)}verifyPhoneNumber(_,x){return Ro(this.auth,_,(0,W.m9)(x))}static credential(_,x){return bi._fromVerification(_,x)}static credentialFromResult(_){return C.credentialFromTaggedObject(_)}static credentialFromError(_){return C.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:x,temporaryProof:q}=_;return x&&q?bi._fromTokenResponse(x,q):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function Es(C,g){return g?xe(g):(Me(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class Pa extends li{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Zn(g,this._buildIdpRequest())}_linkToIdToken(g,_){return Zn(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return Zn(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function ti(C){return Os(C.auth,new Pa(C),C.bypassAuthState)}function Oa(C){const{auth:g,user:_}=C;return Me(_,g,"internal-error"),Xs(_,new Pa(C),C.bypassAuthState)}function Vi(C){return _i.apply(this,arguments)}function _i(){return(_i=(0,u.Z)(function*(C){const{auth:g,user:_}=C;return Me(_,g,"internal-error"),vs(_,new Pa(C),C.bypassAuthState)})).apply(this,arguments)}class Sc{constructor(g,_,x,q,we=!1){this.auth=g,this.resolver=x,this.user=q,this.bypassAuthState=we,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,u.Z)(function*(x,q){g.pendingPromise={resolve:x,reject:q};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(we){g.reject(we)}});return function(x,q){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,u.Z)(function*(){const{urlResponse:x,sessionId:q,postBody:we,tenantId:dt,error:Bt,type:vn}=g;if(Bt)return void _.reject(Bt);const xn={auth:_.auth,requestUri:x,sessionId:q,tenantId:dt||void 0,postBody:we||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(vn)(xn))}catch(lr){_.reject(lr)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return ti;case"linkViaPopup":case"linkViaRedirect":return Vi;case"reauthViaPopup":case"reauthViaRedirect":return Oa;default:Dt(this.auth,"internal-error")}}resolve(g){Ce(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Ce(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Hl=new Ie(2e3,1e4);function jl(){return(jl=(0,u.Z)(function*(C,g,_){const x=Jr(C);rt(C,g,xs);const q=Es(x,_);return new S(x,"signInViaPopup",g,q).executeNotNull()})).apply(this,arguments)}function Ja(){return(Ja=(0,u.Z)(function*(C,g,_){const x=(0,W.m9)(C);rt(x.auth,g,xs);const q=Es(x.auth,_);return new S(x.auth,"reauthViaPopup",g,q,x).executeNotNull()})).apply(this,arguments)}function gi(){return(gi=(0,u.Z)(function*(C,g,_){const x=(0,W.m9)(C);rt(x.auth,g,xs);const q=Es(x.auth,_);return new S(x.auth,"linkViaPopup",g,q,x).executeNotNull()})).apply(this,arguments)}let S=(()=>{class C extends Sc{constructor(_,x,q,we,dt){super(_,x,we,dt),this.provider=q,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var _=this;return(0,u.Z)(function*(){const x=yield _.execute();return Me(x,_.auth,"internal-error"),x})()}onExecution(){var _=this;return(0,u.Z)(function*(){Ce(1===_.filter.length,"Popup operations only handle one event");const x=rn();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],x),_.authWindow.associatedEvent=x,_.resolver._originValidation(_.auth).catch(q=>{_.reject(q)}),_.resolver._isIframeWebStorageSupported(_.auth,q=>{q||_.reject(bt(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(bt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const _=()=>{var x,q;this.pollId=null!==(q=null===(x=this.authWindow)||void 0===x?void 0:x.window)&&void 0!==q&&q.closed?window.setTimeout(()=>{this.pollId=null,this.reject(bt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,Hl.get())};_()}}return C.currentPopupAction=null,C})();const I=new Map;class F extends Sc{constructor(g,_,x=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,x),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,u.Z)(function*(){let x=I.get(_.auth._key());if(!x){try{const we=(yield function G(C,g){return le.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;x=()=>Promise.resolve(we)}catch(q){x=()=>Promise.reject(q)}I.set(_.auth._key(),x)}return _.bypassAuthState||I.set(_.auth._key(),()=>Promise.resolve(null)),x()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,x=this;return(0,u.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(x,g);if("unknown"!==g.type){if(g.eventId){const q=yield x.auth._redirectUserForId(g.eventId);if(q)return x.user=q,_().call(x,g);x.resolve(null)}}else x.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function le(){return(le=(0,u.Z)(function*(C,g){const _=te(g),x=j(C);if(!(yield x._isAvailable()))return!1;const q="true"===(yield x._get(_));return yield x._remove(_),q})).apply(this,arguments)}function je(C,g){return Je.apply(this,arguments)}function Je(){return(Je=(0,u.Z)(function*(C,g){return j(C)._set(te(g),"true")})).apply(this,arguments)}function P(C,g){I.set(C._key(),g)}function j(C){return xe(C._redirectPersistence)}function te(C){return tr("pendingRedirect",C.config.apiKey,C.name)}function xt(){return(xt=(0,u.Z)(function*(C,g,_){const x=Jr(C);rt(C,g,xs);const q=Es(x,_);return yield je(q,x),q._openRedirect(x,g,"signInViaRedirect")})).apply(this,arguments)}function Yn(){return(Yn=(0,u.Z)(function*(C,g,_){const x=(0,W.m9)(C);rt(x.auth,g,xs);const q=Es(x.auth,_);yield je(q,x.auth);const we=yield Po(x);return q._openRedirect(x.auth,g,"reauthViaRedirect",we)})).apply(this,arguments)}function Xn(){return(Xn=(0,u.Z)(function*(C,g,_){const x=(0,W.m9)(C);rt(x.auth,g,xs);const q=Es(x.auth,_);yield Nr(!1,x,g.providerId),yield je(q,x.auth);const we=yield Po(x);return q._openRedirect(x.auth,g,"linkViaRedirect",we)})).apply(this,arguments)}function Zs(){return(Zs=(0,u.Z)(function*(C,g){return yield Jr(C)._initializationPromise,Is(C,g,!1)})).apply(this,arguments)}function Is(C,g){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,u.Z)(function*(C,g,_=!1){const x=Jr(C),q=Es(x,g),dt=yield new F(x,q,_).execute();return dt&&!_&&(delete dt.user._redirectEventId,yield x._persistUserIfCurrent(dt.user),yield x._setRedirectUser(null,g)),dt})).apply(this,arguments)}function Po(C){return _l.apply(this,arguments)}function _l(){return(_l=(0,u.Z)(function*(C){const g=rn(`${C.uid}:::`);return C._redirectEventId=g,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),g})).apply(this,arguments)}class wl{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(x=>{this.isEventForConsumer(g,x)&&(_=!0,this.sendToConsumer(g,x),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function El(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return us(C);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var x;if(g.error&&!us(g)){const q=(null===(x=g.error.code)||void 0===x?void 0:x.split("auth/")[1])||"internal-error";_.onError(bt(this.auth,q))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const x=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&x}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(tl(g))}saveEventToCache(g){this.cachedEventUids.add(tl(g)),this.lastProcessedEventTime=Date.now()}}function tl(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(g=>g).join("-")}function us({type:C,error:g}){return"unknown"===C&&"auth/no-auth-event"===g?.code}function Ti(C){return ih.apply(this,arguments)}function ih(){return(ih=(0,u.Z)(function*(C,g={}){return Lt(C,"GET","/v1/projects",g)})).apply(this,arguments)}const gp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gl=/^https?/;function au(){return(au=(0,u.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:g}=yield Ti(C);for(const _ of g)try{if(fd(_))return}catch{}Dt(C,"unauthorized-domain")})).apply(this,arguments)}function fd(C){const g=re(),{protocol:_,hostname:x}=new URL(g);if(C.startsWith("chrome-extension://")){const dt=new URL(C);return""===dt.hostname&&""===x?"chrome-extension:"===_&&C.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&dt.hostname===x}if(!Gl.test(_))return!1;if(gp.test(C))return x===C;const q=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+q+"|"+q+")$","i").test(x)}const pd=new Ie(3e4,6e4);function sh(){const C=Oi().___jsl;if(C?.H)for(const g of Object.keys(C.H))if(C.H[g].r=C.H[g].r||[],C.H[g].L=C.H[g].L||[],C.H[g].r=[...C.H[g].L],C.CP)for(let _=0;_<C.CP.length;_++)C.CP[_]=null}let Us=null;function gd(C){return Us=Us||function Lu(C){return new Promise((g,_)=>{var x,q,we;function dt(){sh(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{sh(),_(bt(C,"network-request-failed"))},timeout:pd.get()})}if(null!==(q=null===(x=Oi().gapi)||void 0===x?void 0:x.iframes)&&void 0!==q&&q.Iframe)g(gapi.iframes.getContext());else{if(null===(we=Oi().gapi)||void 0===we||!we.load){const Bt=Yo("iframefcb");return Oi()[Bt]=()=>{gapi.load?dt():_(bt(C,"network-request-failed"))},dn(`https://apis.google.com/js/api.js?onload=${Bt}`).catch(vn=>_(vn))}dt()}}).catch(g=>{throw Us=null,g})}(C),Us}const md=new Ie(5e3,15e3),jg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Bu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hf(C){const g=C.config;Me(g.authDomain,C,"auth-domain-config-required");const _=g.emulator?Ue(g,"emulator/auth/iframe"):`https://${C.config.authDomain}/__/auth/iframe`,x={apiKey:g.apiKey,appName:C.name,v:Be.SDK_VERSION},q=Bu.get(C.config.apiHost);q&&(x.eid=q);const we=C._getFrameworks();return we.length&&(x.fw=we.join(",")),`${_}?${(0,W.xO)(x).slice(1)}`}function _a(){return _a=(0,u.Z)(function*(C){const g=yield gd(C),_=Oi().gapi;return Me(_,C,"internal-error"),g.open({where:document.body,url:hf(C),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jg,dontclear:!0},x=>new Promise(function(){var q=(0,u.Z)(function*(we,dt){yield x.restyle({setHideOnLeave:!1});const Bt=bt(C,"network-request-failed"),vn=Oi().setTimeout(()=>{dt(Bt)},md.get());function xn(){Oi().clearTimeout(vn),we(x)}x.ping(xn).then(xn,()=>{dt(Bt)})});return function(we,dt){return q.apply(this,arguments)}}()))}),_a.apply(this,arguments)}const sc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class cu{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Mc(C,g,_,x,q,we){Me(C.config.authDomain,C,"auth-domain-config-required"),Me(C.config.apiKey,C,"invalid-api-key");const dt={apiKey:C.config.apiKey,appName:C.name,authType:_,redirectUrl:x,v:Be.SDK_VERSION,eventId:q};if(g instanceof xs){g.setDefaultLanguage(C.languageCode),dt.providerId=g.providerId||"",(0,W.xb)(g.getCustomParameters())||(dt.customParameters=JSON.stringify(g.getCustomParameters()));for(const[vn,xn]of Object.entries(we||{}))dt[vn]=xn}if(g instanceof fs){const vn=g.getScopes().filter(xn=>""!==xn);vn.length>0&&(dt.scopes=vn.join(","))}C.tenantId&&(dt.tid=C.tenantId);const Bt=dt;for(const vn of Object.keys(Bt))void 0===Bt[vn]&&delete Bt[vn];return`${function du({config:C}){return C.emulator?Ue(C,"emulator/auth/handler"):`https://${C.authDomain}/__/auth/handler`}(C)}?${(0,W.xO)(Bt).slice(1)}`}const bo="webStorageSupport";class Na extends class pf{constructor(g){this.factorId=g}_process(g,_,x){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,x);case"signin":return this._finalizeSignIn(g,_.credential);default:return Ge("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Na(g)}_finalizeEnroll(g,_,x){return function ga(C,g){return Lt(C,"POST","/v2/accounts/mfaEnrollment:finalize",gt(C,g))}(g,{idToken:_,displayName:x,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function pi(C,g){return Lt(C,"POST","/v2/accounts/mfaSignIn:finalize",gt(C,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Rc=(()=>{class C{constructor(){}static assertion(_){return Na._fromCredential(_)}}return C.FACTOR_ID="phone",C})();var ah="@firebase/auth";class Gg{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,u.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(x=>{var q;g((null===(q=x)||void 0===q?void 0:q.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);!_||(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ka(){return window}function Pc(){return(Pc=(0,u.Z)(function*(C,g,_){var x;const{BuildInfo:q}=ka();Ce(g.sessionId,"AuthEvent did not contain a session ID");const we=yield ch(g.sessionId),dt={};return Le()?dt.ibi=q.packageName:ii()?dt.apn=q.packageName:Dt(C,"operation-not-supported-in-this-environment"),q.displayName&&(dt.appDisplayName=q.displayName),dt.sessionId=we,Mc(C,_,g.type,void 0,null!==(x=g.eventId)&&void 0!==x?x:void 0,dt)})).apply(this,arguments)}function Fa(){return(Fa=(0,u.Z)(function*(C){const{BuildInfo:g}=ka(),_={};Le()?_.iosBundleId=g.packageName:ii()?_.androidPackageName=g.packageName:Dt(C,"operation-not-supported-in-this-environment"),yield Ti(C,_)})).apply(this,arguments)}function Il(){return(Il=(0,u.Z)(function*(C,g,_){const{cordova:x}=ka();let q=()=>{};try{yield new Promise((we,dt)=>{let Bt=null;function vn(){var rr;we();const ks=null===(rr=x.plugins.browsertab)||void 0===rr?void 0:rr.close;"function"==typeof ks&&ks(),"function"==typeof _?.close&&_.close()}function xn(){Bt||(Bt=window.setTimeout(()=>{dt(bt(C,"redirect-cancelled-by-user"))},2e3))}function lr(){"visible"===document?.visibilityState&&xn()}g.addPassiveListener(vn),document.addEventListener("resume",xn,!1),ii()&&document.addEventListener("visibilitychange",lr,!1),q=()=>{g.removePassiveListener(vn),document.removeEventListener("resume",xn,!1),document.removeEventListener("visibilitychange",lr,!1),Bt&&window.clearTimeout(Bt)}})}finally{q()}})).apply(this,arguments)}function ch(C){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,u.Z)(function*(C){const g=$u(C),_=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(_)).map(q=>q.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function $u(C){if(Ce(/[0-9a-zA-Z]+/.test(C),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(C);const g=new ArrayBuffer(C.length),_=new Uint8Array(g);for(let x=0;x<C.length;x++)_[x]=C.charCodeAt(x);return _}!function yp(C){(0,Be._registerComponent)(new fe.wA("auth",(g,{options:_})=>{const x=g.getProvider("app").getImmediate(),q=g.getProvider("heartbeat"),{apiKey:we,authDomain:dt}=x.options;return((Bt,vn)=>{Me(we&&!we.includes(":"),"invalid-api-key",{appName:Bt.name}),Me(!dt?.includes(":"),"argument-error",{appName:Bt.name});const xn={apiKey:we,authDomain:dt,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Cr(C)},lr=new Gn(Bt,vn,xn);return function Oe(C,g){const _=g?.persistence||[],x=(Array.isArray(_)?_:[_]).map(xe);g?.errorMap&&C._updateErrorMap(g.errorMap),C._initializeWithPersistence(x,g?.popupRedirectResolver)}(lr,_),lr})(x,q)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,x)=>{g.getProvider("auth-internal").initialize()})),(0,Be._registerComponent)(new fe.wA("auth-internal",g=>{const _=Jr(g.getProvider("auth").getImmediate());return new Gg(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Be.registerVersion)(ah,"0.20.7",function mf(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(C)),(0,Be.registerVersion)(ah,"0.20.7","esm2017")}("Browser");class wp extends wl{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(g)),super.onEvent(g)}initialized(){var g=this;return(0,u.Z)(function*(){yield g.initPromise})()}}function bl(C){return pu.apply(this,arguments)}function pu(){return(pu=(0,u.Z)(function*(C){const g=yield uh()._get(Uu(C));return g&&(yield uh()._remove(Uu(C))),g})).apply(this,arguments)}function gu(){const C=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<20;_++){const x=Math.floor(Math.random()*g.length);C.push(g.charAt(x))}return C.join("")}function uh(){return xe(Yi)}function Uu(C){return tr("authEvent",C.config.apiKey,C.name)}function Ea(C){if(!C?.includes("?"))return{};const[g,..._]=C.split("?");return(0,W.zd)(_.join("?"))}function _d(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:bt("no-auth-event")}}function Cl(){var C;return(null===(C=self?.location)||void 0===C?void 0:C.protocol)||null}function kc(C=(0,W.z$)()){return!("file:"!==Cl()&&"ionic:"!==Cl()&&"capacitor:"!==Cl()||!C.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ia(){try{const C=self.localStorage,g=rn();if(C)return C.setItem(g,"1"),C.removeItem(g),!function Hu(C=(0,W.z$)()){return function dh(){return(0,W.w1)()&&11===document?.documentMode}()||function yu(C=(0,W.z$)()){return/Edge\/\d+/.test(C)}(C)}()||(0,W.hl)()}catch{return Dl()&&(0,W.hl)()}return!1}function Dl(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function nl(){return(function dc(){return"http:"===Cl()||"https:"===Cl()}()||(0,W.ru)()||kc())&&!function Xo(){return(0,W.b$)()||(0,W.UG)()}()&&Ia()&&!Dl()}function ju(){return kc()&&typeof document<"u"}function Er(){return(Er=(0,u.Z)(function*(){return!!ju()&&new Promise(C=>{const g=setTimeout(()=>{C(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),C(!0)})})})).apply(this,arguments)}const Co={LOCAL:"local",NONE:"none",SESSION:"session"},Tl=Me,Sl="persistence";function wd(C){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,u.Z)(function*(C){yield C._initializationPromise;const g=fh(),_=tr(Sl,C.config.apiKey,C.name);g&&g.setItem(_,C._getPersistence())})).apply(this,arguments)}function fh(){var C;try{return(null===(C=function Ep(){return typeof window<"u"?window:null}())||void 0===C?void 0:C.sessionStorage)||null}catch{return null}}const Yl=Me;class rl{constructor(){this.browserResolver=xe(class hu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pi,this._completeRedirectFn=Is,this._overrideRedirectResult=P}_openPopup(g,_,x,q){var we=this;return(0,u.Z)(function*(){var dt;Ce(null===(dt=we.eventManagers[g._key()])||void 0===dt?void 0:dt.manager,"_initialize() not called before _openPopup()");const Bt=Mc(g,_,x,re(),q);return function ac(C,g,_,x=500,q=600){const we=Math.max((window.screen.availHeight-q)/2,0).toString(),dt=Math.max((window.screen.availWidth-x)/2,0).toString();let Bt="";const vn=Object.assign(Object.assign({},sc),{width:x.toString(),height:q.toString(),top:we,left:dt}),xn=(0,W.z$)().toLowerCase();_&&(Bt=Dn(xn)?"_blank":_),Wr(xn)&&(g=g||"http://localhost",vn.scrollbars="yes");const lr=Object.entries(vn).reduce((ks,[La,Do])=>`${ks}${La}=${Do},`,"");if(function Ut(C=(0,W.z$)()){var g;return Le(C)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(xn)&&"_self"!==Bt)return function vd(C,g){const _=document.createElement("a");_.href=C,_.target=g;const x=document.createEvent("MouseEvent");x.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(x)}(g||"",Bt),new cu(null);const rr=window.open(g||"",Bt,lr);Me(rr,C,"popup-blocked");try{rr.focus()}catch{}return new cu(rr)}(g,Bt,rn())})()}_openRedirect(g,_,x,q){var we=this;return(0,u.Z)(function*(){return yield we._originValidation(g),function $s(C){Oi().location.href=C}(Mc(g,_,x,re(),q)),new Promise(()=>{})})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:q,promise:we}=this.eventManagers[_];return q?Promise.resolve(q):(Ce(we,"If manager is not set, promise should be"),we)}const x=this.initAndGetManager(g);return this.eventManagers[_]={promise:x},x.catch(()=>{delete this.eventManagers[_]}),x}initAndGetManager(g){var _=this;return(0,u.Z)(function*(){const x=yield function oh(C){return _a.apply(this,arguments)}(g),q=new wl(g);return x.register("authEvent",we=>(Me(we?.authEvent,g,"invalid-auth-event"),{status:q.onEvent(we.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:q},_.iframes[g._key()]=x,q})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(bo,{type:bo},q=>{var we;const dt=null===(we=q?.[0])||void 0===we?void 0:we[bo];void 0!==dt&&_(!!dt),Dt(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function df(C){return au.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return Tn()||vr()||Le()}}),this.cordovaResolver=xe(class vf{constructor(){this._redirectPersistence=Pi,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Is,this._overrideRedirectResult=P}_initialize(g){var _=this;return(0,u.Z)(function*(){const x=g._key();let q=_.eventManagers.get(x);return q||(q=new wp(g),_.eventManagers.set(x,q),_.attachCallbackListeners(g,q)),q})()}_openPopup(g){Dt(g,"operation-not-supported-in-this-environment")}_openRedirect(g,_,x,q){var we=this;return(0,u.Z)(function*(){!function lc(C){var g,_,x,q,we,dt,Bt,vn,xn,lr;const rr=ka();Me("function"==typeof(null===(g=rr?.universalLinks)||void 0===g?void 0:g.subscribe),C,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Me(typeof(null===(_=rr?.BuildInfo)||void 0===_?void 0:_.packageName)<"u",C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Me("function"==typeof(null===(we=null===(q=null===(x=rr?.cordova)||void 0===x?void 0:x.plugins)||void 0===q?void 0:q.browsertab)||void 0===we?void 0:we.openUrl),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Me("function"==typeof(null===(vn=null===(Bt=null===(dt=rr?.cordova)||void 0===dt?void 0:dt.plugins)||void 0===Bt?void 0:Bt.browsertab)||void 0===vn?void 0:vn.isAvailable),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Me("function"==typeof(null===(lr=null===(xn=rr?.cordova)||void 0===xn?void 0:xn.InAppBrowser)||void 0===lr?void 0:lr.open),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const dt=yield we._initialize(g);yield dt.initialized(),dt.resetRedirect(),function Ht(){I.clear()}(),yield we._originValidation(g);const Bt=function es(C,g,_=null){return{type:g,eventId:_,urlResponse:null,sessionId:gu(),postBody:null,tenantId:C.tenantId,error:bt(C,"no-auth-event")}}(g,x,q);yield function wa(C,g){return uh()._set(Uu(C),g)}(g,Bt);const vn=yield function yf(C,g,_){return Pc.apply(this,arguments)}(g,Bt,_),xn=yield function lh(C){const{cordova:g}=ka();return new Promise(_=>{g.plugins.browsertab.isAvailable(x=>{let q=null;x?g.plugins.browsertab.openUrl(C):q=g.InAppBrowser.open(C,function It(C=(0,W.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}()?"_blank":"_system","location=yes"),_(q)})})}(vn);return function Oo(C,g,_){return Il.apply(this,arguments)}(g,dt,xn)})()}_isIframeWebStorageSupported(g,_){throw new Error("Method not implemented.")}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Oc(C){return Fa.apply(this,arguments)}(g)),this.originValidationPromises[_]}attachCallbackListeners(g,_){const{universalLinks:x,handleOpenURL:q,BuildInfo:we}=ka(),dt=setTimeout((0,u.Z)(function*(){yield bl(g),_.onEvent(_d())}),500),Bt=function(){var lr=(0,u.Z)(function*(rr){clearTimeout(dt);const ks=yield bl(g);let La=null;ks&&rr?.url&&(La=function zg(C,g){var _,x;const q=function zl(C){const g=Ea(C),_=g.link?decodeURIComponent(g.link):void 0,x=Ea(_).link,q=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return Ea(q).link||q||x||_||C}(g);if(q.includes("/__/auth/callback")){const we=Ea(q),dt=we.firebaseError?function cc(C){try{return JSON.parse(C)}catch{return null}}(decodeURIComponent(we.firebaseError)):null,Bt=null===(x=null===(_=dt?.code)||void 0===_?void 0:_.split("auth/"))||void 0===x?void 0:x[1],vn=Bt?bt(Bt):null;return vn?{type:C.type,eventId:C.eventId,tenantId:C.tenantId,error:vn,urlResponse:null,sessionId:null,postBody:null}:{type:C.type,eventId:C.eventId,tenantId:C.tenantId,sessionId:C.sessionId,urlResponse:q,postBody:null}}return null}(ks,rr.url)),_.onEvent(La||_d())});return function(ks){return lr.apply(this,arguments)}}();typeof x<"u"&&"function"==typeof x.subscribe&&x.subscribe(null,Bt);const vn=q,xn=`${we.packageName.toLowerCase()}://`;ka().handleOpenURL=function(){var lr=(0,u.Z)(function*(rr){if(rr.toLowerCase().startsWith(xn)&&Bt({url:rr}),"function"==typeof vn)try{vn(rr)}catch(ks){console.error(ks)}});return function(rr){return lr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Pi,this._completeRedirectFn=Is,this._overrideRedirectResult=P}_initialize(g){var _=this;return(0,u.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,_,x,q){var we=this;return(0,u.Z)(function*(){return yield we.selectUnderlyingResolver(),we.assertedUnderlyingResolver._openPopup(g,_,x,q)})()}_openRedirect(g,_,x,q){var we=this;return(0,u.Z)(function*(){return yield we.selectUnderlyingResolver(),we.assertedUnderlyingResolver._openRedirect(g,_,x,q)})()}_isIframeWebStorageSupported(g,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,_)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return ju()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Yl(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,u.Z)(function*(){if(g.underlyingResolver)return;const _=yield function _f(){return Er.apply(this,arguments)}();g.underlyingResolver=_?g.cordovaResolver:g.browserResolver})()}}function vu(C){return C.unwrap()}function Ed(C){return hc(C)}function hc(C){const{_tokenResponse:g}=C instanceof W.ZR?C.customData:C;if(!g)return null;if(!(C instanceof W.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return qo.credentialFromResult(C);const _=g.providerId;if(!_||"password"===_)return null;let x;switch(_){case"google.com":x=Ms;break;case"facebook.com":x=mo;break;case"github.com":x=Rs;break;case"twitter.com":x=Fi;break;default:const{oauthIdToken:q,oauthAccessToken:we,oauthTokenSecret:dt,pendingToken:Bt,nonce:vn}=g;return we||dt||q||Bt?Bt?_.startsWith("saml.")?Qi._create(_,Bt):yt._fromParams({providerId:_,signInMethod:_,pendingToken:Bt,idToken:q,accessToken:we}):new Vs(_).credential({idToken:q,accessToken:we,rawNonce:vn}):null}return C instanceof W.ZR?x.credentialFromError(C):x.credentialFromResult(C)}function js(C,g){return g.catch(_=>{throw _ instanceof W.ZR&&function ba(C,g){var _,x;const q=null===(_=g.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===(null===(x=g)||void 0===x?void 0:x.code))g.resolver=new ph(C,function Wi(C,g){var _;const x=(0,W.m9)(C),q=g;return Me(g.customData.operationType,x,"argument-error"),Me(null===(_=q.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,x,"argument-error"),_s._fromError(x,q)}(C,g));else if(q){const we=hc(g),dt=g;we&&(dt.credential=we,dt.tenantId=q.tenantId||void 0,dt.email=q.email||void 0,dt.phoneNumber=q.phoneNumber||void 0)}}(C,_),_}).then(_=>{const q=_.user;return{operationType:_.operationType,credential:Ed(_),additionalUserInfo:$r(_),user:Ca.getOrCreate(q)}})}function Gs(C,g){return Al.apply(this,arguments)}function Al(){return(Al=(0,u.Z)(function*(C,g){const _=yield g;return{verificationId:_.verificationId,confirm:x=>js(C,_.confirm(x))}})).apply(this,arguments)}class ph{constructor(g,_){this.resolver=_,this.auth=function _u(C){return C.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return js(vu(this.auth),this.resolver.resolveSignIn(g))}}class Ca{constructor(g){this._delegate=g,this.multiFactor=function ic(C){const g=(0,W.m9)(C);return ja.has(g)||ja.set(g,iu._fromUser(g)),ja.get(g)}(g)}static getOrCreate(g){return Ca.USER_MAP.has(g)||Ca.USER_MAP.set(g,new Ca(g)),Ca.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var _=this;return(0,u.Z)(function*(){return js(_.auth,yo(_._delegate,g))})()}linkWithPhoneNumber(g,_){var x=this;return(0,u.Z)(function*(){return Gs(x.auth,function Ji(C,g,_){return Mo.apply(this,arguments)}(x._delegate,g,_))})()}linkWithPopup(g){var _=this;return(0,u.Z)(function*(){return js(_.auth,function Zo(C,g,_){return gi.apply(this,arguments)}(_._delegate,g,rl))})()}linkWithRedirect(g){var _=this;return(0,u.Z)(function*(){return yield wd(Jr(_.auth)),function ar(C,g,_){return function kr(C,g,_){return Xn.apply(this,arguments)}(C,g,_)}(_._delegate,g,rl)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var _=this;return(0,u.Z)(function*(){return js(_.auth,vo(_._delegate,g))})()}reauthenticateWithPhoneNumber(g,_){return Gs(this.auth,function Io(C,g,_){return Ra.apply(this,arguments)}(this._delegate,g,_))}reauthenticateWithPopup(g){return js(this.auth,function Ni(C,g,_){return Ja.apply(this,arguments)}(this._delegate,g,rl))}reauthenticateWithRedirect(g){var _=this;return(0,u.Z)(function*(){return yield wd(Jr(_.auth)),function $t(C,g,_){return function nn(C,g,_){return Yn.apply(this,arguments)}(C,g,_)}(_._delegate,g,rl)})()}sendEmailVerification(g){return function Ha(C,g){return ia.apply(this,arguments)}(this._delegate,g)}unlink(g){var _=this;return(0,u.Z)(function*(){return yield function yr(C,g){return Ps.apply(this,arguments)}(_._delegate,g),_})()}updateEmail(g){return function B(C,g){return U((0,W.m9)(C),g,null)}(this._delegate,g)}updatePassword(g){return function ee(C,g){return U((0,W.m9)(C),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function ou(C,g){return cs.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function xo(C,g){return aa.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,_){return function pl(C,g,_){return eo.apply(this,arguments)}(this._delegate,g,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ca.USER_MAP=new WeakMap;const io=Me;let il=(()=>{class C{constructor(_,x){if(this.app=_,x.isInitialized())return this._delegate=x.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:q}=_.options;io(q,"invalid-api-key",{appName:_.name}),io(q,"invalid-api-key",{appName:_.name});const we=typeof window<"u"?rl:void 0;this._delegate=x.initialize({options:{persistence:zu(q,_.name),popupRedirectResolver:we}}),this._delegate._updateErrorMap(Qe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ca.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,x){!function qi(C,g,_){const x=Jr(C);Me(x._canInitEmulator,x,"emulator-config-failed"),Me(/^https?:\/\//.test(g),x,"invalid-emulator-scheme");const q=!!_?.disableWarnings,we=ei(g),{host:dt,port:Bt}=function mr(C){const g=ei(C),_=/(\/\/)?([^?#/]+)/.exec(C.substr(g.length));if(!_)return{host:"",port:null};const x=_[2].split("@").pop()||"",q=/^(\[[^\]]+\])(:|$)/.exec(x);if(q){const we=q[1];return{host:we,port:hs(x.substr(we.length+1))}}{const[we,dt]=x.split(":");return{host:we,port:hs(dt)}}}(g);x.config.emulator={url:`${we}//${dt}${null===Bt?"":`:${Bt}`}/`},x.settings.appVerificationDisabledForTesting=!0,x.emulatorConfig=Object.freeze({host:dt,port:Bt,protocol:we.replace(":",""),options:Object.freeze({disableWarnings:q})}),q||function Zi(){function C(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}(this._delegate,_,x)}applyActionCode(_){return function _e(C,g){return Nt.apply(this,arguments)}(this._delegate,_)}checkActionCode(_){return $(this._delegate,_)}confirmPasswordReset(_,x){return function E(C,g,_){return H.apply(this,arguments)}(this._delegate,_,x)}createUserWithEmailAndPassword(_,x){var q=this;return(0,u.Z)(function*(){return js(q._delegate,function Ct(C,g,_){return Qt.apply(this,arguments)}(q._delegate,_,x))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return function Aa(C,g){return xa.apply(this,arguments)}(this._delegate,_)}isSignInWithEmailLink(_){return function wr(C,g){return"EMAIL_SIGNIN"===Bs.parseLink(g)?.operation}(0,_)}getRedirectResult(){var _=this;return(0,u.Z)(function*(){io(nl(),_._delegate,"operation-not-supported-in-this-environment");const x=yield function $i(C,g){return Zs.apply(this,arguments)}(_._delegate,rl);return x?js(_._delegate,Promise.resolve(x)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function bs(C,g){Jr(C)._logFramework(g)}(this._delegate,_)}onAuthStateChanged(_,x,q){const{next:we,error:dt,complete:Bt}=gh(_,x,q);return this._delegate.onAuthStateChanged(we,dt,Bt)}onIdTokenChanged(_,x,q){const{next:we,error:dt,complete:Bt}=gh(_,x,q);return this._delegate.onIdTokenChanged(we,dt,Bt)}sendSignInLinkToEmail(_,x){return function qr(C,g,_){return vi.apply(this,arguments)}(this._delegate,_,x)}sendPasswordResetEmail(_,x){return function b(C,g,_){return z.apply(this,arguments)}(this._delegate,_,x||void 0)}setPersistence(_){var x=this;return(0,u.Z)(function*(){let q;switch(function Gu(C,g){Tl(Object.values(Co).includes(g),C,"invalid-persistence-type"),(0,W.b$)()?Tl(g!==Co.SESSION,C,"unsupported-persistence-type"):(0,W.UG)()?Tl(g===Co.NONE,C,"unsupported-persistence-type"):Dl()?Tl(g===Co.NONE||g===Co.LOCAL&&(0,W.hl)(),C,"unsupported-persistence-type"):Tl(g===Co.NONE||Ia(),C,"unsupported-persistence-type")}(x._delegate,_),_){case Co.SESSION:q=Pi;break;case Co.LOCAL:q=(yield xe(si)._isAvailable())?si:Yi;break;case Co.NONE:q=zn;break;default:return Dt("argument-error",{appName:x._delegate.name})}return x._delegate.setPersistence(q)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return js(this._delegate,function Qs(C){return Ur.apply(this,arguments)}(this._delegate))}signInWithCredential(_){return js(this._delegate,Hr(this._delegate,_))}signInWithCustomToken(_){return js(this._delegate,function Uo(C,g){return Ho.apply(this,arguments)}(this._delegate,_))}signInWithEmailAndPassword(_,x){return js(this._delegate,function Wn(C,g,_){return Hr((0,W.m9)(C),Kr.credential(g,_))}(this._delegate,_,x))}signInWithEmailLink(_,x){return js(this._delegate,function os(C,g,_){return _o.apply(this,arguments)}(this._delegate,_,x))}signInWithPhoneNumber(_,x){return Gs(this._delegate,function Ul(C,g,_){return Qa.apply(this,arguments)}(this._delegate,_,x))}signInWithPopup(_){var x=this;return(0,u.Z)(function*(){return io(nl(),x._delegate,"operation-not-supported-in-this-environment"),js(x._delegate,function Ki(C,g,_){return jl.apply(this,arguments)}(x._delegate,_,rl))})()}signInWithRedirect(_){var x=this;return(0,u.Z)(function*(){return io(nl(),x._delegate,"operation-not-supported-in-this-environment"),yield wd(x._delegate),function Ae(C,g,_){return function ht(C,g,_){return xt.apply(this,arguments)}(C,g,_)}(x._delegate,_,rl)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return function N(C,g){return se.apply(this,arguments)}(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return C.Persistence=Co,C})();function gh(C,g,_){let x=C;"function"!=typeof C&&({next:x,error:g,complete:_}=C);const q=x;return{next:dt=>q(dt&&Ca.getOrCreate(dt)),error:g,complete:_}}function zu(C,g){const _=function hh(C,g){const _=fh();if(!_)return[];const x=tr(Sl,C,g);switch(_.getItem(x)){case Co.NONE:return[zn];case Co.LOCAL:return[si,Pi];case Co.SESSION:return[Pi];default:return[]}}(C,g);if(typeof self<"u"&&!_.includes(si)&&_.push(si),typeof window<"u")for(const x of[Yi,Pi])_.includes(x)||_.push(x);return _.includes(zn)||_.push(zn),_}class Id{constructor(){this.providerId="phone",this._delegate=new qo(vu(X.Z.auth()))}static credential(g,_){return qo.credential(g,_)}verifyPhoneNumber(g,_){return this._delegate.verifyPhoneNumber(g,_)}unwrap(){return this._delegate}}Id.PHONE_SIGN_IN_METHOD=qo.PHONE_SIGN_IN_METHOD,Id.PROVIDER_ID=qo.PROVIDER_ID;const bd=Me;class Lc{constructor(g,_,x=X.Z.app()){var q;bd(null===(q=x.options)||void 0===q?void 0:q.apiKey,"invalid-api-key",{appName:x.name}),this._delegate=new Tt(g,_,x.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Ef(C){C.INTERNAL.registerComponent(new fe.wA("auth-compat",g=>{const _=g.getProvider("app-compat").getImmediate(),x=g.getProvider("auth");return new il(_,x)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Kr,FacebookAuthProvider:mo,GithubAuthProvider:Rs,GoogleAuthProvider:Ms,OAuthProvider:Vs,SAMLAuthProvider:rs,PhoneAuthProvider:Id,PhoneMultiFactorGenerator:Rc,RecaptchaVerifier:Lc,TwitterAuthProvider:Fi,Auth:il,AuthCredential:li,Error:W.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),C.registerVersion("@firebase/auth-compat","0.2.20")}(X.Z)},591:(ln,pt,O)=>{"use strict";O.d(pt,{X:()=>W});var u=O(8929),X=O(5279);class W extends u.xQ{constructor(Ne){super(),this._value=Ne}get value(){return this.getValue()}_subscribe(Ne){const J=super._subscribe(Ne);return J&&!J.closed&&Ne.next(this._value),J}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new X.N;return this._value}next(Ne){super.next(this._value=Ne)}}},6498:(ln,pt,O)=>{"use strict";O.d(pt,{y:()=>Ee});var u=O(3489),W=O(7668),Be=O(3292),J=O(3821),fe=O(4843),ve=O(2830);let Ee=(()=>{class ae{constructor(pe){this._isScalar=!1,pe&&(this._subscribe=pe)}lift(pe){const He=new ae;return He.source=this,He.operator=pe,He}subscribe(pe,He,Qe){const{operator:Ve}=this,ke=function Ne(ae,ne,pe){if(ae){if(ae instanceof u.L)return ae;if(ae[W.b])return ae[W.b]()}return ae||ne||pe?new u.L(ae,ne,pe):new u.L(Be.c)}(pe,He,Qe);if(ke.add(Ve?Ve.call(ke,this.source):this.source||ve.v.useDeprecatedSynchronousErrorHandling&&!ke.syncErrorThrowable?this._subscribe(ke):this._trySubscribe(ke)),ve.v.useDeprecatedSynchronousErrorHandling&&ke.syncErrorThrowable&&(ke.syncErrorThrowable=!1,ke.syncErrorThrown))throw ke.syncErrorValue;return ke}_trySubscribe(pe){try{return this._subscribe(pe)}catch(He){ve.v.useDeprecatedSynchronousErrorHandling&&(pe.syncErrorThrown=!0,pe.syncErrorValue=He),function X(ae){for(;ae;){const{closed:ne,destination:pe,isStopped:He}=ae;if(ne||He)return!1;ae=pe&&pe instanceof u.L?pe:null}return!0}(pe)?pe.error(He):console.warn(He)}}forEach(pe,He){return new(He=ie(He))((Qe,Ve)=>{let ke;ke=this.subscribe(ze=>{try{pe(ze)}catch(St){Ve(St),ke&&ke.unsubscribe()}},Ve,Qe)})}_subscribe(pe){const{source:He}=this;return He&&He.subscribe(pe)}[J.L](){return this}pipe(...pe){return 0===pe.length?this:(0,fe.U)(pe)(this)}toPromise(pe){return new(pe=ie(pe))((He,Qe)=>{let Ve;this.subscribe(ke=>Ve=ke,ke=>Qe(ke),()=>He(Ve))})}}return ae.create=ne=>new ae(ne),ae})();function ie(ae){if(ae||(ae=ve.v.Promise||Promise),!ae)throw new Error("no Promise impl found");return ae}},3292:(ln,pt,O)=>{"use strict";O.d(pt,{c:()=>W});var u=O(2830),X=O(2782);const W={closed:!0,next(Be){},error(Be){if(u.v.useDeprecatedSynchronousErrorHandling)throw Be;(0,X.z)(Be)},complete(){}}},826:(ln,pt,O)=>{"use strict";O.d(pt,{L:()=>X});var u=O(3489);class X extends u.L{notifyNext(Be,Ne,J,fe,ve){this.destination.next(Ne)}notifyError(Be,Ne){this.destination.error(Be)}notifyComplete(Be){this.destination.complete()}}},8929:(ln,pt,O)=>{"use strict";O.d(pt,{Yc:()=>fe,xQ:()=>ve});var u=O(6498),X=O(3489),W=O(2654),Be=O(5279),Ne=O(5283),J=O(7668);class fe extends X.L{constructor(ae){super(ae),this.destination=ae}}let ve=(()=>{class ie extends u.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[J.b](){return new fe(this)}lift(ne){const pe=new Ee(this,this);return pe.operator=ne,pe}next(ne){if(this.closed)throw new Be.N;if(!this.isStopped){const{observers:pe}=this,He=pe.length,Qe=pe.slice();for(let Ve=0;Ve<He;Ve++)Qe[Ve].next(ne)}}error(ne){if(this.closed)throw new Be.N;this.hasError=!0,this.thrownError=ne,this.isStopped=!0;const{observers:pe}=this,He=pe.length,Qe=pe.slice();for(let Ve=0;Ve<He;Ve++)Qe[Ve].error(ne);this.observers.length=0}complete(){if(this.closed)throw new Be.N;this.isStopped=!0;const{observers:ne}=this,pe=ne.length,He=ne.slice();for(let Qe=0;Qe<pe;Qe++)He[Qe].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(ne){if(this.closed)throw new Be.N;return super._trySubscribe(ne)}_subscribe(ne){if(this.closed)throw new Be.N;return this.hasError?(ne.error(this.thrownError),W.w.EMPTY):this.isStopped?(ne.complete(),W.w.EMPTY):(this.observers.push(ne),new Ne.W(this,ne))}asObservable(){const ne=new u.y;return ne.source=this,ne}}return ie.create=(ae,ne)=>new Ee(ae,ne),ie})();class Ee extends ve{constructor(ae,ne){super(),this.destination=ae,this.source=ne}next(ae){const{destination:ne}=this;ne&&ne.next&&ne.next(ae)}error(ae){const{destination:ne}=this;ne&&ne.error&&this.destination.error(ae)}complete(){const{destination:ae}=this;ae&&ae.complete&&this.destination.complete()}_subscribe(ae){const{source:ne}=this;return ne?this.source.subscribe(ae):W.w.EMPTY}}},5283:(ln,pt,O)=>{"use strict";O.d(pt,{W:()=>X});var u=O(2654);class X extends u.w{constructor(Be,Ne){super(),this.subject=Be,this.subscriber=Ne,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const Be=this.subject,Ne=Be.observers;if(this.subject=null,!Ne||0===Ne.length||Be.isStopped||Be.closed)return;const J=Ne.indexOf(this.subscriber);-1!==J&&Ne.splice(J,1)}}},3489:(ln,pt,O)=>{"use strict";O.d(pt,{L:()=>fe});var u=O(7043),X=O(3292),W=O(2654),Be=O(7668),Ne=O(2830),J=O(2782);class fe extends W.w{constructor(ie,ae,ne){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=X.c;break;case 1:if(!ie){this.destination=X.c;break}if("object"==typeof ie){ie instanceof fe?(this.syncErrorThrowable=ie.syncErrorThrowable,this.destination=ie,ie.add(this)):(this.syncErrorThrowable=!0,this.destination=new ve(this,ie));break}default:this.syncErrorThrowable=!0,this.destination=new ve(this,ie,ae,ne)}}[Be.b](){return this}static create(ie,ae,ne){const pe=new fe(ie,ae,ne);return pe.syncErrorThrowable=!1,pe}next(ie){this.isStopped||this._next(ie)}error(ie){this.isStopped||(this.isStopped=!0,this._error(ie))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(ie){this.destination.next(ie)}_error(ie){this.destination.error(ie),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:ie}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=ie,this}}class ve extends fe{constructor(ie,ae,ne,pe){super(),this._parentSubscriber=ie;let He,Qe=this;(0,u.m)(ae)?He=ae:ae&&(He=ae.next,ne=ae.error,pe=ae.complete,ae!==X.c&&(Qe=Object.create(ae),(0,u.m)(Qe.unsubscribe)&&this.add(Qe.unsubscribe.bind(Qe)),Qe.unsubscribe=this.unsubscribe.bind(this))),this._context=Qe,this._next=He,this._error=ne,this._complete=pe}next(ie){if(!this.isStopped&&this._next){const{_parentSubscriber:ae}=this;Ne.v.useDeprecatedSynchronousErrorHandling&&ae.syncErrorThrowable?this.__tryOrSetError(ae,this._next,ie)&&this.unsubscribe():this.__tryOrUnsub(this._next,ie)}}error(ie){if(!this.isStopped){const{_parentSubscriber:ae}=this,{useDeprecatedSynchronousErrorHandling:ne}=Ne.v;if(this._error)ne&&ae.syncErrorThrowable?(this.__tryOrSetError(ae,this._error,ie),this.unsubscribe()):(this.__tryOrUnsub(this._error,ie),this.unsubscribe());else if(ae.syncErrorThrowable)ne?(ae.syncErrorValue=ie,ae.syncErrorThrown=!0):(0,J.z)(ie),this.unsubscribe();else{if(this.unsubscribe(),ne)throw ie;(0,J.z)(ie)}}}complete(){if(!this.isStopped){const{_parentSubscriber:ie}=this;if(this._complete){const ae=()=>this._complete.call(this._context);Ne.v.useDeprecatedSynchronousErrorHandling&&ie.syncErrorThrowable?(this.__tryOrSetError(ie,ae),this.unsubscribe()):(this.__tryOrUnsub(ae),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(ie,ae){try{ie.call(this._context,ae)}catch(ne){if(this.unsubscribe(),Ne.v.useDeprecatedSynchronousErrorHandling)throw ne;(0,J.z)(ne)}}__tryOrSetError(ie,ae,ne){if(!Ne.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{ae.call(this._context,ne)}catch(pe){return Ne.v.useDeprecatedSynchronousErrorHandling?(ie.syncErrorValue=pe,ie.syncErrorThrown=!0,!0):((0,J.z)(pe),!0)}return!1}_unsubscribe(){const{_parentSubscriber:ie}=this;this._context=null,this._parentSubscriber=null,ie.unsubscribe()}}},2654:(ln,pt,O)=>{"use strict";O.d(pt,{w:()=>J});var u=O(6688),X=O(7830),W=O(7043);const Ne=(()=>{function ve(Ee){return Error.call(this),this.message=Ee?`${Ee.length} errors occurred during unsubscription:\n${Ee.map((ie,ae)=>`${ae+1}) ${ie.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Ee,this}return ve.prototype=Object.create(Error.prototype),ve})();class J{constructor(Ee){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,Ee&&(this._ctorUnsubscribe=!0,this._unsubscribe=Ee)}unsubscribe(){let Ee;if(this.closed)return;let{_parentOrParents:ie,_ctorUnsubscribe:ae,_unsubscribe:ne,_subscriptions:pe}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,ie instanceof J)ie.remove(this);else if(null!==ie)for(let He=0;He<ie.length;++He)ie[He].remove(this);if((0,W.m)(ne)){ae&&(this._unsubscribe=void 0);try{ne.call(this)}catch(He){Ee=He instanceof Ne?fe(He.errors):[He]}}if((0,u.k)(pe)){let He=-1,Qe=pe.length;for(;++He<Qe;){const Ve=pe[He];if((0,X.K)(Ve))try{Ve.unsubscribe()}catch(ke){Ee=Ee||[],ke instanceof Ne?Ee=Ee.concat(fe(ke.errors)):Ee.push(ke)}}}if(Ee)throw new Ne(Ee)}add(Ee){let ie=Ee;if(!Ee)return J.EMPTY;switch(typeof Ee){case"function":ie=new J(Ee);case"object":if(ie===this||ie.closed||"function"!=typeof ie.unsubscribe)return ie;if(this.closed)return ie.unsubscribe(),ie;if(!(ie instanceof J)){const pe=ie;ie=new J,ie._subscriptions=[pe]}break;default:throw new Error("unrecognized teardown "+Ee+" added to Subscription.")}let{_parentOrParents:ae}=ie;if(null===ae)ie._parentOrParents=this;else if(ae instanceof J){if(ae===this)return ie;ie._parentOrParents=[ae,this]}else{if(-1!==ae.indexOf(this))return ie;ae.push(this)}const ne=this._subscriptions;return null===ne?this._subscriptions=[ie]:ne.push(ie),ie}remove(Ee){const ie=this._subscriptions;if(ie){const ae=ie.indexOf(Ee);-1!==ae&&ie.splice(ae,1)}}}var ve;function fe(ve){return ve.reduce((Ee,ie)=>Ee.concat(ie instanceof Ne?ie.errors:ie),[])}J.EMPTY=((ve=new J).closed=!0,ve)},2830:(ln,pt,O)=>{"use strict";O.d(pt,{v:()=>X});let u=!1;const X={Promise:void 0,set useDeprecatedSynchronousErrorHandling(W){if(W){const Be=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Be.stack)}else u&&console.log("RxJS: Back to a better error behavior. Thank you. <3");u=W},get useDeprecatedSynchronousErrorHandling(){return u}}},1177:(ln,pt,O)=>{"use strict";O.d(pt,{Ds:()=>J,IY:()=>Be,ft:()=>ve});var u=O(3489),X=O(6498),W=O(9249);class Be extends u.L{constructor(ie){super(),this.parent=ie}_next(ie){this.parent.notifyNext(ie)}_error(ie){this.parent.notifyError(ie),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class J extends u.L{notifyNext(ie){this.destination.next(ie)}notifyError(ie){this.destination.error(ie)}notifyComplete(){this.destination.complete()}}function ve(Ee,ie){if(ie.closed)return;if(Ee instanceof X.y)return Ee.subscribe(ie);let ae;try{ae=(0,W.s)(Ee)(ie)}catch(ne){ie.error(ne)}return ae}},1762:(ln,pt,O)=>{"use strict";O.d(pt,{N:()=>J,c:()=>Ne});var u=O(8929),X=O(6498),W=O(2654),Be=O(4327);class Ne extends X.y{constructor(ae,ne){super(),this.source=ae,this.subjectFactory=ne,this._refCount=0,this._isComplete=!1}_subscribe(ae){return this.getSubject().subscribe(ae)}getSubject(){const ae=this._subject;return(!ae||ae.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let ae=this._connection;return ae||(this._isComplete=!1,ae=this._connection=new W.w,ae.add(this.source.subscribe(new fe(this.getSubject(),this))),ae.closed&&(this._connection=null,ae=W.w.EMPTY)),ae}refCount(){return(0,Be.x)()(this)}}const J=(()=>{const ie=Ne.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:ie._subscribe},_isComplete:{value:ie._isComplete,writable:!0},getSubject:{value:ie.getSubject},connect:{value:ie.connect},refCount:{value:ie.refCount}}})();class fe extends u.Yc{constructor(ae,ne){super(ae),this.connectable=ne}_error(ae){this._unsubscribe(),super._error(ae)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const ae=this.connectable;if(ae){this.connectable=null;const ne=ae._connection;ae._refCount=0,ae._subject=null,ae._connection=null,ne&&ne.unsubscribe()}}}},1221:(ln,pt,O)=>{"use strict";O.d(pt,{z:()=>Be});var u=O(1086),X=O(9146);function Be(...Ne){return function W(){return(0,X.J)(1)}()((0,u.of)(...Ne))}},8896:(ln,pt,O)=>{"use strict";O.d(pt,{E:()=>X,c:()=>W});var u=O(6498);const X=new u.y(Ne=>Ne.complete());function W(Ne){return Ne?function Be(Ne){return new u.y(J=>Ne.schedule(()=>J.complete()))}(Ne):X}},5254:(ln,pt,O)=>{"use strict";O.d(pt,{D:()=>Qe});var u=O(6498),X=O(9249),W=O(2654),Be=O(3821),fe=O(6454),ve=O(5430),ae=O(8955),ne=O(8515);function Qe(Ve,ke){return ke?function He(Ve,ke){if(null!=Ve){if(function ie(Ve){return Ve&&"function"==typeof Ve[Be.L]}(Ve))return function Ne(Ve,ke){return new u.y(ze=>{const St=new W.w;return St.add(ke.schedule(()=>{const Se=Ve[Be.L]();St.add(Se.subscribe({next(Dt){St.add(ke.schedule(()=>ze.next(Dt)))},error(Dt){St.add(ke.schedule(()=>ze.error(Dt)))},complete(){St.add(ke.schedule(()=>ze.complete()))}}))})),St})}(Ve,ke);if((0,ae.t)(Ve))return function J(Ve,ke){return new u.y(ze=>{const St=new W.w;return St.add(ke.schedule(()=>Ve.then(Se=>{St.add(ke.schedule(()=>{ze.next(Se),St.add(ke.schedule(()=>ze.complete()))}))},Se=>{St.add(ke.schedule(()=>ze.error(Se)))}))),St})}(Ve,ke);if((0,ne.z)(Ve))return(0,fe.r)(Ve,ke);if(function pe(Ve){return Ve&&"function"==typeof Ve[ve.hZ]}(Ve)||"string"==typeof Ve)return function Ee(Ve,ke){if(!Ve)throw new Error("Iterable cannot be null");return new u.y(ze=>{const St=new W.w;let Se;return St.add(()=>{Se&&"function"==typeof Se.return&&Se.return()}),St.add(ke.schedule(()=>{Se=Ve[ve.hZ](),St.add(ke.schedule(function(){if(ze.closed)return;let Dt,bt;try{const Mt=Se.next();Dt=Mt.value,bt=Mt.done}catch(Mt){return void ze.error(Mt)}bt?ze.complete():(ze.next(Dt),this.schedule())}))})),St})}(Ve,ke)}throw new TypeError((null!==Ve&&typeof Ve||Ve)+" is not observable")}(Ve,ke):Ve instanceof u.y?Ve:new u.y((0,X.s)(Ve))}},3009:(ln,pt,O)=>{"use strict";O.d(pt,{n:()=>Be});var u=O(6498),X=O(3650),W=O(6454);function Be(Ne,J){return J?(0,W.r)(Ne,J):new u.y((0,X.V)(Ne))}},3753:(ln,pt,O)=>{"use strict";O.d(pt,{R:()=>J});var u=O(6498),X=O(6688),W=O(7043),Be=O(4850);function J(ae,ne,pe,He){return(0,W.m)(pe)&&(He=pe,pe=void 0),He?J(ae,ne,pe).pipe((0,Be.U)(Qe=>(0,X.k)(Qe)?He(...Qe):He(Qe))):new u.y(Qe=>{fe(ae,ne,function Ve(ke){Qe.next(arguments.length>1?Array.prototype.slice.call(arguments):ke)},Qe,pe)})}function fe(ae,ne,pe,He,Qe){let Ve;if(function ie(ae){return ae&&"function"==typeof ae.addEventListener&&"function"==typeof ae.removeEventListener}(ae)){const ke=ae;ae.addEventListener(ne,pe,Qe),Ve=()=>ke.removeEventListener(ne,pe,Qe)}else if(function Ee(ae){return ae&&"function"==typeof ae.on&&"function"==typeof ae.off}(ae)){const ke=ae;ae.on(ne,pe),Ve=()=>ke.off(ne,pe)}else if(function ve(ae){return ae&&"function"==typeof ae.addListener&&"function"==typeof ae.removeListener}(ae)){const ke=ae;ae.addListener(ne,pe),Ve=()=>ke.removeListener(ne,pe)}else{if(!ae||!ae.length)throw new TypeError("Invalid event target");for(let ke=0,ze=ae.length;ke<ze;ke++)fe(ae[ke],ne,pe,He,Qe)}He.add(Ve)}},6787:(ln,pt,O)=>{"use strict";O.d(pt,{T:()=>Ne});var u=O(6498),X=O(2866),W=O(9146),Be=O(3009);function Ne(...J){let fe=Number.POSITIVE_INFINITY,ve=null,Ee=J[J.length-1];return(0,X.K)(Ee)?(ve=J.pop(),J.length>1&&"number"==typeof J[J.length-1]&&(fe=J.pop())):"number"==typeof Ee&&(fe=J.pop()),null===ve&&1===J.length&&J[0]instanceof u.y?J[0]:(0,W.J)(fe)((0,Be.n)(J,ve))}},1086:(ln,pt,O)=>{"use strict";O.d(pt,{of:()=>Be});var u=O(2866),X=O(3009),W=O(6454);function Be(...Ne){let J=Ne[Ne.length-1];return(0,u.K)(J)?(Ne.pop(),(0,W.r)(Ne,J)):(0,X.n)(Ne)}},1737:(ln,pt,O)=>{"use strict";O.d(pt,{_:()=>X});var u=O(6498);function X(Be,Ne){return new u.y(Ne?J=>Ne.schedule(W,0,{error:Be,subscriber:J}):J=>J.error(Be))}function W({error:Be,subscriber:Ne}){Ne.error(Be)}},7314:(ln,pt,O)=>{"use strict";O.d(pt,{d:()=>X});var u=O(3489);function X(Ne=null){return J=>J.lift(new W(Ne))}class W{constructor(J){this.defaultValue=J}call(J,fe){return fe.subscribe(new Be(J,this.defaultValue))}}class Be extends u.L{constructor(J,fe){super(J),this.defaultValue=fe,this.isEmpty=!0}_next(J){this.isEmpty=!1,this.destination.next(J)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},5778:(ln,pt,O)=>{"use strict";O.d(pt,{x:()=>X});var u=O(3489);function X(Ne,J){return fe=>fe.lift(new W(Ne,J))}class W{constructor(J,fe){this.compare=J,this.keySelector=fe}call(J,fe){return fe.subscribe(new Be(J,this.compare,this.keySelector))}}class Be extends u.L{constructor(J,fe,ve){super(J),this.keySelector=ve,this.hasKey=!1,"function"==typeof fe&&(this.compare=fe)}compare(J,fe){return J===fe}_next(J){let fe;try{const{keySelector:Ee}=this;fe=Ee?Ee(J):J}catch(Ee){return this.destination.error(Ee)}let ve=!1;if(this.hasKey)try{const{compare:Ee}=this;ve=Ee(this.key,fe)}catch(Ee){return this.destination.error(Ee)}else this.hasKey=!0;ve||(this.key=fe,this.destination.next(J))}}},2198:(ln,pt,O)=>{"use strict";O.d(pt,{h:()=>X});var u=O(3489);function X(Ne,J){return function(ve){return ve.lift(new W(Ne,J))}}class W{constructor(J,fe){this.predicate=J,this.thisArg=fe}call(J,fe){return fe.subscribe(new Be(J,this.predicate,this.thisArg))}}class Be extends u.L{constructor(J,fe,ve){super(J),this.predicate=fe,this.thisArg=ve,this.count=0}_next(J){let fe;try{fe=this.predicate.call(this.thisArg,J,this.count++)}catch(ve){return void this.destination.error(ve)}fe&&this.destination.next(J)}}},7224:(ln,pt,O)=>{"use strict";O.d(pt,{P:()=>fe});var u=O(4450),X=O(2198),W=O(2986),Be=O(7314),Ne=O(4907),J=O(5379);function fe(ve,Ee){const ie=arguments.length>=2;return ae=>ae.pipe(ve?(0,X.h)((ne,pe)=>ve(ne,pe,ae)):J.y,(0,W.q)(1),ie?(0,Be.d)(Ee):(0,Ne.T)(()=>new u.K))}},4850:(ln,pt,O)=>{"use strict";O.d(pt,{U:()=>X});var u=O(3489);function X(Ne,J){return function(ve){if("function"!=typeof Ne)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return ve.lift(new W(Ne,J))}}class W{constructor(J,fe){this.project=J,this.thisArg=fe}call(J,fe){return fe.subscribe(new Be(J,this.project,this.thisArg))}}class Be extends u.L{constructor(J,fe,ve){super(J),this.project=fe,this.count=0,this.thisArg=ve||this}_next(J){let fe;try{fe=this.project.call(this.thisArg,J,this.count++)}catch(ve){return void this.destination.error(ve)}this.destination.next(fe)}}},9146:(ln,pt,O)=>{"use strict";O.d(pt,{J:()=>W});var u=O(1709),X=O(5379);function W(Be=Number.POSITIVE_INFINITY){return(0,u.zg)(X.y,Be)}},1709:(ln,pt,O)=>{"use strict";O.d(pt,{zg:()=>Be});var u=O(4850),X=O(5254),W=O(1177);function Be(ve,Ee,ie=Number.POSITIVE_INFINITY){return"function"==typeof Ee?ae=>ae.pipe(Be((ne,pe)=>(0,X.D)(ve(ne,pe)).pipe((0,u.U)((He,Qe)=>Ee(ne,He,pe,Qe))),ie)):("number"==typeof Ee&&(ie=Ee),ae=>ae.lift(new Ne(ve,ie)))}class Ne{constructor(Ee,ie=Number.POSITIVE_INFINITY){this.project=Ee,this.concurrent=ie}call(Ee,ie){return ie.subscribe(new J(Ee,this.project,this.concurrent))}}class J extends W.Ds{constructor(Ee,ie,ae=Number.POSITIVE_INFINITY){super(Ee),this.project=ie,this.concurrent=ae,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(Ee){this.active<this.concurrent?this._tryNext(Ee):this.buffer.push(Ee)}_tryNext(Ee){let ie;const ae=this.index++;try{ie=this.project(Ee,ae)}catch(ne){return void this.destination.error(ne)}this.active++,this._innerSub(ie)}_innerSub(Ee){const ie=new W.IY(this),ae=this.destination;ae.add(ie);const ne=(0,W.ft)(Ee,ie);ne!==ie&&ae.add(ne)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(Ee){this.destination.next(Ee)}notifyComplete(){const Ee=this.buffer;this.active--,Ee.length>0?this._next(Ee.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},2102:(ln,pt,O)=>{"use strict";O.d(pt,{ht:()=>Ee,QV:()=>fe});var u=O(3489),X=O(8896),W=O(1086),Be=O(1737);class J{constructor(ne,pe,He){this.kind=ne,this.value=pe,this.error=He,this.hasValue="N"===ne}observe(ne){switch(this.kind){case"N":return ne.next&&ne.next(this.value);case"E":return ne.error&&ne.error(this.error);case"C":return ne.complete&&ne.complete()}}do(ne,pe,He){switch(this.kind){case"N":return ne&&ne(this.value);case"E":return pe&&pe(this.error);case"C":return He&&He()}}accept(ne,pe,He){return ne&&"function"==typeof ne.next?this.observe(ne):this.do(ne,pe,He)}toObservable(){switch(this.kind){case"N":return(0,W.of)(this.value);case"E":return(0,Be._)(this.error);case"C":return(0,X.c)()}throw new Error("unexpected notification kind value")}static createNext(ne){return typeof ne<"u"?new J("N",ne):J.undefinedValueNotification}static createError(ne){return new J("E",void 0,ne)}static createComplete(){return J.completeNotification}}function fe(ae,ne=0){return function(He){return He.lift(new ve(ae,ne))}}J.completeNotification=new J("C"),J.undefinedValueNotification=new J("N",void 0);class ve{constructor(ne,pe=0){this.scheduler=ne,this.delay=pe}call(ne,pe){return pe.subscribe(new Ee(ne,this.scheduler,this.delay))}}class Ee extends u.L{constructor(ne,pe,He=0){super(ne),this.scheduler=pe,this.delay=He}static dispatch(ne){const{notification:pe,destination:He}=ne;pe.observe(He),this.unsubscribe()}scheduleMessage(ne){this.destination.add(this.scheduler.schedule(Ee.dispatch,this.delay,new ie(ne,this.destination)))}_next(ne){this.scheduleMessage(J.createNext(ne))}_error(ne){this.scheduleMessage(J.createError(ne)),this.unsubscribe()}_complete(){this.scheduleMessage(J.createComplete()),this.unsubscribe()}}class ie{constructor(ne,pe){this.notification=ne,this.destination=pe}}},4327:(ln,pt,O)=>{"use strict";O.d(pt,{x:()=>X});var u=O(3489);function X(){return function(J){return J.lift(new W(J))}}class W{constructor(J){this.connectable=J}call(J,fe){const{connectable:ve}=this;ve._refCount++;const Ee=new Be(J,ve),ie=fe.subscribe(Ee);return Ee.closed||(Ee.connection=ve.connect()),ie}}class Be extends u.L{constructor(J,fe){super(J),this.connectable=fe}_unsubscribe(){const{connectable:J}=this;if(!J)return void(this.connection=null);this.connectable=null;const fe=J._refCount;if(fe<=0)return void(this.connection=null);if(J._refCount=fe-1,fe>1)return void(this.connection=null);const{connection:ve}=this,Ee=J._connection;this.connection=null,Ee&&(!ve||Ee===ve)&&Ee.unsubscribe()}}},2014:(ln,pt,O)=>{"use strict";O.d(pt,{R:()=>X});var u=O(3489);function X(Ne,J){let fe=!1;return arguments.length>=2&&(fe=!0),function(Ee){return Ee.lift(new W(Ne,J,fe))}}class W{constructor(J,fe,ve=!1){this.accumulator=J,this.seed=fe,this.hasSeed=ve}call(J,fe){return fe.subscribe(new Be(J,this.accumulator,this.seed,this.hasSeed))}}class Be extends u.L{constructor(J,fe,ve,Ee){super(J),this.accumulator=fe,this._seed=ve,this.hasSeed=Ee,this.index=0}get seed(){return this._seed}set seed(J){this.hasSeed=!0,this._seed=J}_next(J){if(this.hasSeed)return this._tryNext(J);this.seed=J,this.destination.next(J)}_tryNext(J){const fe=this.index++;let ve;try{ve=this.accumulator(this.seed,J,fe)}catch(Ee){this.destination.error(Ee)}this.seed=ve,this.destination.next(ve)}}},2474:(ln,pt,O)=>{"use strict";O.d(pt,{B:()=>fe});var u=O(1762);class W{constructor(Ee,ie){this.subjectFactory=Ee,this.selector=ie}call(Ee,ie){const{selector:ae}=this,ne=this.subjectFactory(),pe=ae(ne).subscribe(Ee);return pe.add(ie.subscribe(ne)),pe}}var Be=O(4327),Ne=O(8929);function J(){return new Ne.xQ}function fe(){return ve=>(0,Be.x)()(function X(ve,Ee){return function(ae){let ne;if(ne="function"==typeof ve?ve:function(){return ve},"function"==typeof Ee)return ae.lift(new W(ne,Ee));const pe=Object.create(ae,u.N);return pe.source=ae,pe.subjectFactory=ne,pe}}(J)(ve))}},1059:(ln,pt,O)=>{"use strict";O.d(pt,{O:()=>W});var u=O(1221),X=O(2866);function W(...Be){const Ne=Be[Be.length-1];return(0,X.K)(Ne)?(Be.pop(),J=>(0,u.z)(Be,J,Ne)):J=>(0,u.z)(Be,J)}},8915:(ln,pt,O)=>{"use strict";O.d(pt,{R:()=>ke});var u=O(6498);let X=1;const W=Promise.resolve(),Be={};function Ne(St){return St in Be&&(delete Be[St],!0)}const J={setImmediate(St){const Se=X++;return Be[Se]=!0,W.then(()=>Ne(Se)&&St()),Se},clearImmediate(St){Ne(St)}};var ve=O(6686),ie=O(2268);const pe=new class ae extends ie.v{flush(Se){this.active=!0,this.scheduled=void 0;const{actions:Dt}=this;let bt,Mt=-1,rt=Dt.length;Se=Se||Dt.shift();do{if(bt=Se.execute(Se.state,Se.delay))break}while(++Mt<rt&&(Se=Dt.shift()));if(this.active=!1,bt){for(;++Mt<rt&&(Se=Dt.shift());)Se.unsubscribe();throw bt}}}(class Ee extends ve.o{constructor(Se,Dt){super(Se,Dt),this.scheduler=Se,this.work=Dt}requestAsyncId(Se,Dt,bt=0){return null!==bt&&bt>0?super.requestAsyncId(Se,Dt,bt):(Se.actions.push(this),Se.scheduled||(Se.scheduled=J.setImmediate(Se.flush.bind(Se,null))))}recycleAsyncId(Se,Dt,bt=0){if(null!==bt&&bt>0||null===bt&&this.delay>0)return super.recycleAsyncId(Se,Dt,bt);0===Se.actions.length&&(J.clearImmediate(Dt),Se.scheduled=void 0)}});var He=O(6688);class Ve extends u.y{constructor(Se,Dt=0,bt=pe){super(),this.source=Se,this.delayTime=Dt,this.scheduler=bt,(!function Qe(St){return!(0,He.k)(St)&&St-parseFloat(St)+1>=0}(Dt)||Dt<0)&&(this.delayTime=0),(!bt||"function"!=typeof bt.schedule)&&(this.scheduler=pe)}static create(Se,Dt=0,bt=pe){return new Ve(Se,Dt,bt)}static dispatch(Se){const{source:Dt,subscriber:bt}=Se;return this.add(Dt.subscribe(bt))}_subscribe(Se){return this.scheduler.schedule(Ve.dispatch,this.delayTime,{source:this.source,subscriber:Se})}}function ke(St,Se=0){return function(bt){return bt.lift(new ze(St,Se))}}class ze{constructor(Se,Dt){this.scheduler=Se,this.delay=Dt}call(Se,Dt){return new Ve(Dt,this.delay,this.scheduler).subscribe(Se)}}},7545:(ln,pt,O)=>{"use strict";O.d(pt,{w:()=>Be});var u=O(4850),X=O(5254),W=O(1177);function Be(fe,ve){return"function"==typeof ve?Ee=>Ee.pipe(Be((ie,ae)=>(0,X.D)(fe(ie,ae)).pipe((0,u.U)((ne,pe)=>ve(ie,ne,ae,pe))))):Ee=>Ee.lift(new Ne(fe))}class Ne{constructor(ve){this.project=ve}call(ve,Ee){return Ee.subscribe(new J(ve,this.project))}}class J extends W.Ds{constructor(ve,Ee){super(ve),this.project=Ee,this.index=0}_next(ve){let Ee;const ie=this.index++;try{Ee=this.project(ve,ie)}catch(ae){return void this.destination.error(ae)}this._innerSub(Ee)}_innerSub(ve){const Ee=this.innerSubscription;Ee&&Ee.unsubscribe();const ie=new W.IY(this),ae=this.destination;ae.add(ie),this.innerSubscription=(0,W.ft)(ve,ie),this.innerSubscription!==ie&&ae.add(this.innerSubscription)}_complete(){const{innerSubscription:ve}=this;(!ve||ve.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(ve){this.destination.next(ve)}}},2986:(ln,pt,O)=>{"use strict";O.d(pt,{q:()=>Be});var u=O(3489),X=O(4231),W=O(8896);function Be(fe){return ve=>0===fe?(0,W.c)():ve.lift(new Ne(fe))}class Ne{constructor(ve){if(this.total=ve,this.total<0)throw new X.W}call(ve,Ee){return Ee.subscribe(new J(ve,this.total))}}class J extends u.L{constructor(ve,Ee){super(ve),this.total=Ee,this.count=0}_next(ve){const Ee=this.total,ie=++this.count;ie<=Ee&&(this.destination.next(ve),ie===Ee&&(this.destination.complete(),this.unsubscribe()))}}},2868:(ln,pt,O)=>{"use strict";O.d(pt,{b:()=>Be});var u=O(3489);function X(){}var W=O(7043);function Be(fe,ve,Ee){return function(ae){return ae.lift(new Ne(fe,ve,Ee))}}class Ne{constructor(ve,Ee,ie){this.nextOrObserver=ve,this.error=Ee,this.complete=ie}call(ve,Ee){return Ee.subscribe(new J(ve,this.nextOrObserver,this.error,this.complete))}}class J extends u.L{constructor(ve,Ee,ie,ae){super(ve),this._tapNext=X,this._tapError=X,this._tapComplete=X,this._tapError=ie||X,this._tapComplete=ae||X,(0,W.m)(Ee)?(this._context=this,this._tapNext=Ee):Ee&&(this._context=Ee,this._tapNext=Ee.next||X,this._tapError=Ee.error||X,this._tapComplete=Ee.complete||X)}_next(ve){try{this._tapNext.call(this._context,ve)}catch(Ee){return void this.destination.error(Ee)}this.destination.next(ve)}_error(ve){try{this._tapError.call(this._context,ve)}catch(Ee){return void this.destination.error(Ee)}this.destination.error(ve)}_complete(){try{this._tapComplete.call(this._context)}catch(ve){return void this.destination.error(ve)}return this.destination.complete()}}},4907:(ln,pt,O)=>{"use strict";O.d(pt,{T:()=>W});var u=O(4450),X=O(3489);function W(fe=J){return ve=>ve.lift(new Be(fe))}class Be{constructor(ve){this.errorFactory=ve}call(ve,Ee){return Ee.subscribe(new Ne(ve,this.errorFactory))}}class Ne extends X.L{constructor(ve,Ee){super(ve),this.errorFactory=Ee,this.hasValue=!1}_next(ve){this.hasValue=!0,this.destination.next(ve)}_complete(){if(this.hasValue)return this.destination.complete();{let ve;try{ve=this.errorFactory()}catch(Ee){ve=Ee}this.destination.error(ve)}}}function J(){return new u.K}},6454:(ln,pt,O)=>{"use strict";O.d(pt,{r:()=>W});var u=O(6498),X=O(2654);function W(Be,Ne){return new u.y(J=>{const fe=new X.w;let ve=0;return fe.add(Ne.schedule(function(){ve!==Be.length?(J.next(Be[ve++]),J.closed||fe.add(this.schedule())):J.complete()})),fe})}},6686:(ln,pt,O)=>{"use strict";O.d(pt,{o:()=>W});var u=O(2654);class X extends u.w{constructor(Ne,J){super()}schedule(Ne,J=0){return this}}class W extends X{constructor(Ne,J){super(Ne,J),this.scheduler=Ne,this.work=J,this.pending=!1}schedule(Ne,J=0){if(this.closed)return this;this.state=Ne;const fe=this.id,ve=this.scheduler;return null!=fe&&(this.id=this.recycleAsyncId(ve,fe,J)),this.pending=!0,this.delay=J,this.id=this.id||this.requestAsyncId(ve,this.id,J),this}requestAsyncId(Ne,J,fe=0){return setInterval(Ne.flush.bind(Ne,this),fe)}recycleAsyncId(Ne,J,fe=0){if(null!==fe&&this.delay===fe&&!1===this.pending)return J;clearInterval(J)}execute(Ne,J){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const fe=this._execute(Ne,J);if(fe)return fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ne,J){let ve,fe=!1;try{this.work(Ne)}catch(Ee){fe=!0,ve=!!Ee&&Ee||new Error(Ee)}if(fe)return this.unsubscribe(),ve}_unsubscribe(){const Ne=this.id,J=this.scheduler,fe=J.actions,ve=fe.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==ve&&fe.splice(ve,1),null!=Ne&&(this.id=this.recycleAsyncId(J,Ne,null)),this.delay=null}}},2268:(ln,pt,O)=>{"use strict";O.d(pt,{v:()=>X});let u=(()=>{class W{constructor(Ne,J=W.now){this.SchedulerAction=Ne,this.now=J}schedule(Ne,J=0,fe){return new this.SchedulerAction(this,Ne).schedule(fe,J)}}return W.now=()=>Date.now(),W})();class X extends u{constructor(Be,Ne=u.now){super(Be,()=>X.delegate&&X.delegate!==this?X.delegate.now():Ne()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(Be,Ne=0,J){return X.delegate&&X.delegate!==this?X.delegate.schedule(Be,Ne,J):super.schedule(Be,Ne,J)}flush(Be){const{actions:Ne}=this;if(this.active)return void Ne.push(Be);let J;this.active=!0;do{if(J=Be.execute(Be.state,Be.delay))break}while(Be=Ne.shift());if(this.active=!1,J){for(;Be=Ne.shift();)Be.unsubscribe();throw J}}}},353:(ln,pt,O)=>{"use strict";O.d(pt,{P:()=>Be,z:()=>W});var u=O(6686);const W=new(O(2268).v)(u.o),Be=W},341:(ln,pt,O)=>{"use strict";O.d(pt,{c:()=>J,N:()=>Ne});var u=O(6686),W=O(2268);const Ne=new class Be extends W.v{}(class X extends u.o{constructor(ve,Ee){super(ve,Ee),this.scheduler=ve,this.work=Ee}schedule(ve,Ee=0){return Ee>0?super.schedule(ve,Ee):(this.delay=Ee,this.state=ve,this.scheduler.flush(this),this)}execute(ve,Ee){return Ee>0||this.closed?super.execute(ve,Ee):this._execute(ve,Ee)}requestAsyncId(ve,Ee,ie=0){return null!==ie&&ie>0||null===ie&&this.delay>0?super.requestAsyncId(ve,Ee,ie):ve.flush(this)}}),J=Ne},5430:(ln,pt,O)=>{"use strict";O.d(pt,{hZ:()=>X});const X=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3821:(ln,pt,O)=>{"use strict";O.d(pt,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(ln,pt,O)=>{"use strict";O.d(pt,{b:()=>u});const u="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},4231:(ln,pt,O)=>{"use strict";O.d(pt,{W:()=>X});const X=(()=>{function W(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return W.prototype=Object.create(Error.prototype),W})()},4450:(ln,pt,O)=>{"use strict";O.d(pt,{K:()=>X});const X=(()=>{function W(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return W.prototype=Object.create(Error.prototype),W})()},5279:(ln,pt,O)=>{"use strict";O.d(pt,{N:()=>X});const X=(()=>{function W(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return W.prototype=Object.create(Error.prototype),W})()},2782:(ln,pt,O)=>{"use strict";function u(X){setTimeout(()=>{throw X},0)}O.d(pt,{z:()=>u})},5379:(ln,pt,O)=>{"use strict";function u(X){return X}O.d(pt,{y:()=>u})},6688:(ln,pt,O)=>{"use strict";O.d(pt,{k:()=>u});const u=Array.isArray||(X=>X&&"number"==typeof X.length)},8515:(ln,pt,O)=>{"use strict";O.d(pt,{z:()=>u});const u=X=>X&&"number"==typeof X.length&&"function"!=typeof X},7043:(ln,pt,O)=>{"use strict";function u(X){return"function"==typeof X}O.d(pt,{m:()=>u})},7830:(ln,pt,O)=>{"use strict";function u(X){return null!==X&&"object"==typeof X}O.d(pt,{K:()=>u})},8955:(ln,pt,O)=>{"use strict";function u(X){return!!X&&"function"!=typeof X.subscribe&&"function"==typeof X.then}O.d(pt,{t:()=>u})},2866:(ln,pt,O)=>{"use strict";function u(X){return X&&"function"==typeof X.schedule}O.d(pt,{K:()=>u})},4843:(ln,pt,O)=>{"use strict";O.d(pt,{U:()=>W,z:()=>X});var u=O(5379);function X(...Be){return W(Be)}function W(Be){return 0===Be.length?u.y:1===Be.length?Be[0]:function(J){return Be.reduce((fe,ve)=>ve(fe),J)}}},9249:(ln,pt,O)=>{"use strict";O.d(pt,{s:()=>ae});var u=O(3650),X=O(2782),Be=O(5430),J=O(3821),ve=O(8515),Ee=O(8955),ie=O(7830);const ae=ne=>{if(ne&&"function"==typeof ne[J.L])return(ne=>pe=>{const He=ne[J.L]();if("function"!=typeof He.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return He.subscribe(pe)})(ne);if((0,ve.z)(ne))return(0,u.V)(ne);if((0,Ee.t)(ne))return(ne=>pe=>(ne.then(He=>{pe.closed||(pe.next(He),pe.complete())},He=>pe.error(He)).then(null,X.z),pe))(ne);if(ne&&"function"==typeof ne[Be.hZ])return(ne=>pe=>{const He=ne[Be.hZ]();for(;;){let Qe;try{Qe=He.next()}catch(Ve){return pe.error(Ve),pe}if(Qe.done){pe.complete();break}if(pe.next(Qe.value),pe.closed)break}return"function"==typeof He.return&&pe.add(()=>{He.return&&He.return()}),pe})(ne);{const He=`You provided ${(0,ie.K)(ne)?"an invalid object":`'${ne}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(He)}}},3650:(ln,pt,O)=>{"use strict";O.d(pt,{V:()=>u});const u=X=>W=>{for(let Be=0,Ne=X.length;Be<Ne&&!W.closed;Be++)W.next(X[Be]);W.complete()}},448:(ln,pt,O)=>{"use strict";O.d(pt,{D:()=>Ne});var u=O(3489);class X extends u.L{constructor(fe,ve,Ee){super(),this.parent=fe,this.outerValue=ve,this.outerIndex=Ee,this.index=0}_next(fe){this.parent.notifyNext(this.outerValue,fe,this.outerIndex,this.index++,this)}_error(fe){this.parent.notifyError(fe,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var W=O(9249),Be=O(6498);function Ne(J,fe,ve,Ee,ie=new X(J,ve,Ee)){if(!ie.closed)return fe instanceof Be.y?fe.subscribe(ie):(0,W.s)(fe)(ie)}},863:(ln,pt,O)=>{var u={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,3236],"./ion-avatar_3.entry.js":[4753,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[5652,5652],"./ion-card_5.entry.js":[388,388],"./ion-checkbox.entry.js":[9922,9922],"./ion-chip.entry.js":[657,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime-button.entry.js":[9230,5220,9230],"./ion-datetime_3.entry.js":[4959,5220,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,5817],"./ion-input.entry.js":[1217,1217],"./ion-item-option_3.entry.js":[2933,8592,4651],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,8592,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,8592,3804],"./ion-progress-bar.entry.js":[4174,4174],"./ion-radio_2.entry.js":[4432,4432],"./ion-range.entry.js":[3545,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,2175],"./ion-reorder_2.entry.js":[3583,8592,1186],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,2773],"./ion-slide_2.entry.js":[1650,1650],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,8592,1536],"./ion-text.entry.js":[4376,4376],"./ion-textarea.entry.js":[6560,6560],"./ion-toast.entry.js":[6120,8592,6120],"./ion-toggle.entry.js":[5168,8592,5168],"./ion-virtual-scroll.entry.js":[2289,2289]};function X(W){if(!O.o(u,W))return Promise.resolve().then(()=>{var J=new Error("Cannot find module '"+W+"'");throw J.code="MODULE_NOT_FOUND",J});var Be=u[W],Ne=Be[0];return Promise.all(Be.slice(1).map(O.e)).then(()=>O(Ne))}X.keys=()=>Object.keys(u),X.id=863,ln.exports=X},655:(ln,pt,O)=>{"use strict";O.d(pt,{ZT:()=>X,_T:()=>Be,gn:()=>Ne,mG:()=>ve});var u=function(Ce,ce){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(xe,oe){xe.__proto__=oe}||function(xe,oe){for(var Oe in oe)Object.prototype.hasOwnProperty.call(oe,Oe)&&(xe[Oe]=oe[Oe])})(Ce,ce)};function X(Ce,ce){if("function"!=typeof ce&&null!==ce)throw new TypeError("Class extends value "+String(ce)+" is not a constructor or null");function xe(){this.constructor=Ce}u(Ce,ce),Ce.prototype=null===ce?Object.create(ce):(xe.prototype=ce.prototype,new xe)}function Be(Ce,ce){var xe={};for(var oe in Ce)Object.prototype.hasOwnProperty.call(Ce,oe)&&ce.indexOf(oe)<0&&(xe[oe]=Ce[oe]);if(null!=Ce&&"function"==typeof Object.getOwnPropertySymbols){var Oe=0;for(oe=Object.getOwnPropertySymbols(Ce);Oe<oe.length;Oe++)ce.indexOf(oe[Oe])<0&&Object.prototype.propertyIsEnumerable.call(Ce,oe[Oe])&&(xe[oe[Oe]]=Ce[oe[Oe]])}return xe}function Ne(Ce,ce,xe,oe){var be,Oe=arguments.length,re=Oe<3?ce:null===oe?oe=Object.getOwnPropertyDescriptor(ce,xe):oe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)re=Reflect.decorate(Ce,ce,xe,oe);else for(var me=Ce.length-1;me>=0;me--)(be=Ce[me])&&(re=(Oe<3?be(re):Oe>3?be(ce,xe,re):be(ce,xe))||re);return Oe>3&&re&&Object.defineProperty(ce,xe,re),re}function ve(Ce,ce,xe,oe){return new(xe||(xe=Promise))(function(re,be){function me(Ie){try{ye(oe.next(Ie))}catch(Ue){be(Ue)}}function Re(Ie){try{ye(oe.throw(Ie))}catch(Ue){be(Ue)}}function ye(Ie){Ie.done?re(Ie.value):function Oe(re){return re instanceof xe?re:new xe(function(be){be(re)})}(Ie.value).then(me,Re)}ye((oe=oe.apply(Ce,ce||[])).next())})}},6895:(ln,pt,O)=>{"use strict";O.d(pt,{Do:()=>Se,EM:()=>Ys,HT:()=>Ne,JF:()=>vs,K0:()=>fe,Mx:()=>Ai,O5:()=>De,PM:()=>Li,S$:()=>ke,V_:()=>ie,Ye:()=>Dt,b0:()=>St,bD:()=>ui,ez:()=>Qi,mk:()=>Pn,q:()=>W,sg:()=>yi,tP:()=>Hn,w_:()=>J});var u=O(4650);let X=null;function W(){return X}function Ne(B){X||(X=B)}class J{}const fe=new u.OlP("DocumentToken");let ve=(()=>{class B{historyGo(U){throw new Error("Not implemented")}}return B.\u0275fac=function(U){return new(U||B)},B.\u0275prov=u.Yz7({token:B,factory:function(){return function Ee(){return(0,u.LFG)(ae)}()},providedIn:"platform"}),B})();const ie=new u.OlP("Location Initialized");let ae=(()=>{class B extends ve{constructor(U){super(),this._doc=U,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return W().getBaseHref(this._doc)}onPopState(U){const he=W().getGlobalEventTarget(this._doc,"window");return he.addEventListener("popstate",U,!1),()=>he.removeEventListener("popstate",U)}onHashChange(U){const he=W().getGlobalEventTarget(this._doc,"window");return he.addEventListener("hashchange",U,!1),()=>he.removeEventListener("hashchange",U)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(U){this.location.pathname=U}pushState(U,he,Xe){ne()?this._history.pushState(U,he,Xe):this.location.hash=Xe}replaceState(U,he,Xe){ne()?this._history.replaceState(U,he,Xe):this.location.hash=Xe}forward(){this._history.forward()}back(){this._history.back()}historyGo(U=0){this._history.go(U)}getState(){return this._history.state}}return B.\u0275fac=function(U){return new(U||B)(u.LFG(fe))},B.\u0275prov=u.Yz7({token:B,factory:function(){return function pe(){return new ae((0,u.LFG)(fe))}()},providedIn:"platform"}),B})();function ne(){return!!window.history.pushState}function He(B,ee){if(0==B.length)return ee;if(0==ee.length)return B;let U=0;return B.endsWith("/")&&U++,ee.startsWith("/")&&U++,2==U?B+ee.substring(1):1==U?B+ee:B+"/"+ee}function Qe(B){const ee=B.match(/#|\?|$/),U=ee&&ee.index||B.length;return B.slice(0,U-("/"===B[U-1]?1:0))+B.slice(U)}function Ve(B){return B&&"?"!==B[0]?"?"+B:B}let ke=(()=>{class B{historyGo(U){throw new Error("Not implemented")}}return B.\u0275fac=function(U){return new(U||B)},B.\u0275prov=u.Yz7({token:B,factory:function(){return(0,u.f3M)(St)},providedIn:"root"}),B})();const ze=new u.OlP("appBaseHref");let St=(()=>{class B extends ke{constructor(U,he){super(),this._platformLocation=U,this._removeListenerFns=[],this._baseHref=he??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(fe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}prepareExternalUrl(U){return He(this._baseHref,U)}path(U=!1){const he=this._platformLocation.pathname+Ve(this._platformLocation.search),Xe=this._platformLocation.hash;return Xe&&U?`${he}${Xe}`:he}pushState(U,he,Xe,Et){const At=this.prepareExternalUrl(Xe+Ve(Et));this._platformLocation.pushState(U,he,At)}replaceState(U,he,Xe,Et){const At=this.prepareExternalUrl(Xe+Ve(Et));this._platformLocation.replaceState(U,he,At)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){this._platformLocation.historyGo?.(U)}}return B.\u0275fac=function(U){return new(U||B)(u.LFG(ve),u.LFG(ze,8))},B.\u0275prov=u.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})(),Se=(()=>{class B extends ke{constructor(U,he){super(),this._platformLocation=U,this._baseHref="",this._removeListenerFns=[],null!=he&&(this._baseHref=he)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}path(U=!1){let he=this._platformLocation.hash;return null==he&&(he="#"),he.length>0?he.substring(1):he}prepareExternalUrl(U){const he=He(this._baseHref,U);return he.length>0?"#"+he:he}pushState(U,he,Xe,Et){let At=this.prepareExternalUrl(Xe+Ve(Et));0==At.length&&(At=this._platformLocation.pathname),this._platformLocation.pushState(U,he,At)}replaceState(U,he,Xe,Et){let At=this.prepareExternalUrl(Xe+Ve(Et));0==At.length&&(At=this._platformLocation.pathname),this._platformLocation.replaceState(U,he,At)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){this._platformLocation.historyGo?.(U)}}return B.\u0275fac=function(U){return new(U||B)(u.LFG(ve),u.LFG(ze,8))},B.\u0275prov=u.Yz7({token:B,factory:B.\u0275fac}),B})(),Dt=(()=>{class B{constructor(U){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=U;const he=this._locationStrategy.getBaseHref();this._baseHref=Qe(rt(he)),this._locationStrategy.onPopState(Xe=>{this._subject.emit({url:this.path(!0),pop:!0,state:Xe.state,type:Xe.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(U=!1){return this.normalize(this._locationStrategy.path(U))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(U,he=""){return this.path()==this.normalize(U+Ve(he))}normalize(U){return B.stripTrailingSlash(function Mt(B,ee){return B&&ee.startsWith(B)?ee.substring(B.length):ee}(this._baseHref,rt(U)))}prepareExternalUrl(U){return U&&"/"!==U[0]&&(U="/"+U),this._locationStrategy.prepareExternalUrl(U)}go(U,he="",Xe=null){this._locationStrategy.pushState(Xe,"",U,he),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+Ve(he)),Xe)}replaceState(U,he="",Xe=null){this._locationStrategy.replaceState(Xe,"",U,he),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+Ve(he)),Xe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(U=0){this._locationStrategy.historyGo?.(U)}onUrlChange(U){return this._urlChangeListeners.push(U),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(he=>{this._notifyUrlChangeListeners(he.url,he.state)})),()=>{const he=this._urlChangeListeners.indexOf(U);this._urlChangeListeners.splice(he,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(U="",he){this._urlChangeListeners.forEach(Xe=>Xe(U,he))}subscribe(U,he,Xe){return this._subject.subscribe({next:U,error:he,complete:Xe})}}return B.normalizeQueryParams=Ve,B.joinWithSlash=He,B.stripTrailingSlash=Qe,B.\u0275fac=function(U){return new(U||B)(u.LFG(ke))},B.\u0275prov=u.Yz7({token:B,factory:function(){return function bt(){return new Dt((0,u.LFG)(ke))}()},providedIn:"root"}),B})();function rt(B){return B.replace(/\/index.html$/,"")}function Ai(B,ee){ee=encodeURIComponent(ee);for(const U of B.split(";")){const he=U.indexOf("="),[Xe,Et]=-1==he?[U,""]:[U.slice(0,he),U.slice(he+1)];if(Xe.trim()===ee)return decodeURIComponent(Et)}return null}let Pn=(()=>{class B{constructor(U,he,Xe,Et){this._iterableDiffers=U,this._keyValueDiffers=he,this._ngEl=Xe,this._renderer=Et,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(U){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof U?U.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(U){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof U?U.split(/\s+/):U,this._rawClass&&((0,u.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const U=this._iterableDiffer.diff(this._rawClass);U&&this._applyIterableChanges(U)}else if(this._keyValueDiffer){const U=this._keyValueDiffer.diff(this._rawClass);U&&this._applyKeyValueChanges(U)}}_applyKeyValueChanges(U){U.forEachAddedItem(he=>this._toggleClass(he.key,he.currentValue)),U.forEachChangedItem(he=>this._toggleClass(he.key,he.currentValue)),U.forEachRemovedItem(he=>{he.previousValue&&this._toggleClass(he.key,!1)})}_applyIterableChanges(U){U.forEachAddedItem(he=>{if("string"!=typeof he.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,u.AaK)(he.item)}`);this._toggleClass(he.item,!0)}),U.forEachRemovedItem(he=>this._toggleClass(he.item,!1))}_applyClasses(U){U&&(Array.isArray(U)||U instanceof Set?U.forEach(he=>this._toggleClass(he,!0)):Object.keys(U).forEach(he=>this._toggleClass(he,!!U[he])))}_removeClasses(U){U&&(Array.isArray(U)||U instanceof Set?U.forEach(he=>this._toggleClass(he,!1)):Object.keys(U).forEach(he=>this._toggleClass(he,!1)))}_toggleClass(U,he){(U=U.trim())&&U.split(/\s+/g).forEach(Xe=>{he?this._renderer.addClass(this._ngEl.nativeElement,Xe):this._renderer.removeClass(this._ngEl.nativeElement,Xe)})}}return B.\u0275fac=function(U){return new(U||B)(u.Y36(u.ZZ4),u.Y36(u.aQg),u.Y36(u.SBq),u.Y36(u.Qsj))},B.\u0275dir=u.lG2({type:B,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),B})();class Ss{constructor(ee,U,he,Xe){this.$implicit=ee,this.ngForOf=U,this.index=he,this.count=Xe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let yi=(()=>{class B{constructor(U,he,Xe){this._viewContainer=U,this._template=he,this._differs=Xe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(U){this._ngForOf=U,this._ngForOfDirty=!0}set ngForTrackBy(U){this._trackByFn=U}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(U){U&&(this._template=U)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const U=this._ngForOf;!this._differ&&U&&(this._differ=this._differs.find(U).create(this.ngForTrackBy))}if(this._differ){const U=this._differ.diff(this._ngForOf);U&&this._applyChanges(U)}}_applyChanges(U){const he=this._viewContainer;U.forEachOperation((Xe,Et,At)=>{if(null==Xe.previousIndex)he.createEmbeddedView(this._template,new Ss(Xe.item,this._ngForOf,-1,-1),null===At?void 0:At);else if(null==At)he.remove(null===Et?void 0:Et);else if(null!==Et){const Jt=he.get(Et);he.move(Jt,At),xi(Jt,Xe)}});for(let Xe=0,Et=he.length;Xe<Et;Xe++){const Jt=he.get(Xe).context;Jt.index=Xe,Jt.count=Et,Jt.ngForOf=this._ngForOf}U.forEachIdentityChange(Xe=>{xi(he.get(Xe.currentIndex),Xe)})}static ngTemplateContextGuard(U,he){return!0}}return B.\u0275fac=function(U){return new(U||B)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},B.\u0275dir=u.lG2({type:B,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),B})();function xi(B,ee){B.context.$implicit=ee.item}let De=(()=>{class B{constructor(U,he){this._viewContainer=U,this._context=new lt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=he}set ngIf(U){this._context.$implicit=this._context.ngIf=U,this._updateView()}set ngIfThen(U){ut("ngIfThen",U),this._thenTemplateRef=U,this._thenViewRef=null,this._updateView()}set ngIfElse(U){ut("ngIfElse",U),this._elseTemplateRef=U,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(U,he){return!0}}return B.\u0275fac=function(U){return new(U||B)(u.Y36(u.s_b),u.Y36(u.Rgc))},B.\u0275dir=u.lG2({type:B,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),B})();class lt{constructor(){this.$implicit=null,this.ngIf=null}}function ut(B,ee){if(ee&&!ee.createEmbeddedView)throw new Error(`${B} must be a TemplateRef, but received '${(0,u.AaK)(ee)}'.`)}let Hn=(()=>{class B{constructor(U){this._viewContainerRef=U,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(U){if(U.ngTemplateOutlet||U.ngTemplateOutletInjector){const he=this._viewContainerRef;if(this._viewRef&&he.remove(he.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Xe,ngTemplateOutletContext:Et,ngTemplateOutletInjector:At}=this;this._viewRef=he.createEmbeddedView(Xe,Et,At?{injector:At}:void 0)}else this._viewRef=null}else this._viewRef&&U.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return B.\u0275fac=function(U){return new(U||B)(u.Y36(u.s_b))},B.\u0275dir=u.lG2({type:B,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[u.TTD]}),B})(),Qi=(()=>{class B{}return B.\u0275fac=function(U){return new(U||B)},B.\u0275mod=u.oAB({type:B}),B.\u0275inj=u.cJS({}),B})();const ui="browser";function Li(B){return"server"===B}let Ys=(()=>{class B{}return B.\u0275prov=(0,u.Yz7)({token:B,providedIn:"root",factory:()=>new ps((0,u.LFG)(fe),window)}),B})();class ps{constructor(ee,U){this.document=ee,this.window=U,this.offset=()=>[0,0]}setOffset(ee){this.offset=Array.isArray(ee)?()=>ee:ee}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ee){this.supportsScrolling()&&this.window.scrollTo(ee[0],ee[1])}scrollToAnchor(ee){if(!this.supportsScrolling())return;const U=function yr(B,ee){const U=B.getElementById(ee)||B.getElementsByName(ee)[0];if(U)return U;if("function"==typeof B.createTreeWalker&&B.body&&(B.body.createShadowRoot||B.body.attachShadow)){const he=B.createTreeWalker(B.body,NodeFilter.SHOW_ELEMENT);let Xe=he.currentNode;for(;Xe;){const Et=Xe.shadowRoot;if(Et){const At=Et.getElementById(ee)||Et.querySelector(`[name="${ee}"]`);if(At)return At}Xe=he.nextNode()}}return null}(this.document,ee);U&&(this.scrollToElement(U),U.focus())}setHistoryScrollRestoration(ee){if(this.supportScrollRestoration()){const U=this.window.history;U&&U.scrollRestoration&&(U.scrollRestoration=ee)}}scrollToElement(ee){const U=ee.getBoundingClientRect(),he=U.left+this.window.pageXOffset,Xe=U.top+this.window.pageYOffset,Et=this.offset();this.window.scrollTo(he-Et[0],Xe-Et[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const ee=Xi(this.window.history)||Xi(Object.getPrototypeOf(this.window.history));return!(!ee||!ee.writable&&!ee.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Xi(B){return Object.getOwnPropertyDescriptor(B,"scrollRestoration")}class vs{}},4650:(ln,pt,O)=>{"use strict";O.d(pt,{$8M:()=>pi,$Z:()=>zf,AFp:()=>_w,AaK:()=>ve,BQk:()=>Ts,CHM:()=>jo,CRH:()=>Z0,CZH:()=>Hv,CqO:()=>Jl,D6c:()=>kb,EJc:()=>ZI,EpF:()=>ds,F$t:()=>Iy,F4k:()=>Ou,FYo:()=>lr,FiY:()=>$i,G48:()=>yb,Gf:()=>K0,GfV:()=>Do,GkF:()=>lo,Gpc:()=>ae,Hsn:()=>up,JOm:()=>da,KtG:()=>b,LFG:()=>Ae,LSH:()=>mu,Lbi:()=>YI,Lck:()=>BE,MAs:()=>de,MMx:()=>w_,NdJ:()=>rf,OlP:()=>oi,Oqu:()=>kg,PXZ:()=>db,Q6J:()=>Fe,QGY:()=>Ls,QP$:()=>Dn,Qsj:()=>rr,R0b:()=>Fu,RDi:()=>hf,Rgc:()=>Wy,SBq:()=>Bt,Sil:()=>XI,Suo:()=>q0,TTD:()=>fs,TgZ:()=>Ft,X6Q:()=>mb,XFs:()=>sn,Xpm:()=>et,Xts:()=>nl,Y36:()=>Wc,YKP:()=>A0,YNc:()=>k,Yjl:()=>cn,Yz7:()=>nt,Z0I:()=>pn,ZZ4:()=>z_,_Bn:()=>S0,_UZ:()=>Sn,_Vd:()=>q,_c5:()=>Ob,_uU:()=>hp,aQg:()=>W_,c2e:()=>KI,cJS:()=>gt,cg1:()=>Vy,dDg:()=>ab,dqk:()=>br,eFA:()=>Pw,ekj:()=>Um,eoX:()=>xw,f3M:()=>xt,g9A:()=>Ew,h0i:()=>Ym,hGG:()=>Nb,hij:()=>jm,iGM:()=>Y0,ifc:()=>In,ip1:()=>vw,jDz:()=>M0,kL8:()=>$y,lG2:()=>tr,lqb:()=>js,lri:()=>Sw,n5z:()=>ur,oAB:()=>gn,oxw:()=>sv,q4F:()=>Wu,qLn:()=>Ku,qOj:()=>ap,qZA:()=>an,rWj:()=>Aw,s9C:()=>ku,sBO:()=>vb,sIi:()=>Qd,s_b:()=>Vv,soG:()=>jv,tb:()=>Iw,tp0:()=>Is,uIk:()=>Pg,vHH:()=>Qe,vpe:()=>rh,wAp:()=>e,xp6:()=>am,ynx:()=>Qr,z2F:()=>Gv,zSh:()=>vu,zs3:()=>Gc});var u=O(8929),X=O(2654),W=O(6498),Be=O(6787),Ne=O(2474);function J(n){for(let r in n)if(n[r]===J)return r;throw Error("Could not find renamed property on target object.")}function fe(n,r){for(const o in r)r.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=r[o])}function ve(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ve).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function Ee(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const ie=J({__forward_ref__:J});function ae(n){return n.__forward_ref__=ae,n.toString=function(){return ve(this())},n}function ne(n){return pe(n)?n():n}function pe(n){return"function"==typeof n&&n.hasOwnProperty(ie)&&n.__forward_ref__===ae}class Qe extends Error{constructor(r,o){super(function Ve(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}(r,o)),this.code=r}}function ke(n){return"string"==typeof n?n:null==n?"":String(n)}function bt(n,r){throw new Qe(-201,!1)}function Re(n,r){null==n&&function ye(n,r,o,d){throw new Error(`ASSERTION ERROR: ${n}`+(null==d?"":` [Expected=> ${o} ${d} ${r} <=Actual]`))}(r,n,null,"!=")}function nt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function gt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Lt(n){return wn(n,ri)||wn(n,Mr)}function pn(n){return null!==Lt(n)}function wn(n,r){return n.hasOwnProperty(r)?n[r]:null}function sr(n){return n&&(n.hasOwnProperty(zr)||n.hasOwnProperty(yn))?n[zr]:null}const ri=J({\u0275prov:J}),zr=J({\u0275inj:J}),Mr=J({ngInjectableDef:J}),yn=J({ngInjectorDef:J});var sn=(()=>((sn=sn||{})[sn.Default=0]="Default",sn[sn.Host=1]="Host",sn[sn.Self=2]="Self",sn[sn.SkipSelf=4]="SkipSelf",sn[sn.Optional=8]="Optional",sn))();let zt;function Ln(n){const r=zt;return zt=n,r}function Tr(n,r,o){const d=Lt(n);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:o&sn.Optional?null:void 0!==r?r:void bt(ve(n))}function Cn(n){return{toString:n}.toString()}var Rr=(()=>((Rr=Rr||{})[Rr.OnPush=0]="OnPush",Rr[Rr.Default=1]="Default",Rr))(),In=(()=>{return(n=In||(In={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",In;var n})();const br=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ar={},$n=[],Ui=J({\u0275cmp:J}),Un=J({\u0275dir:J}),Xr=J({\u0275pipe:J}),qn=J({\u0275mod:J}),ot=J({\u0275fac:J}),tt=J({__NG_ELEMENT_ID__:J});let Ze=0;function et(n){return Cn(()=>{const o=!0===n.standalone,d={},p={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Rr.OnPush,directiveDefs:null,pipeDefs:null,standalone:o,dependencies:o&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||$n,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||In.Emulated,id:"c"+Ze++,styles:n.styles||$n,_:null,setInput:null,schemas:n.schemas||null,tView:null},v=n.dependencies,D=n.features;return p.inputs=zn(n.inputs,d),p.outputs=zn(n.outputs),D&&D.forEach(M=>M(p)),p.directiveDefs=v?()=>("function"==typeof v?v():v).map(Wt).filter(tn):null,p.pipeDefs=v?()=>("function"==typeof v?v():v).map(vr).filter(tn):null,p})}function Wt(n){return jn(n)||Wr(n)}function tn(n){return null!==n}function gn(n){return Cn(()=>({type:n.type,bootstrap:n.bootstrap||$n,declarations:n.declarations||$n,imports:n.imports||$n,exports:n.exports||$n,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function zn(n,r){if(null==n)return Ar;const o={};for(const d in n)if(n.hasOwnProperty(d)){let p=n[d],v=p;Array.isArray(p)&&(v=p[1],p=p[0]),o[p]=d,r&&(r[p]=v)}return o}const tr=et;function cn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function jn(n){return n[Ui]||null}function Wr(n){return n[Un]||null}function vr(n){return n[Xr]||null}function Dn(n){const r=jn(n)||Wr(n)||vr(n);return null!==r&&r.standalone}function hr(n,r){const o=n[qn]||null;if(!o&&!0===r)throw new Error(`Type ${ve(n)} does not have '\u0275mod' property.`);return o}function ut(n){return Array.isArray(n)&&"object"==typeof n[1]}function Pe(n){return Array.isArray(n)&&!0===n[1]}function Ke(n){return 0!=(8&n.flags)}function mt(n){return 2==(2&n.flags)}function Gt(n){return 1==(1&n.flags)}function Ot(n){return null!==n.template}function Yt(n){return 0!=(256&n[2])}function Kr(n,r){return n.hasOwnProperty(ot)?n[ot]:null}class xs{constructor(r,o,d){this.previousValue=r,this.currentValue=o,this.firstChange=d}isFirstChange(){return this.firstChange}}function fs(){return Vs}function Vs(n){return n.type.prototype.ngOnChanges&&(n.setInput=Ms),mo}function mo(){const n=Mi(this),r=n?.current;if(r){const o=n.previous;if(o===Ar)n.previous=r;else for(let d in r)o[d]=r[d];n.current=null,this.ngOnChanges(r)}}function Ms(n,r,o,d){const p=Mi(n)||function Qi(n,r){return n[Rs]=r}(n,{previous:Ar,current:null}),v=p.current||(p.current={}),D=p.previous,M=this.declaredInputs[o],L=D[M];v[M]=new xs(L&&L.currentValue,r,D===Ar),n[d]=r}fs.ngInherit=!0;const Rs="__ngSimpleChanges__";function Mi(n){return n[Rs]||null}function Ur(n){for(;Array.isArray(n);)n=n[0];return n}function Xi(n,r){return Ur(r[n])}function yr(n,r){return Ur(r[n.index])}function vs(n,r){return n.data[r]}function Nr(n,r){const o=r[n];return ut(o)?o:o[0]}function ss(n){return 4==(4&n[2])}function Xs(n){return 64==(64&n[2])}function Os(n,r){return null==r?null:n[r]}function $o(n){n[18]=0}function Hr(n,r){n[5]+=r;let o=n,d=n[3];for(;null!==d&&(1===r&&1===o[5]||-1===r&&0===o[5]);)d[5]+=r,o=d,d=d[3]}const Vn={lFrame:xo(null),bindingsEnabled:!0};function Ao(){return Vn.bindingsEnabled}function qt(){return Vn.lFrame.lView}function _r(){return Vn.lFrame.tView}function jo(n){return Vn.lFrame.contextLView=n,n[8]}function b(n){return Vn.lFrame.contextLView=null,n}function z(){let n=E();for(;null!==n&&64===n.type;)n=n.parent;return n}function E(){return Vn.lFrame.currentTNode}function _e(n,r){const o=Vn.lFrame;o.currentTNode=n,o.isParent=r}function Nt(){return Vn.lFrame.isParent}function $(){Vn.lFrame.isParent=!1}function vi(){return Vn.lFrame.bindingIndex++}function rc(n,r){const o=Vn.lFrame;o.bindingIndex=o.bindingRootIndex=n,Aa(r)}function Aa(n){Vn.lFrame.currentDirectiveIndex=n}function Ha(){return Vn.lFrame.currentQueryIndex}function ia(n){Vn.lFrame.currentQueryIndex=n}function pl(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function eo(n,r,o){if(o&sn.SkipSelf){let p=r,v=n;for(;!(p=p.parent,null!==p||o&sn.Host||(p=pl(v),null===p||(v=v[15],10&p.type))););if(null===p)return!1;r=p,n=v}const d=Vn.lFrame=oa();return d.currentTNode=r,d.lView=n,!0}function sa(n){const r=oa(),o=n[1];Vn.lFrame=r,r.currentTNode=o.firstChild,r.lView=n,r.tView=o,r.contextLView=n,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function oa(){const n=Vn.lFrame,r=null===n?null:n.child;return null===r?xo(n):r}function xo(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function aa(){const n=Vn.lFrame;return Vn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const B=aa;function ee(){const n=aa();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Xe(){return Vn.lFrame.selectedIndex}function Et(n){Vn.lFrame.selectedIndex=n}function At(){const n=Vn.lFrame;return vs(n.tView,n.selectedIndex)}function ni(n,r){for(let o=r.directiveStart,d=r.directiveEnd;o<d;o++){const v=n.data[o].type.prototype,{ngAfterContentInit:D,ngAfterContentChecked:M,ngAfterViewInit:L,ngAfterViewChecked:K,ngOnDestroy:ge}=v;D&&(n.contentHooks||(n.contentHooks=[])).push(-o,D),M&&((n.contentHooks||(n.contentHooks=[])).push(o,M),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(o,M)),L&&(n.viewHooks||(n.viewHooks=[])).push(-o,L),K&&((n.viewHooks||(n.viewHooks=[])).push(o,K),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(o,K)),null!=ge&&(n.destroyHooks||(n.destroyHooks=[])).push(o,ge)}}function gr(n,r,o){wo(n,r,3,o)}function fr(n,r,o,d){(3&n[2])===o&&wo(n,r,o,d)}function ai(n,r){let o=n[2];(3&o)===r&&(o&=2047,o+=1,n[2]=o)}function wo(n,r,o,d){const v=d??-1,D=r.length-1;let M=0;for(let L=void 0!==d?65535&n[18]:0;L<D;L++)if("number"==typeof r[L+1]){if(M=r[L],null!=d&&M>=d)break}else r[L]<0&&(n[18]+=65536),(M<v||-1==v)&&(to(n,o,r,L),n[18]=(4294901760&n[18])+L+2),L++}function to(n,r,o,d){const p=o[d]<0,v=o[d+1],M=n[p?-o[d]:o[d]];if(p){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{v.call(M)}finally{}}}else try{v.call(M)}finally{}}class Eo{constructor(r,o,d){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=d}}function ic(n,r,o){let d=0;for(;d<o.length;){const p=o[d];if("number"==typeof p){if(0!==p)break;d++;const v=o[d++],D=o[d++],M=o[d++];n.setAttribute(r,D,M,v)}else{const v=p,D=o[++d];za(v)?n.setProperty(r,v,D):n.setAttribute(r,v,D),d++}}return d}function Ga(n){return 3===n||4===n||6===n}function za(n){return 64===n.charCodeAt(0)}function Fl(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let o=-1;for(let d=0;d<r.length;d++){const p=r[d];"number"==typeof p?o=p:0===o||Go(n,o,p,null,-1===o||2===o?r[++d]:null)}}return n}function Go(n,r,o,d,p){let v=0,D=n.length;if(-1===r)D=-1;else for(;v<n.length;){const M=n[v++];if("number"==typeof M){if(M===r){D=-1;break}if(M>r){D=v-1;break}}}for(;v<n.length;){const M=n[v];if("number"==typeof M)break;if(M===o){if(null===d)return void(null!==p&&(n[v+1]=p));if(d===n[v+1])return void(n[v+2]=p)}v++,null!==d&&v++,null!==p&&v++}-1!==D&&(n.splice(D,0,r),v=D+1),n.splice(v++,0,o),null!==d&&n.splice(v++,0,d),null!==p&&n.splice(v++,0,p)}function Gr(n){return-1!==n}function as(n){return 32767&n}function zo(n,r){let o=function Yi(n){return n>>16}(n),d=r;for(;o>0;)d=d[15],o--;return d}let Pi=!0;function Wo(n){const r=Pi;return Pi=n,r}let Oi=0;const $s={};function or(n,r){const o=bn(n,r);if(-1!==o)return o;const d=r[1];d.firstCreatePass&&(n.injectorIndex=r.length,gl(d.data,n),gl(r,null),gl(d.blueprint,null));const p=Vt(n,r),v=n.injectorIndex;if(Gr(p)){const D=as(p),M=zo(p,r),L=M[1].data;for(let K=0;K<8;K++)r[v+K]=M[D+K]|L[D+K]}return r[v+8]=p,v}function gl(n,r){n.push(0,0,0,0,0,0,0,0,r)}function bn(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function Vt(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,d=null,p=r;for(;null!==p;){if(d=nr(p),null===d)return-1;if(o++,p=p[15],-1!==d.injectorIndex)return d.injectorIndex|o<<16}return-1}function Zt(n,r,o){!function On(n,r,o){let d;"string"==typeof o?d=o.charCodeAt(0)||0:o.hasOwnProperty(tt)&&(d=o[tt]),null==d&&(d=o[tt]=Oi++);const p=255&d;r.data[n+(p>>5)]|=1<<p}(n,r,o)}function ca(n,r,o){if(o&sn.Optional)return n;bt()}function Ll(n,r,o,d){if(o&sn.Optional&&void 0===d&&(d=null),0==(o&(sn.Self|sn.Host))){const p=n[9],v=Ln(void 0);try{return p?p.get(r,d,o&sn.Optional):Tr(r,d,o&sn.Optional)}finally{Ln(v)}}return ca(d,0,o)}function ma(n,r,o,d=sn.Default,p){if(null!==n){if(1024&r[2]){const D=function si(n,r,o,d,p){let v=n,D=r;for(;null!==v&&null!==D&&1024&D[2]&&!(256&D[2]);){const M=ml(v,D,o,d|sn.Self,$s);if(M!==$s)return M;let L=v.parent;if(!L){const K=D[21];if(K){const ge=K.get(o,$s,d);if(ge!==$s)return ge}L=nr(D),D=D[15]}v=L}return p}(n,r,o,d,$s);if(D!==$s)return D}const v=ml(n,r,o,d,$s);if(v!==$s)return v}return Ll(r,o,d,p)}function ml(n,r,o,d,p){const v=function yl(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(tt)?n[tt]:void 0;return"number"==typeof r?r>=0?255&r:cr:r}(o);if("function"==typeof v){if(!eo(r,n,d))return d&sn.Host?ca(p,0,d):Ll(r,o,d,p);try{const D=v(d);if(null!=D||d&sn.Optional)return D;bt()}finally{B()}}else if("number"==typeof v){let D=null,M=bn(n,r),L=-1,K=d&sn.Host?r[16][6]:null;for((-1===M||d&sn.SkipSelf)&&(L=-1===M?Vt(n,r):r[M+8],-1!==L&&ho(d,!1)?(D=r[1],M=as(L),r=zo(L,r)):M=-1);-1!==M;){const ge=r[1];if(Bl(v,M,ge.data)){const $e=Ci(M,r,o,D,d,K);if($e!==$s)return $e}L=r[M+8],-1!==L&&ho(d,r[1].data[M+8]===K)&&Bl(v,M,r)?(D=ge,M=as(L),r=zo(L,r)):M=-1}}return p}function Ci(n,r,o,d,p,v){const D=r[1],M=D.data[n+8],ge=Wa(M,D,o,null==d?mt(M)&&Pi:d!=D&&0!=(3&M.type),p&sn.Host&&v===M);return null!==ge?ya(r,D,ge,M):$s}function Wa(n,r,o,d,p){const v=n.providerIndexes,D=r.data,M=1048575&v,L=n.directiveStart,ge=v>>20,ft=p?M+ge:n.directiveEnd;for(let Pt=d?M:M+ge;Pt<ft;Pt++){const en=D[Pt];if(Pt<L&&o===en||Pt>=L&&en.type===o)return Pt}if(p){const Pt=D[L];if(Pt&&Ot(Pt)&&Pt.type===o)return L}return null}function ya(n,r,o,d){let p=n[o];const v=r.data;if(function Ks(n){return n instanceof Eo}(p)){const D=p;D.resolving&&function St(n,r){const o=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new Qe(-200,`Circular dependency in DI detected for ${n}${o}`)}(function ze(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ke(n)}(v[o]));const M=Wo(D.canSeeViewProviders);D.resolving=!0;const L=D.injectImpl?Ln(D.injectImpl):null;eo(n,d,sn.Default);try{p=n[o]=D.factory(void 0,v,n,d),r.firstCreatePass&&o>=d.directiveStart&&function Ri(n,r,o){const{ngOnChanges:d,ngOnInit:p,ngDoCheck:v}=r.type.prototype;if(d){const D=Vs(r);(o.preOrderHooks||(o.preOrderHooks=[])).push(n,D),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,D)}p&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-n,p),v&&((o.preOrderHooks||(o.preOrderHooks=[])).push(n,v),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,v))}(o,v[o],r)}finally{null!==L&&Ln(L),Wo(M),D.resolving=!1,B()}}return p}function Bl(n,r,o){return!!(o[r+(n>>5)]&1<<n)}function ho(n,r){return!(n&sn.Self||n&sn.Host&&r)}class Ns{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,d){return ma(this._tNode,this._lView,r,d,o)}}function cr(){return new Ns(z(),qt())}function ur(n){return Cn(()=>{const r=n.prototype.constructor,o=r[ot]||Vl(r),d=Object.prototype;let p=Object.getPrototypeOf(n.prototype).constructor;for(;p&&p!==d;){const v=p[ot]||Vl(p);if(v&&v!==o)return v;p=Object.getPrototypeOf(p)}return v=>new v})}function Vl(n){return pe(n)?()=>{const r=Vl(ne(n));return r&&r()}:Kr(n)}function nr(n){const r=n[1],o=r.type;return 2===o?r.declTNode:1===o?n[6]:null}function pi(n){return function ws(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const o=n.attrs;if(o){const d=o.length;let p=0;for(;p<d;){const v=o[p];if(Ga(v))break;if(0===v)p+=2;else if("number"==typeof v)for(p++;p<d&&"string"==typeof o[p];)p++;else{if(v===r)return o[p+1];p+=2}}}return null}(z(),n)}const va="__parameters__";function Di(n,r,o){return Cn(()=>{const d=function Yo(n){return function(...o){if(n){const d=n(...o);for(const p in d)this[p]=d[p]}}}(r);function p(...v){if(this instanceof p)return d.apply(this,v),this;const D=new p(...v);return M.annotation=D,M;function M(L,K,ge){const $e=L.hasOwnProperty(va)?L[va]:Object.defineProperty(L,va,{value:[]})[va];for(;$e.length<=ge;)$e.push(null);return($e[ge]=$e[ge]||[]).push(D),L}}return o&&(p.prototype=Object.create(o.prototype)),p.prototype.ngMetadataName=n,p.annotationCls=p,p})}class oi{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=nt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ji(n,r){void 0===r&&(r=n);for(let o=0;o<n.length;o++){let d=n[o];Array.isArray(d)?(r===n&&(r=n.slice(0,o)),Ji(d,r)):r!==n&&r.push(d)}return r}function Mo(n,r){n.forEach(o=>Array.isArray(o)?Mo(o,r):r(o))}function Io(n,r,o){r>=n.length?n.push(o):n.splice(r,0,o)}function Ra(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function Ro(n,r){const o=[];for(let d=0;d<n;d++)o.push(r);return o}function ti(n,r,o){let d=Vi(n,r);return d>=0?n[1|d]=o:(d=~d,function cs(n,r,o,d){let p=n.length;if(p==r)n.push(o,d);else if(1===p)n.push(d,n[0]),n[0]=o;else{for(p--,n.push(n[p-1],n[p]);p>r;)n[p]=n[p-2],p--;n[r]=o,n[r+1]=d}}(n,d,r,o)),d}function Oa(n,r){const o=Vi(n,r);if(o>=0)return n[1|o]}function Vi(n,r){return function Sc(n,r,o){let d=0,p=n.length>>o;for(;p!==d;){const v=d+(p-d>>1),D=n[v<<o];if(r===D)return v<<o;D>r?p=v:d=v+1}return~(p<<o)}(n,r,1)}const I={},F="__NG_DI_FLAG__",G="ngTempTokenPath",je=/\n/gm,Ht="__source";let P;function j(n){const r=P;return P=n,r}function te(n,r=sn.Default){if(void 0===P)throw new Qe(-203,!1);return null===P?Tr(n,void 0,r):P.get(n,r&sn.Optional?null:void 0,r)}function Ae(n,r=sn.Default){return(function Ei(){return zt}()||te)(ne(n),r)}function xt(n,r=sn.Default){return"number"!=typeof r&&(r=0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)),Ae(n,r)}function $t(n){const r=[];for(let o=0;o<n.length;o++){const d=ne(n[o]);if(Array.isArray(d)){if(0===d.length)throw new Qe(900,!1);let p,v=sn.Default;for(let D=0;D<d.length;D++){const M=d[D],L=Yn(M);"number"==typeof L?-1===L?p=M.token:v|=L:p=M}r.push(Ae(p,v))}else r.push(Ae(d))}return r}function nn(n,r){return n[F]=r,n.prototype[F]=r,n}function Yn(n){return n[F]}const $i=nn(Di("Optional"),8),Is=nn(Di("SkipSelf"),4);let Bu;function hf(n){Bu=n}class Mc{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Na(n){return n instanceof Mc?n.changingThisBreaksApplicationSecurity:n}const Oc=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var bs=(()=>((bs=bs||{})[bs.NONE=0]="NONE",bs[bs.HTML=1]="HTML",bs[bs.STYLE=2]="STYLE",bs[bs.SCRIPT=3]="SCRIPT",bs[bs.URL=4]="URL",bs[bs.RESOURCE_URL=5]="RESOURCE_URL",bs))();function mu(n){const r=function Dl(){const n=qt();return n&&n[12]}();return r?r.sanitize(bs.URL,n)||"":function Rc(n,r){const o=function ah(n){return n instanceof Mc&&n.getTypeName()||null}(n);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===r}(n,"URL")?Na(n):function Fa(n){return(n=String(n)).match(Oc)?n:"unsafe:"+n}(ke(n))}const nl=new oi("ENVIRONMENT_INITIALIZER"),ju=new oi("INJECTOR",-1),_f=new oi("INJECTOR_DEF_TYPES");class Er{get(r,o=I){if(o===I){const d=new Error(`NullInjectorError: No provider for ${ve(r)}!`);throw d.name="NullInjectorError",d}return o}}function Ep(...n){return{\u0275providers:Co(0,n)}}function Co(n,...r){const o=[],d=new Set;let p;return Mo(r,v=>{const D=v;Sl(D,o,[],d)&&(p||(p=[]),p.push(D))}),void 0!==p&&Tl(p,o),o}function Tl(n,r){for(let o=0;o<n.length;o++){const{providers:p}=n[o];Mo(p,v=>{r.push(v)})}}function Sl(n,r,o,d){if(!(n=ne(n)))return!1;let p=null,v=sr(n);const D=!v&&jn(n);if(v||D){if(D&&!D.standalone)return!1;p=n}else{const L=n.ngModule;if(v=sr(L),!v)return!1;p=L}const M=d.has(p);if(D){if(M)return!1;if(d.add(p),D.dependencies){const L="function"==typeof D.dependencies?D.dependencies():D.dependencies;for(const K of L)Sl(K,r,o,d)}}else{if(!v)return!1;{if(null!=v.imports&&!M){let K;d.add(p);try{Mo(v.imports,ge=>{Sl(ge,r,o,d)&&(K||(K=[]),K.push(ge))})}finally{}void 0!==K&&Tl(K,r)}if(!M){const K=Kr(p)||(()=>new p);r.push({provide:p,useFactory:K,deps:$n},{provide:_f,useValue:p,multi:!0},{provide:nl,useValue:()=>Ae(p),multi:!0})}const L=v.providers;null==L||M||Mo(L,ge=>{r.push(ge)})}}return p!==n&&void 0!==n.providers}const wd=J({provide:String,useValue:J});function Fc(n){return null!==n&&"object"==typeof n&&wd in n}function Yl(n){return"function"==typeof n}const vu=new oi("Set Injector scope."),_u={},Ed={};let ba;function hc(){return void 0===ba&&(ba=new Er),ba}class js{}class Gs extends js{constructor(r,o,d,p){super(),this.parent=o,this.source=d,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Lc(r,D=>this.processProvider(D)),this.records.set(ju,il(void 0,this)),p.has("environment")&&this.records.set(js,il(void 0,this));const v=this.records.get(vu);null!=v&&"string"==typeof v.value&&this.scopes.add(v.value),this.injectorDefTypes=new Set(this.get(_f.multi,$n,sn.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const o=j(this),d=Ln(void 0);try{return r()}finally{j(o),Ln(d)}}get(r,o=I,d=sn.Default){this.assertNotDestroyed();const p=j(this),v=Ln(void 0);try{if(!(d&sn.SkipSelf)){let M=this.records.get(r);if(void 0===M){const L=function Id(n){return"function"==typeof n||"object"==typeof n&&n instanceof oi}(r)&&Lt(r);M=L&&this.injectableDefInScope(L)?il(Al(r),_u):null,this.records.set(r,M)}if(null!=M)return this.hydrate(r,M)}return(d&sn.Self?hc():this.parent).get(r,o=d&sn.Optional&&o===I?null:o)}catch(D){if("NullInjectorError"===D.name){if((D[G]=D[G]||[]).unshift(ve(r)),p)throw D;return function ar(n,r,o,d){const p=n[G];throw r[Ht]&&p.unshift(r[Ht]),n.message=function kr(n,r,o,d=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let p=ve(r);if(Array.isArray(r))p=r.map(ve).join(" -> ");else if("object"==typeof r){let v=[];for(let D in r)if(r.hasOwnProperty(D)){let M=r[D];v.push(D+":"+("string"==typeof M?JSON.stringify(M):ve(M)))}p=`{${v.join(", ")}}`}return`${o}${d?"("+d+")":""}[${p}]: ${n.replace(je,"\n  ")}`}("\n"+n.message,p,o,d),n.ngTokenPath=p,n[G]=null,n}(D,r,"R3InjectorError",this.source)}throw D}finally{Ln(v),j(p)}}resolveInjectorInitializers(){const r=j(this),o=Ln(void 0);try{const d=this.get(nl.multi,$n,sn.Self);for(const p of d)p()}finally{j(r),Ln(o)}}toString(){const r=[],o=this.records;for(const d of o.keys())r.push(ve(d));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Qe(205,!1)}processProvider(r){let o=Yl(r=ne(r))?r:ne(r&&r.provide);const d=function Ca(n){return Fc(n)?il(void 0,n.useValue):il(io(n),_u)}(r);if(Yl(r)||!0!==r.multi)this.records.get(o);else{let p=this.records.get(o);p||(p=il(void 0,_u,!0),p.factory=()=>$t(p.multi),this.records.set(o,p)),o=r,p.multi.push(r)}this.records.set(o,d)}hydrate(r,o){return o.value===_u&&(o.value=Ed,o.value=o.factory()),"object"==typeof o.value&&o.value&&function zu(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(r){if(!r.providedIn)return!1;const o=ne(r.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function Al(n){const r=Lt(n),o=null!==r?r.factory:Kr(n);if(null!==o)return o;if(n instanceof oi)throw new Qe(204,!1);if(n instanceof Function)return function ph(n){const r=n.length;if(r>0)throw Ro(r,"?"),new Qe(204,!1);const o=function An(n){const r=n&&(n[ri]||n[Mr]);if(r){const o=function Nn(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),r}return null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new Qe(204,!1)}function io(n,r,o){let d;if(Yl(n)){const p=ne(n);return Kr(p)||Al(p)}if(Fc(n))d=()=>ne(n.useValue);else if(function fh(n){return!(!n||!n.useFactory)}(n))d=()=>n.useFactory(...$t(n.deps||[]));else if(function hh(n){return!(!n||!n.useExisting)}(n))d=()=>Ae(ne(n.useExisting));else{const p=ne(n&&(n.useClass||n.provide));if(!function gh(n){return!!n.deps}(n))return Kr(p)||Al(p);d=()=>new p(...$t(n.deps))}return d}function il(n,r,o=!1){return{factory:n,value:r,multi:o?[]:void 0}}function bd(n){return!!n.\u0275providers}function Lc(n,r){for(const o of n)Array.isArray(o)?Lc(o,r):bd(o)?Lc(o.\u0275providers,r):r(o)}class Ef{}class x{resolveComponentFactory(r){throw function C(n){const r=Error(`No component factory found for ${ve(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let q=(()=>{class n{}return n.NULL=new x,n})();function we(){return dt(z(),qt())}function dt(n,r){return new Bt(yr(n,r))}let Bt=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=we,n})();function vn(n){return n instanceof Bt?n.nativeElement:n}class lr{}let rr=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function ks(){const n=qt(),o=Nr(z().index,n);return(ut(o)?o:n)[11]}(),n})(),La=(()=>{class n{}return n.\u0275prov=nt({token:n,providedIn:"root",factory:()=>null}),n})();class Do{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Wu=new Do("14.2.0"),so={};function Sp(n){return n.ngOriginalError}class Ku{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r);this._console.error("ERROR",r),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&Sp(r);for(;o&&Sp(o);)o=Sp(o);return o||null}}const pc=new Map;let Mp=0;const $c="__ngContext__";function Jo(n,r){ut(r)?(n[$c]=r[20],function Rp(n){pc.set(n[20],n)}(r)):n[$c]=r}function Eu(n){const r=n[$c];return"number"==typeof r?function Pp(n){return pc.get(n)||null}(r):r||null}function Dd(n){const r=Eu(n);return r?ut(r)?r:r.lView:null}function ol(n){return n instanceof Function?n():n}var da=(()=>((da=da||{})[da.Important=1]="Important",da[da.DashCase=2]="DashCase",da))();function Ad(n,r){return undefined(n,r)}function ed(n){const r=n[3];return Pe(r)?r[3]:r}function Eh(n){return Ih(n[13])}function Pd(n){return Ih(n[4])}function Ih(n){for(;null!==n&&!Pe(n);)n=n[4];return n}function Ba(n,r,o,d,p){if(null!=d){let v,D=!1;Pe(d)?v=d:ut(d)&&(D=!0,d=d[0]);const M=Ur(d);0===n&&null!==o?null==p?Cu(r,o,M):ll(r,o,M,p||null,!0):1===n&&null!==o?ll(r,o,M,p||null,!0):2===n?function Dh(n,r,o){const d=Ch(n,r);d&&function tm(n,r,o,d){n.removeChild(r,o,d)}(n,d,r,o)}(r,M,D):3===n&&r.destroyNode(M),null!=v&&function Th(n,r,o,d,p){const v=o[7];v!==Ur(o)&&Ba(r,n,d,v,p);for(let M=10;M<o.length;M++){const L=o[M];Nd(L[1],L,n,r,d,v)}}(r,n,v,o,p)}}function Lp(n,r,o){return n.createElement(r,o)}function Xg(n,r){const o=n[9],d=o.indexOf(r),p=r[3];512&r[2]&&(r[2]&=-513,Hr(p,-1)),o.splice(d,1)}function Bp(n,r){if(n.length<=10)return;const o=10+r,d=n[o];if(d){const p=d[17];null!==p&&p!==n&&Xg(p,d),r>0&&(n[o-1][4]=d[4]);const v=Ra(n,10+r);!function Od(n,r){Nd(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(d[1],d);const D=v[19];null!==D&&D.detachView(v[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function bh(n,r){if(!(128&r[2])){const o=r[11];o.destroyNode&&Nd(n,r,o,3,null,null),function Qg(n){let r=n[13];if(!r)return Af(n[1],n);for(;r;){let o=null;if(ut(r))o=r[13];else{const d=r[10];d&&(o=d)}if(!o){for(;r&&!r[4]&&r!==n;)ut(r)&&Af(r[1],r),r=r[3];null===r&&(r=n),ut(r)&&Af(r[1],r),o=r&&r[4]}r=o}}(r)}}function Af(n,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function Jg(n,r){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let d=0;d<o.length;d+=2){const p=r[o[d]];if(!(p instanceof Eo)){const v=o[d+1];if(Array.isArray(v))for(let D=0;D<v.length;D+=2){const M=p[v[D]],L=v[D+1];try{L.call(M)}finally{}}else try{v.call(p)}finally{}}}}(n,r),function iy(n,r){const o=n.cleanup,d=r[7];let p=-1;if(null!==o)for(let v=0;v<o.length-1;v+=2)if("string"==typeof o[v]){const D=o[v+1],M="function"==typeof D?D(r):Ur(r[D]),L=d[p=o[v+2]],K=o[v+3];"boolean"==typeof K?M.removeEventListener(o[v],L,K):K>=0?d[p=K]():d[p=-K].unsubscribe(),v+=2}else{const D=d[p=o[v+1]];o[v].call(D)}if(null!==d){for(let v=p+1;v<d.length;v++)(0,d[v])();r[7]=null}}(n,r),1===r[1].type&&r[11].destroy();const o=r[17];if(null!==o&&Pe(r[3])){o!==r[3]&&Xg(o,r);const d=r[19];null!==d&&d.detachView(n)}!function _h(n){pc.delete(n[20])}(r)}}function em(n,r,o){return function al(n,r,o){let d=r;for(;null!==d&&40&d.type;)d=(r=d).parent;if(null===d)return o[0];if(2&d.flags){const p=n.data[d.directiveStart].encapsulation;if(p===In.None||p===In.Emulated)return null}return yr(d,o)}(n,r.parent,o)}function ll(n,r,o,d,p){n.insertBefore(r,o,d,p)}function Cu(n,r,o){n.appendChild(r,o)}function xf(n,r,o,d,p){null!==d?ll(n,r,o,d,p):Cu(n,r,o)}function Ch(n,r){return n.parentNode(r)}function nm(n,r,o){return fo(n,r,o)}let fo=function Mf(n,r,o){return 40&n.type?yr(n,o):null};function $p(n,r,o,d){const p=em(n,d,r),v=r[11],M=nm(d.parent||r[6],d,r);if(null!=p)if(Array.isArray(o))for(let L=0;L<o.length;L++)xf(v,p,o[L],M,!1);else xf(v,p,o,M,!1)}function Rf(n,r){if(null!==r){const o=r.type;if(3&o)return yr(r,n);if(4&o)return Hp(-1,n[r.index]);if(8&o){const d=r.child;if(null!==d)return Rf(n,d);{const p=n[r.index];return Pe(p)?Hp(-1,p):Ur(p)}}if(32&o)return Ad(r,n)()||Ur(n[r.index]);{const d=Up(n,r);return null!==d?Array.isArray(d)?d[0]:Rf(ed(n[16]),d):Rf(n,r.next)}}return null}function Up(n,r){return null!==r?n[16][6].projection[r.projection]:null}function Hp(n,r){const o=10+n+1;if(o<r.length){const d=r[o],p=d[1].firstChild;if(null!==p)return Rf(d,p)}return r[7]}function jp(n,r,o,d,p,v,D){for(;null!=o;){const M=d[o.index],L=o.type;if(D&&0===r&&(M&&Jo(Ur(M),d),o.flags|=4),64!=(64&o.flags))if(8&L)jp(n,r,o.child,d,p,v,!1),Ba(r,n,p,M,v);else if(32&L){const K=Ad(o,d);let ge;for(;ge=K();)Ba(r,n,p,ge,v);Ba(r,n,p,M,v)}else 16&L?Pf(n,r,d,o,p,v):Ba(r,n,p,M,v);o=D?o.projectionNext:o.next}}function Nd(n,r,o,d,p,v){jp(o,d,n.firstChild,r,p,v,!1)}function Pf(n,r,o,d,p,v){const D=o[16],L=D[6].projection[d.projection];if(Array.isArray(L))for(let K=0;K<L.length;K++)Ba(r,n,p,L[K],v);else jp(n,r,L,D[3],p,v,!0)}function zp(n,r,o){n.setAttribute(r,"style",o)}function Nf(n,r,o){""===o?n.removeAttribute(r,"class"):n.setAttribute(r,"class",o)}function Wp(n,r,o){let d=n.length;for(;;){const p=n.indexOf(r,o);if(-1===p)return p;if(0===p||n.charCodeAt(p-1)<=32){const v=r.length;if(p+v===d||n.charCodeAt(p+v)<=32)return p}o=p+1}}const Yp="ng-template";function Kp(n,r,o){let d=0;for(;d<n.length;){let p=n[d++];if(o&&"class"===p){if(p=n[d],-1!==Wp(p.toLowerCase(),r,0))return!0}else if(1===p){for(;d<n.length&&"string"==typeof(p=n[d++]);)if(p.toLowerCase()===r)return!0;return!1}}return!1}function kf(n){return 4===n.type&&n.value!==Yp}function ay(n,r,o){return r===(4!==n.type||o?n.value:Yp)}function im(n,r,o){let d=4;const p=n.attrs||[],v=function mc(n){for(let r=0;r<n.length;r++)if(Ga(n[r]))return r;return n.length}(p);let D=!1;for(let M=0;M<r.length;M++){const L=r[M];if("number"!=typeof L){if(!D)if(4&d){if(d=2|1&d,""!==L&&!ay(n,L,o)||""===L&&1===r.length){if(Kl(d))return!1;D=!0}}else{const K=8&d?L:r[++M];if(8&d&&null!==n.attrs){if(!Kp(n.attrs,K,o)){if(Kl(d))return!1;D=!0}continue}const $e=Hc(8&d?"class":L,p,kf(n),o);if(-1===$e){if(Kl(d))return!1;D=!0;continue}if(""!==K){let ft;ft=$e>v?"":p[$e+1].toLowerCase();const Pt=8&d?ft:null;if(Pt&&-1!==Wp(Pt,K,0)||2&d&&K!==ft){if(Kl(d))return!1;D=!0}}}}else{if(!D&&!Kl(d)&&!Kl(L))return!1;if(D&&Kl(L))continue;D=!1,d=L|1&d}}return Kl(d)||D}function Kl(n){return 0==(1&n)}function Hc(n,r,o,d){if(null===r)return-1;let p=0;if(d||!o){let v=!1;for(;p<r.length;){const D=r[p];if(D===n)return p;if(3===D||6===D)v=!0;else{if(1===D||2===D){let M=r[++p];for(;"string"==typeof M;)M=r[++p];continue}if(4===D)break;if(0===D){p+=4;continue}}p+=v?1:2}return-1}return function qp(n,r){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const d=n[o];if("number"==typeof d)return-1;if(d===r)return o;o++}return-1}(r,n)}function No(n,r,o=!1){for(let d=0;d<r.length;d++)if(im(n,r[d],o))return!0;return!1}function Ff(n,r){e:for(let o=0;o<r.length;o++){const d=r[o];if(n.length===d.length){for(let p=0;p<n.length;p++)if(n[p]!==d[p])continue e;return!0}}return!1}function Zp(n,r){return n?":not("+r.trim()+")":r}function sm(n){let r=n[0],o=1,d=2,p="",v=!1;for(;o<n.length;){let D=n[o];if("string"==typeof D)if(2&d){const M=n[++o];p+="["+D+(M.length>0?'="'+M+'"':"")+"]"}else 8&d?p+="."+D:4&d&&(p+=" "+D);else""!==p&&!Kl(D)&&(r+=Zp(v,p),p=""),d=D,v=v||!Kl(d);o++}return""!==p&&(r+=Zp(v,p)),r}const Lr={};function am(n){Lf(_r(),qt(),Xe()+n,!1)}function Lf(n,r,o,d){if(!d)if(3==(3&r[2])){const v=n.preOrderCheckHooks;null!==v&&gr(r,v,o)}else{const v=n.preOrderHooks;null!==v&&fr(r,v,0,o)}Et(o)}function Uf(n,r=null,o=null,d){const p=Jp(n,r,o,d);return p.resolveInjectorInitializers(),p}function Jp(n,r=null,o=null,d,p=new Set){const v=[o||$n,Ep(n)];return d=d||("object"==typeof n?void 0:ve(n)),new Gs(v,r||hc(),d||null,p)}let Gc=(()=>{class n{static create(o,d){if(Array.isArray(o))return Uf({name:""},d,o,"");{const p=o.name??"";return Uf({name:p},o.parent,o.providers,p)}}}return n.THROW_IF_NOT_FOUND=I,n.NULL=new Er,n.\u0275prov=nt({token:n,providedIn:"any",factory:()=>Ae(ju)}),n.__NG_ELEMENT_ID__=-1,n})();function Wc(n,r=sn.Default){const o=qt();return null===o?Ae(n,r):ma(z(),o,ne(n),r)}function zf(){throw new Error("invalid")}function Yc(n,r){return n<<17|r<<2}function cl(n){return n>>17&32767}function Wf(n){return 2|n}function vc(n){return(131068&n)>>2}function Yf(n,r){return-131069&n|r<<2}function cg(n){return 1|n}function Zf(n,r){const o=n.contentQueries;if(null!==o)for(let d=0;d<o.length;d+=2){const p=o[d],v=o[d+1];if(-1!==v){const D=n.data[v];ia(p),D.contentQueries(2,r[v],v)}}}function So(n,r,o,d,p,v,D,M,L,K,ge){const $e=r.blueprint.slice();return $e[0]=p,$e[2]=76|d,(null!==ge||n&&1024&n[2])&&($e[2]|=1024),$o($e),$e[3]=$e[15]=n,$e[8]=o,$e[10]=D||n&&n[10],$e[11]=M||n&&n[11],$e[12]=L||n&&n[12]||null,$e[9]=K||n&&n[9]||null,$e[6]=v,$e[20]=function Bc(){return Mp++}(),$e[21]=ge,$e[16]=2==r.type?n[16]:$e,$e}function qc(n,r,o,d,p){let v=n.data[r];if(null===v)v=function kh(n,r,o,d,p){const v=E(),D=Nt(),L=n.data[r]=function wg(n,r,o,d,p,v){return{type:o,index:d,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:v,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,D?v:v&&v.parent,o,r,d,p);return null===n.firstChild&&(n.firstChild=L),null!==v&&(D?null==v.child&&null!==L.parent&&(v.child=L):null===v.next&&(v.next=L)),L}(n,r,o,d,p),function os(){return Vn.lFrame.inI18n}()&&(v.flags|=64);else if(64&v.type){v.type=o,v.value=d,v.attrs=p;const D=function H(){const n=Vn.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();v.injectorIndex=null===D?-1:D.injectorIndex}return _e(v,!0),v}function Ec(n,r,o,d){if(0===o)return-1;const p=r.length;for(let v=0;v<o;v++)r.push(d),n.blueprint.push(d),n.data.push(null);return p}function Hd(n,r,o){sa(r);try{const d=n.viewQuery;null!==d&&Gh(1,d,o);const p=n.template;null!==p&&Im(n,r,p,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Zf(n,r),n.staticViewQueries&&Gh(2,n.viewQuery,o);const v=n.components;null!==v&&function _g(n,r){for(let o=0;o<r.length;o++)ad(n,r[o])}(r,v)}catch(d){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),d}finally{r[2]&=-5,ee()}}function Fh(n,r,o,d){const p=r[2];if(128!=(128&p)){sa(r);try{$o(r),function qr(n){return Vn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&Im(n,r,o,2,d);const D=3==(3&p);if(D){const K=n.preOrderCheckHooks;null!==K&&gr(r,K,null)}else{const K=n.preOrderHooks;null!==K&&fr(r,K,0,null),ai(r,0)}if(function vy(n){for(let r=Eh(n);null!==r;r=Pd(r)){if(!r[2])continue;const o=r[9];for(let d=0;d<o.length;d++){const p=o[d],v=p[3];0==(512&p[2])&&Hr(v,1),p[2]|=512}}}(r),function ep(n){for(let r=Eh(n);null!==r;r=Pd(r))for(let o=10;o<r.length;o++){const d=r[o],p=d[1];Xs(d)&&Fh(p,d,p.template,d[8])}}(r),null!==n.contentQueries&&Zf(n,r),D){const K=n.contentCheckHooks;null!==K&&gr(r,K)}else{const K=n.contentHooks;null!==K&&fr(r,K,1),ai(r,1)}!function hy(n,r){const o=n.hostBindingOpCodes;if(null!==o)try{for(let d=0;d<o.length;d++){const p=o[d];if(p<0)Et(~p);else{const v=p,D=o[++d],M=o[++d];rc(D,v),M(2,r[v])}}}finally{Et(-1)}}(n,r);const M=n.components;null!==M&&function vg(n,r){for(let o=0;o<r.length;o++)_y(n,r[o])}(r,M);const L=n.viewQuery;if(null!==L&&Gh(2,L,d),D){const K=n.viewCheckHooks;null!==K&&gr(r,K)}else{const K=n.viewHooks;null!==K&&fr(r,K,2),ai(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,Hr(r[3],-1))}finally{ee()}}}function Qf(n,r,o,d){const p=r[10],D=ss(r);try{!D&&p.begin&&p.begin(),D&&Hd(n,r,d),Fh(n,r,o,d)}finally{!D&&p.end&&p.end()}}function Im(n,r,o,d,p){const v=Xe(),D=2&d;try{Et(-1),D&&r.length>22&&Lf(n,r,22,!1),o(d,p)}finally{Et(v)}}function jd(n,r,o){if(Ke(r)){const p=r.directiveEnd;for(let v=r.directiveStart;v<p;v++){const D=n.data[v];D.contentQueries&&D.contentQueries(1,o[v],v)}}}function Gd(n,r,o){!Ao()||(function Vh(n,r,o,d){const p=o.directiveStart,v=o.directiveEnd;n.firstCreatePass||or(o,r),Jo(d,r);const D=o.initialInputs;for(let M=p;M<v;M++){const L=n.data[M],K=Ot(L);K&&Dg(r,o,L);const ge=ya(r,n,M,o);Jo(ge,r),null!==D&&Dm(0,M-p,ge,L,0,D),K&&(Nr(o.index,r)[8]=ge)}}(n,r,o,yr(o,r)),128==(128&o.flags)&&function $h(n,r,o){const d=o.directiveStart,p=o.directiveEnd,v=o.index,D=function Ua(){return Vn.lFrame.currentDirectiveIndex}();try{Et(v);for(let M=d;M<p;M++){const L=n.data[M],K=r[M];Aa(M),(null!==L.hostBindings||0!==L.hostVars||null!==L.hostAttrs)&&Ig(L,K)}}finally{Et(-1),Aa(D)}}(n,r,o))}function zd(n,r,o=yr){const d=r.localNames;if(null!==d){let p=r.index+1;for(let v=0;v<d.length;v+=2){const D=d[v+1],M=-1===D?o(r,n):n[D];n[p++]=M}}}function sd(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Xf(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function Xf(n,r,o,d,p,v,D,M,L,K){const ge=22+d,$e=ge+p,ft=function Rl(n,r){const o=[];for(let d=0;d<r;d++)o.push(d<n?null:Lr);return o}(ge,$e),Pt="function"==typeof K?K():K;return ft[1]={type:n,blueprint:ft,template:o,queries:null,viewQuery:M,declTNode:r,data:ft.slice().fill(null,ge),bindingStartIndex:ge,expandoStartIndex:$e,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof v?v():v,pipeRegistry:"function"==typeof D?D():D,firstChild:null,schemas:L,consts:Pt,incompleteFirstPass:!1}}function Ic(n,r,o,d){const p=xg(r);null===o?p.push(d):(p.push(o),n.firstCreatePass&&sp(n).push(d,p.length-1))}function od(n,r,o){for(let d in n)if(n.hasOwnProperty(d)){const p=n[d];(o=null===o?{}:o).hasOwnProperty(d)?o[d].push(r,p):o[d]=[r,p]}return o}function Ru(n,r){const d=r.directiveEnd,p=n.data,v=r.attrs,D=[];let M=null,L=null;for(let K=r.directiveStart;K<d;K++){const ge=p[K],$e=ge.inputs,ft=null===v||kf(r)?null:yy($e,v);D.push(ft),M=od($e,K,M),L=od(ge.outputs,K,L)}null!==M&&(M.hasOwnProperty("class")&&(r.flags|=16),M.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=D,r.inputs=M,r.outputs=L}function dl(n,r,o,d,p,v,D,M){const L=yr(r,o);let ge,K=r.inputs;!M&&null!=K&&(ge=K[d])?(Mg(n,o,ge,d,p),mt(r)&&Lh(o,r.index)):3&r.type&&(d=function bm(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(d),p=null!=D?D(p,r.value||"",d):p,v.setProperty(L,d,p))}function Lh(n,r){const o=Nr(r,n);16&o[2]||(o[2]|=32)}function Bh(n,r,o,d){let p=!1;if(Ao()){const v=function gy(n,r,o){const d=n.directiveRegistry;let p=null;if(d)for(let v=0;v<d.length;v++){const D=d[v];No(o,D.selectors,!1)&&(p||(p=[]),Zt(or(o,r),n,D.type),Ot(D)?(bg(n,o),p.unshift(D)):p.push(D))}return p}(n,r,o),D=null===d?null:{"":-1};if(null!==v){p=!0,Fo(o,n.data.length,v.length);for(let ge=0;ge<v.length;ge++){const $e=v[ge];$e.providersResolver&&$e.providersResolver($e)}let M=!1,L=!1,K=Ec(n,r,v.length,null);for(let ge=0;ge<v.length;ge++){const $e=v[ge];o.mergedAttrs=Fl(o.mergedAttrs,$e.hostAttrs),Yd(n,o,r,K,$e),my(K,$e,D),null!==$e.contentQueries&&(o.flags|=8),(null!==$e.hostBindings||null!==$e.hostAttrs||0!==$e.hostVars)&&(o.flags|=128);const ft=$e.type.prototype;!M&&(ft.ngOnChanges||ft.ngOnInit||ft.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(o.index),M=!0),!L&&(ft.ngOnChanges||ft.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(o.index),L=!0),K++}Ru(n,o)}D&&function Cg(n,r,o){if(r){const d=n.localNames=[];for(let p=0;p<r.length;p+=2){const v=o[r[p+1]];if(null==v)throw new Qe(-301,!1);d.push(r[p],v)}}}(o,d,D)}return o.mergedAttrs=Fl(o.mergedAttrs,o.attrs),p}function Eg(n,r,o,d,p,v){const D=v.hostBindings;if(D){let M=n.hostBindingOpCodes;null===M&&(M=n.hostBindingOpCodes=[]);const L=~r.index;(function Jf(n){let r=n.length;for(;r>0;){const o=n[--r];if("number"==typeof o&&o<0)return o}return 0})(M)!=L&&M.push(L),M.push(d,p,D)}}function Ig(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function bg(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function my(n,r,o){if(o){if(r.exportAs)for(let d=0;d<r.exportAs.length;d++)o[r.exportAs[d]]=n;Ot(r)&&(o[""]=n)}}function Fo(n,r,o){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+o,n.providerIndexes=r}function Yd(n,r,o,d,p){n.data[d]=p;const v=p.factory||(p.factory=Kr(p.type)),D=new Eo(v,Ot(p),Wc);n.blueprint[d]=D,o[d]=D,Eg(n,r,0,d,Ec(n,o,p.hostVars,Lr),p)}function Dg(n,r,o){const d=yr(r,n),p=sd(o),v=n[10],D=Kd(n,So(n,p,null,o.onPush?32:16,d,r,v,v.createRenderer(d,o),null,null,null));n[r.index]=D}function Ta(n,r,o,d,p,v){const D=yr(n,r);!function Uh(n,r,o,d,p,v,D){if(null==v)n.removeAttribute(r,p,o);else{const M=null==D?ke(v):D(v,d||"",p);n.setAttribute(r,p,M,o)}}(r[11],D,v,n.value,o,d,p)}function Dm(n,r,o,d,p,v){const D=v[r];if(null!==D){const M=d.setInput;for(let L=0;L<D.length;){const K=D[L++],ge=D[L++],$e=D[L++];null!==M?d.setInput(o,$e,K,ge):o[ge]=$e}}}function yy(n,r){let o=null,d=0;for(;d<r.length;){const p=r[d];if(0!==p)if(5!==p){if("number"==typeof p)break;n.hasOwnProperty(p)&&(null===o&&(o=[]),o.push(p,n[p],r[d+1])),d+=2}else d+=2;else d+=4}return o}function Tg(n,r,o,d){return new Array(n,!0,!1,r,null,0,d,o,null,null)}function _y(n,r){const o=Nr(r,n);if(Xs(o)){const d=o[1];48&o[2]?Fh(d,o,d.template,o[8]):o[5]>0&&tp(o)}}function tp(n){for(let d=Eh(n);null!==d;d=Pd(d))for(let p=10;p<d.length;p++){const v=d[p];if(Xs(v))if(512&v[2]){const D=v[1];Fh(D,v,D.template,v[8])}else v[5]>0&&tp(v)}const o=n[1].components;if(null!==o)for(let d=0;d<o.length;d++){const p=Nr(o[d],n);Xs(p)&&p[5]>0&&tp(p)}}function ad(n,r){const o=Nr(r,n),d=o[1];(function Tm(n,r){for(let o=r.length;o<n.blueprint.length;o++)r.push(n.blueprint[o])})(d,o),Hd(d,o,o[8])}function Kd(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function Hh(n){for(;n;){n[2]|=32;const r=ed(n);if(Yt(n)&&!r)return n;n=r}return null}function Gh(n,r,o){ia(0),r(n,o)}function xg(n){return n[7]||(n[7]=[])}function sp(n){return n.cleanup||(n.cleanup=[])}function zh(n,r){const o=n[9],d=o?o.get(Ku,null):null;d&&d.handleError(r)}function Mg(n,r,o,d,p){for(let v=0;v<o.length;){const D=o[v++],M=o[v++],L=r[D],K=n.data[D];null!==K.setInput?K.setInput(L,p,d,M):L[M]=p}}function Wh(n,r,o){let d=o?n.styles:null,p=o?n.classes:null,v=0;if(null!==r)for(let D=0;D<r.length;D++){const M=r[D];"number"==typeof M?v=M:1==v?p=Ee(p,M):2==v&&(d=Ee(d,M+": "+r[++D]+";"))}o?n.styles=d:n.stylesWithoutHost=d,o?n.classes=p:n.classesWithoutHost=p}function Yh(n,r,o,d,p=!1){for(;null!==o;){const v=r[o.index];if(null!==v&&d.push(Ur(v)),Pe(v))for(let M=10;M<v.length;M++){const L=v[M],K=L[1].firstChild;null!==K&&Yh(L[1],L,K,d)}const D=o.type;if(8&D)Yh(n,r,o.child,d);else if(32&D){const M=Ad(o,r);let L;for(;L=M();)d.push(L)}else if(16&D){const M=Up(r,o);if(Array.isArray(M))d.push(...M);else{const L=ed(r[16]);Yh(L[1],L,M,d,!0)}}o=p?o.projectionNext:o.next}return d}class qd{constructor(r,o){this._lView=r,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,o=r[1];return Yh(o,r,o.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(Pe(r)){const o=r[8],d=o?o.indexOf(this):-1;d>-1&&(Bp(r,d),Ra(o,d))}this._attachedToViewContainer=!1}bh(this._lView[1],this._lView)}onDestroy(r){Ic(this._lView[1],this._lView,null,r)}markForCheck(){Hh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function jh(n,r,o){const d=r[10];d.begin&&d.begin();try{Fh(n,r,n.template,o)}catch(p){throw zh(r,p),p}finally{d.end&&d.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Qe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function bu(n,r){Nd(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Qe(902,!1);this._appRef=r}}class Sm extends qd{constructor(r){super(r),this._view=r}detectChanges(){!function np(n){!function Sg(n){for(let r=0;r<n.components.length;r++){const o=n.components[r],d=Dd(o);if(null!==d){const p=d[1];Qf(p,d,p.template,o)}}}(n[8])}(this._view)}checkNoChanges(){}get context(){return null}}class Kh extends q{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=jn(r);return new qh(o,this.ngModule)}}function Rg(n){const r=[];for(let o in n)n.hasOwnProperty(o)&&r.push({propName:n[o],templateName:o});return r}class xm{constructor(r,o){this.injector=r,this.parentInjector=o}get(r,o,d){const p=this.injector.get(r,so,d);return p!==so||o===so?p:this.parentInjector.get(r,o,d)}}class qh extends Ef{constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function yc(n){return n.map(sm).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return Rg(this.componentDef.inputs)}get outputs(){return Rg(this.componentDef.outputs)}create(r,o,d,p){let v=(p=p||this.ngModule)instanceof js?p:p?.injector;v&&null!==this.componentDef.getStandaloneInjector&&(v=this.componentDef.getStandaloneInjector(v)||v);const D=v?new xm(r,v):r,M=D.get(lr,null);if(null===M)throw new Qe(407,!1);const L=D.get(La,null),K=M.createRenderer(null,this.componentDef),ge=this.componentDef.selectors[0][0]||"div",$e=d?function Wd(n,r,o){return n.selectRootElement(r,o===In.ShadowDom)}(K,d,this.componentDef.encapsulation):Lp(M.createRenderer(null,this.componentDef),ge,function Am(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(ge)),ft=this.componentDef.onPush?288:272,Pt={components:[]},en=Xf(0,null,null,1,0,null,null,null,null,null),fn=So(null,en,Pt,ft,null,null,M,K,L,D,null);let Fn,er;sa(fn);try{const Vr=function op(n,r,o,d,p,v){const D=o[1];o[22]=n;const L=qc(D,22,2,"#host",null),K=L.mergedAttrs=r.hostAttrs;null!==K&&(Wh(L,K,!0),null!==n&&(ic(p,n,K),null!==L.classes&&Nf(p,n,L.classes),null!==L.styles&&zp(p,n,L.styles)));const ge=d.createRenderer(n,r),$e=So(o,sd(r),null,r.onPush?32:16,o[22],L,d,ge,v||null,null,null);return D.firstCreatePass&&(Zt(or(L,o),D,r.type),bg(D,L),Fo(L,o.length,1)),Kd(o,$e),o[22]=$e}($e,this.componentDef,fn,M,K);if($e)if(d)ic(K,$e,["ng-version",Wu.full]);else{const{attrs:un,classes:Ir}=function om(n){const r=[],o=[];let d=1,p=2;for(;d<n.length;){let v=n[d];if("string"==typeof v)2===p?""!==v&&r.push(v,n[++d]):8===p&&o.push(v);else{if(!Kl(p))break;p=v}d++}return{attrs:r,classes:o}}(this.componentDef.selectors[0]);un&&ic(K,$e,un),Ir&&Ir.length>0&&Nf(K,$e,Ir.join(" "))}if(er=vs(en,22),void 0!==o){const un=er.projection=[];for(let Ir=0;Ir<this.ngContentSelectors.length;Ir++){const ki=o[Ir];un.push(null!=ki?Array.from(ki):null)}}Fn=function mi(n,r,o,d,p){const v=o[1],D=function py(n,r,o){const d=z();n.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),Yd(n,d,r,Ec(n,r,1,null),o),Ru(n,d));const p=ya(r,n,d.directiveStart,d);Jo(p,r);const v=yr(d,r);return v&&Jo(v,r),p}(v,o,r);if(d.components.push(D),n[8]=D,null!==p)for(const L of p)L(D,r);if(r.contentQueries){const L=z();r.contentQueries(1,D,L.directiveStart)}const M=z();return!v.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(Et(M.index),Eg(o[1],M,0,M.directiveStart,M.directiveEnd,r),Ig(r,D)),D}(Vr,this.componentDef,fn,Pt,[Om]),Hd(en,fn,null)}finally{ee()}return new Rm(this.componentType,Fn,dt(er,fn),fn,er)}}class Rm extends class wf{}{constructor(r,o,d,p,v){super(),this.location=d,this._rootLView=p,this._tNode=v,this.instance=o,this.hostView=this.changeDetectorRef=new Sm(p),this.componentType=r}setInput(r,o){const d=this._tNode.inputs;let p;if(null!==d&&(p=d[r])){const v=this._rootLView;Mg(v[1],v,p,r,o),Lh(v,this._tNode.index)}}get injector(){return new Ns(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Om(){const n=z();ni(qt()[1],n)}function ap(n){let r=function Zd(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const d=[n];for(;r;){let p;if(Ot(n))p=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Qe(903,!1);p=r.\u0275dir}if(p){if(o){d.push(p);const D=n;D.inputs=ta(n.inputs),D.declaredInputs=ta(n.declaredInputs),D.outputs=ta(n.outputs);const M=p.hostBindings;M&&rv(n,M);const L=p.viewQuery,K=p.contentQueries;if(L&&bc(n,L),K&&Ey(n,K),fe(n.inputs,p.inputs),fe(n.declaredInputs,p.declaredInputs),fe(n.outputs,p.outputs),Ot(p)&&p.data.animation){const ge=n.data;ge.animation=(ge.animation||[]).concat(p.data.animation)}}const v=p.features;if(v)for(let D=0;D<v.length;D++){const M=v[D];M&&M.ngInherit&&M(n),M===ap&&(o=!1)}}r=Object.getPrototypeOf(r)}!function Cs(n){let r=0,o=null;for(let d=n.length-1;d>=0;d--){const p=n[d];p.hostVars=r+=p.hostVars,p.hostAttrs=Fl(p.hostAttrs,o=Fl(o,p.hostAttrs))}}(d)}function ta(n){return n===Ar?{}:n===$n?[]:n}function bc(n,r){const o=n.viewQuery;n.viewQuery=o?(d,p)=>{r(d,p),o(d,p)}:r}function Ey(n,r){const o=n.contentQueries;n.contentQueries=o?(d,p,v)=>{r(d,p,v),o(d,p,v)}:r}function rv(n,r){const o=n.hostBindings;n.hostBindings=o?(d,p)=>{r(d,p),o(d,p)}:r}let Qh=null;function Cc(){if(!Qh){const n=br.Symbol;if(n&&n.iterator)Qh=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<r.length;++o){const d=r[o];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Qh=d)}}}return Qh}function Qd(n){return!!km(n)&&(Array.isArray(n)||!(n instanceof Map)&&Cc()in n)}function km(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ha(n,r,o){return!Object.is(n[r],o)&&(n[r]=o,!0)}function Pg(n,r,o,d){const p=qt();return ha(p,vi(),r)&&(_r(),Ta(At(),p,n,r,o,d)),Pg}function Jh(n,r,o,d){return ha(n,vi(),o)?r+ke(o)+d:Lr}function k(n,r,o,d,p,v,D,M){const L=qt(),K=_r(),ge=n+22,$e=K.firstCreatePass?function T(n,r,o,d,p,v,D,M,L){const K=r.consts,ge=qc(r,n,4,D||null,Os(K,M));Bh(r,o,ge,Os(K,L)),ni(r,ge);const $e=ge.tViews=Xf(2,ge,d,p,v,r.directiveRegistry,r.pipeRegistry,null,r.schemas,K);return null!==r.queries&&(r.queries.template(r,ge),$e.queries=r.queries.embeddedTView(ge)),ge}(ge,K,L,r,o,d,p,v,D):K.data[ge];_e($e,!1);const ft=L[11].createComment("");$p(K,L,ft,$e),Jo(ft,L),Kd(L,L[ge]=Tg(ft,L,ft,$e)),Gt($e)&&Gd(K,L,$e),null!=D&&zd(L,$e,M)}function de(n){return function gs(n,r){return n[r]}(function N(){return Vn.lFrame.contextLView}(),22+n)}function Fe(n,r,o){const d=qt();return ha(d,vi(),r)&&dl(_r(),At(),d,n,r,d[11],o,!1),Fe}function wt(n,r,o,d,p){const D=p?"class":"style";Mg(n,o,r.inputs[D],D,d)}function Ft(n,r,o,d){const p=qt(),v=_r(),D=22+n,M=p[11],L=p[D]=Lp(M,r,function $r(){return Vn.lFrame.currentNamespace}()),K=v.firstCreatePass?function vt(n,r,o,d,p,v,D){const M=r.consts,K=qc(r,n,2,p,Os(M,v));return Bh(r,o,K,Os(M,D)),null!==K.attrs&&Wh(K,K.attrs,!1),null!==K.mergedAttrs&&Wh(K,K.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,K),K}(D,v,p,0,r,o,d):v.data[D];_e(K,!0);const ge=K.mergedAttrs;null!==ge&&ic(M,L,ge);const $e=K.classes;null!==$e&&Nf(M,L,$e);const ft=K.styles;return null!==ft&&zp(M,L,ft),64!=(64&K.flags)&&$p(v,p,L,K),0===function vo(){return Vn.lFrame.elementDepthCount}()&&Jo(L,p),function Js(){Vn.lFrame.elementDepthCount++}(),Gt(K)&&(Gd(v,p,K),jd(v,K,p)),null!==d&&zd(p,K),Ft}function an(){let n=z();Nt()?$():(n=n.parent,_e(n,!1));const r=n;!function pa(){Vn.lFrame.elementDepthCount--}();const o=_r();return o.firstCreatePass&&(ni(o,n),Ke(n)&&o.queries.elementEnd(n)),null!=r.classesWithoutHost&&function ga(n){return 0!=(16&n.flags)}(r)&&wt(o,r,qt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function kl(n){return 0!=(32&n.flags)}(r)&&wt(o,r,qt(),r.stylesWithoutHost,!1),an}function Sn(n,r,o,d){return Ft(n,r,o,d),an(),Sn}function Qr(n,r,o){const d=qt(),p=_r(),v=n+22,D=p.firstCreatePass?function Br(n,r,o,d,p){const v=r.consts,D=Os(v,d),M=qc(r,n,8,"ng-container",D);return null!==D&&Wh(M,D,!0),Bh(r,o,M,Os(v,p)),null!==r.queries&&r.queries.elementStart(r,M),M}(v,p,d,r,o):p.data[v];_e(D,!0);const M=d[v]=d[11].createComment("");return $p(p,d,M,D),Jo(M,d),Gt(D)&&(Gd(p,d,D),jd(p,D,d)),null!=o&&zd(d,D),Qr}function Ts(){let n=z();const r=_r();return Nt()?$():(n=n.parent,_e(n,!1)),r.firstCreatePass&&(ni(r,n),Ke(n)&&r.queries.elementEnd(n)),Ts}function lo(n,r,o){return Qr(n,r,o),Ts(),lo}function ds(){return qt()}function Ls(n){return!!n&&"function"==typeof n.then}function Ou(n){return!!n&&"function"==typeof n.subscribe}const Jl=Ou;function rf(n,r,o,d){const p=qt(),v=_r(),D=z();return function Nu(n,r,o,d,p,v,D,M){const L=Gt(d),ge=n.firstCreatePass&&sp(n),$e=r[8],ft=xg(r);let Pt=!0;if(3&d.type||M){const Fn=yr(d,r),er=M?M(Fn):Fn,Vr=ft.length,un=M?ki=>M(Ur(ki[d.index])):d.index;let Ir=null;if(!M&&L&&(Ir=function eu(n,r,o,d){const p=n.cleanup;if(null!=p)for(let v=0;v<p.length-1;v+=2){const D=p[v];if(D===o&&p[v+1]===d){const M=r[7],L=p[v+2];return M.length>L?M[L]:null}"string"==typeof D&&(v+=2)}return null}(n,r,p,d.index)),null!==Ir)(Ir.__ngLastListenerFn__||Ir).__ngNextListenerFn__=v,Ir.__ngLastListenerFn__=v,Pt=!1;else{v=dd(d,r,$e,v,!1);const ki=o.listen(er,p,v);ft.push(v,ki),ge&&ge.push(p,un,Vr,Vr+1)}}else v=dd(d,r,$e,v,!1);const en=d.outputs;let fn;if(Pt&&null!==en&&(fn=en[p])){const Fn=fn.length;if(Fn)for(let er=0;er<Fn;er+=2){const uo=r[fn[er]][fn[er+1]].subscribe(v),Hg=ft.length;ft.push(v,uo),ge&&ge.push(p,d.index,Hg,-(Hg+1))}}}(v,p,p[11],D,n,r,0,d),rf}function cp(n,r,o,d){try{return!1!==o(d)}catch(p){return zh(n,p),!1}}function dd(n,r,o,d,p){return function v(D){if(D===Function)return d;Hh(2&n.flags?Nr(n.index,r):r);let L=cp(r,0,d,D),K=v.__ngNextListenerFn__;for(;K;)L=cp(r,0,K,D)&&L,K=K.__ngNextListenerFn__;return p&&!1===L&&(D.preventDefault(),D.returnValue=!1),L}}function sv(n=1){return function U(n){return(Vn.lFrame.contextLView=function he(n,r){for(;n>0;)r=r[15],n--;return r}(n,Vn.lFrame.contextLView))[8]}(n)}function ov(n,r){let o=null;const d=function ko(n){const r=n.attrs;if(null!=r){const o=r.indexOf(5);if(0==(1&o))return r[o+1]}return null}(n);for(let p=0;p<r.length;p++){const v=r[p];if("*"!==v){if(null===d?No(n,v,!0):Ff(d,v))return p}else o=p}return o}function Iy(n){const r=qt()[16][6];if(!r.projection){const d=r.projection=Ro(n?n.length:1,null),p=d.slice();let v=r.child;for(;null!==v;){const D=n?ov(v,n):0;null!==D&&(p[D]?p[D].projectionNext=v:d[D]=v,p[D]=v),v=v.next}}}function up(n,r=0,o){const d=qt(),p=_r(),v=qc(p,22+n,16,null,o||null);null===v.projection&&(v.projection=r),$(),64!=(64&v.flags)&&function Gp(n,r,o){Pf(r[11],0,r,o,em(n,o,r),nm(o.parent||r[6],o,r))}(p,d,v)}function ku(n,r,o){return by(n,"",r,"",o),ku}function by(n,r,o,d,p){const v=qt(),D=Jh(v,r,o,d);return D!==Lr&&dl(_r(),At(),v,n,D,v[11],p,!1),by}function pv(n,r,o,d,p){const v=n[o+1],D=null===r;let M=d?cl(v):vc(v),L=!1;for(;0!==M&&(!1===L||D);){const ge=n[M+1];gv(n[M],r)&&(L=!0,n[M+1]=d?cg(ge):Wf(ge)),M=d?cl(ge):vc(ge)}L&&(n[o+1]=d?Wf(v):cg(v))}function gv(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&Vi(n,r)>=0}function Um(n,r){return function ru(n,r,o,d){const p=qt(),v=_r(),D=function wr(n){const r=Vn.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,o}(2);v.firstUpdatePass&&function Ev(n,r,o,d){const p=n.data;if(null===p[o+1]){const v=p[Xe()],D=function Hm(n,r){return r>=n.expandoStartIndex}(n,o);(function xy(n,r){return 0!=(n.flags&(r?16:32))})(v,d)&&null===r&&!D&&(r=!1),r=function e_(n,r,o,d){const p=function xa(n){const r=Vn.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let v=d?r.residualClasses:r.residualStyles;if(null===p)0===(d?r.classBindings:r.styleBindings)&&(o=Ng(o=Ay(null,n,r,o,d),r.attrs,d),v=null);else{const D=r.directiveStylingLast;if(-1===D||n[D]!==p)if(o=Ay(p,n,r,o,d),null===v){let L=function t_(n,r,o){const d=o?r.classBindings:r.styleBindings;if(0!==vc(d))return n[cl(d)]}(n,r,d);void 0!==L&&Array.isArray(L)&&(L=Ay(null,n,r,L[1],d),L=Ng(L,r.attrs,d),function n_(n,r,o,d){n[cl(o?r.classBindings:r.styleBindings)]=d}(n,r,d,L))}else v=function r_(n,r,o){let d;const p=r.directiveEnd;for(let v=1+r.directiveStylingLast;v<p;v++)d=Ng(d,n[v].hostAttrs,o);return Ng(d,r.attrs,o)}(n,r,d)}return void 0!==v&&(d?r.residualClasses=v:r.residualStyles=v),o}(p,v,r,d),function fv(n,r,o,d,p,v){let D=v?r.classBindings:r.styleBindings,M=cl(D),L=vc(D);n[d]=o;let ge,K=!1;if(Array.isArray(o)){const $e=o;ge=$e[1],(null===ge||Vi($e,ge)>0)&&(K=!0)}else ge=o;if(p)if(0!==L){const ft=cl(n[M+1]);n[d+1]=Yc(ft,M),0!==ft&&(n[ft+1]=Yf(n[ft+1],d)),n[M+1]=function cy(n,r){return 131071&n|r<<17}(n[M+1],d)}else n[d+1]=Yc(M,0),0!==M&&(n[M+1]=Yf(n[M+1],d)),M=d;else n[d+1]=Yc(L,0),0===M?M=d:n[L+1]=Yf(n[L+1],d),L=d;K&&(n[d+1]=Wf(n[d+1])),pv(n,ge,d,!0),pv(n,ge,d,!1),function Kv(n,r,o,d,p){const v=p?n.residualClasses:n.residualStyles;null!=v&&"string"==typeof r&&Vi(v,r)>=0&&(o[d+1]=cg(o[d+1]))}(r,ge,n,d,v),D=Yc(M,L),v?r.classBindings=D:r.styleBindings=D}(p,v,r,o,D,d)}}(v,n,D,d),r!==Lr&&ha(p,D,r)&&function bv(n,r,o,d,p,v,D,M){if(!(3&r.type))return;const L=n.data,K=L[M+1];dp(function Kf(n){return 1==(1&n)}(K)?Cv(L,r,o,p,vc(K),D):void 0)||(dp(v)||function lg(n){return 2==(2&n)}(K)&&(v=Cv(L,null,o,p,M,D)),function Of(n,r,o,d,p){if(r)p?n.addClass(o,d):n.removeClass(o,d);else{let v=-1===d.indexOf("-")?void 0:da.DashCase;null==p?n.removeStyle(o,d,v):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),v|=da.Important),n.setStyle(o,d,p,v))}}(d,D,Xi(Xe(),o),p,v))}(v,v.data[Xe()],p,p[11],n,p[D+1]=function Dv(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=ve(Na(n)))),n}(r,o),d,D)}(n,r,null,!0),Um}function Ay(n,r,o,d,p){let v=null;const D=o.directiveEnd;let M=o.directiveStylingLast;for(-1===M?M=o.directiveStart:M++;M<D&&(v=r[M],d=Ng(d,v.hostAttrs,p),v!==n);)M++;return null!==n&&(o.directiveStylingLast=M),d}function Ng(n,r,o){const d=o?1:2;let p=-1;if(null!==r)for(let v=0;v<r.length;v++){const D=r[v];"number"==typeof D?p=D:p===d&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ti(n,D,!!o||r[++v]))}return void 0===n?null:n}function Cv(n,r,o,d,p,v){const D=null===r;let M;for(;p>0;){const L=n[p],K=Array.isArray(L),ge=K?L[1]:L,$e=null===ge;let ft=o[p+1];ft===Lr&&(ft=$e?$n:void 0);let Pt=$e?Oa(ft,d):ge===d?ft:void 0;if(K&&!dp(Pt)&&(Pt=Oa(L,d)),dp(Pt)&&(M=Pt,D))return M;const en=n[p+1];p=D?cl(en):vc(en)}if(null!==r){let L=v?r.residualClasses:r.residualStyles;null!=L&&(M=Oa(L,d))}return M}function dp(n){return void 0!==n}function hp(n,r=""){const o=qt(),d=_r(),p=n+22,v=d.firstCreatePass?qc(d,p,1,r,null):d.data[p],D=o[p]=function Iu(n,r){return n.createText(r)}(o[11],r);$p(d,o,D,v),_e(v,!1)}function kg(n){return jm("",n,""),kg}function jm(n,r,o){const d=qt(),p=Jh(d,n,r,o);return p!==Lr&&function Qc(n,r,o){const d=Xi(r,n);!function Fp(n,r,o){n.setValue(r,o)}(n[11],d,o)}(d,Xe(),p),jm}const nh=void 0;var Nv=["en",[["a","p"],["AM","PM"],nh],[["AM","PM"],nh,nh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],nh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],nh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",nh,"{1} 'at' {0}",nh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function d_(n){const o=Math.floor(Math.abs(n)),d=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===d?1:5}];let cf={};function Vy(n){const r=function t(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=kv(r);if(o)return o;const d=r.split("-")[0];if(o=kv(d),o)return o;if("en"===d)return Nv;throw new Qe(701,!1)}function $y(n){return Vy(n)[e.PluralCase]}function kv(n){return n in cf||(cf[n]=br.ng&&br.ng.common&&br.ng.common.locales&&br.ng.common.locales[n]),cf[n]}var e=(()=>((e=e||{})[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e))();const m="en-US";let it=m;function g_(n,r,o,d,p){if(n=ne(n),Array.isArray(n))for(let v=0;v<n.length;v++)g_(n[v],r,o,d,p);else{const v=_r(),D=qt();let M=Yl(n)?n:ne(n.provide),L=io(n);const K=z(),ge=1048575&K.providerIndexes,$e=K.directiveStart,ft=K.providerIndexes>>20;if(Yl(n)||!n.multi){const Pt=new Eo(L,p,Wc),en=y_(M,r,p?ge:ge+ft,$e);-1===en?(Zt(or(K,D),v,M),m_(v,n,r.length),r.push(M),K.directiveStart++,K.directiveEnd++,p&&(K.providerIndexes+=1048576),o.push(Pt),D.push(Pt)):(o[en]=Pt,D[en]=Pt)}else{const Pt=y_(M,r,ge+ft,$e),en=y_(M,r,ge,ge+ft),fn=Pt>=0&&o[Pt],Fn=en>=0&&o[en];if(p&&!Fn||!p&&!fn){Zt(or(K,D),v,M);const er=function LE(n,r,o,d,p){const v=new Eo(n,o,Wc);return v.multi=[],v.index=r,v.componentProviders=0,T0(v,p,d&&!o),v}(p?FE:kE,o.length,p,d,L);!p&&Fn&&(o[en].providerFactory=er),m_(v,n,r.length,0),r.push(M),K.directiveStart++,K.directiveEnd++,p&&(K.providerIndexes+=1048576),o.push(er),D.push(er)}else m_(v,n,Pt>-1?Pt:en,T0(o[p?en:Pt],L,!p&&d));!p&&d&&Fn&&o[en].componentProviders++}}}function m_(n,r,o,d){const p=Yl(r),v=function rl(n){return!!n.useClass}(r);if(p||v){const L=(v?ne(r.useClass):r).prototype.ngOnDestroy;if(L){const K=n.destroyHooks||(n.destroyHooks=[]);if(!p&&r.multi){const ge=K.indexOf(o);-1===ge?K.push(o,[d,L]):K[ge+1].push(d,L)}else K.push(o,L)}}}function T0(n,r,o){return o&&n.componentProviders++,n.multi.push(r)-1}function y_(n,r,o,d){for(let p=o;p<d;p++)if(r[p]===n)return p;return-1}function kE(n,r,o,d){return v_(this.multi,[])}function FE(n,r,o,d){const p=this.multi;let v;if(this.providerFactory){const D=this.providerFactory.componentProviders,M=ya(o,o[1],this.providerFactory.index,d);v=M.slice(0,D),v_(p,v);for(let L=D;L<M.length;L++)v.push(M[L])}else v=[],v_(p,v);return v}function v_(n,r){for(let o=0;o<n.length;o++)r.push((0,n[o])());return r}function S0(n,r=[]){return o=>{o.providersResolver=(d,p)=>function NE(n,r,o){const d=_r();if(d.firstCreatePass){const p=Ot(n);g_(o,d.data,d.blueprint,p,!0),g_(r,d.data,d.blueprint,p,!1)}}(d,p?p(n):n,r)}}class Ym{}class A0{}function BE(n,r){return new x0(n,r??null)}class x0 extends Ym{constructor(r,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Kh(this);const d=hr(r);this._bootstrapComponents=ol(d.bootstrap),this._r3Injector=Jp(r,o,[{provide:Ym,useValue:this},{provide:q,useValue:this.componentFactoryResolver}],ve(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class __ extends A0{constructor(r){super(),this.moduleType=r}create(r){return new x0(this.moduleType,r)}}class VE extends Ym{constructor(r,o,d){super(),this.componentFactoryResolver=new Kh(this),this.instance=null;const p=new Gs([...r,{provide:Ym,useValue:this},{provide:q,useValue:this.componentFactoryResolver}],o||hc(),d,new Set(["environment"]));this.injector=p,p.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function w_(n,r,o=null){return new VE(n,r,o).injector}let $E=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const d=Co(0,o.type),p=d.length>0?w_([d],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,p)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=nt({token:n,providedIn:"environment",factory:()=>new n(Ae(js))}),n})();function M0(n){n.getStandaloneInjector=r=>r.get($E).getOrCreateStandaloneInjector(n)}function I_(n){return r=>{setTimeout(n,void 0,r)}}const rh=class hI extends u.xQ{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,o,d){let p=r,v=o||(()=>null),D=d;if(r&&"object"==typeof r){const L=r;p=L.next?.bind(L),v=L.error?.bind(L),D=L.complete?.bind(L)}this.__isAsync&&(v=I_(v),p&&(p=I_(p)),D&&(D=I_(D)));const M=super.subscribe({next:p,error:v,complete:D});return r instanceof X.w&&r.add(M),M}};function fI(){return this._results[Cc()]()}class b_{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Cc(),d=b_.prototype;d[o]||(d[o]=fI)}get changes(){return this._changes||(this._changes=new rh)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){const d=this;d.dirty=!1;const p=Ji(r);(this._changesDetected=!function Qa(n,r,o){if(n.length!==r.length)return!1;for(let d=0;d<n.length;d++){let p=n[d],v=r[d];if(o&&(p=o(p),v=o(v)),v!==p)return!1}return!0}(d._results,p,o))&&(d._results=p,d.length=p.length,d.last=p[this.length-1],d.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Wy=(()=>{class n{}return n.__NG_ELEMENT_ID__=mI,n})();const pI=Wy,gI=class extends pI{constructor(r,o,d){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=d}createEmbeddedView(r,o){const d=this._declarationTContainer.tViews,p=So(this._declarationLView,d,r,16,null,d.declTNode,null,null,null,null,o||null);p[17]=this._declarationLView[this._declarationTContainer.index];const D=this._declarationLView[19];return null!==D&&(p[19]=D.createEmbeddedView(d)),Hd(d,p,r),new qd(p)}};function mI(){return Bv(z(),qt())}function Bv(n,r){return 4&n.type?new gI(r,n,dt(n,r)):null}let Vv=(()=>{class n{}return n.__NG_ELEMENT_ID__=yI,n})();function yI(){return G0(z(),qt())}const vI=Vv,H0=class extends vI{constructor(r,o,d){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=d}get element(){return dt(this._hostTNode,this._hostLView)}get injector(){return new Ns(this._hostTNode,this._hostLView)}get parentInjector(){const r=Vt(this._hostTNode,this._hostLView);if(Gr(r)){const o=zo(r,this._hostLView),d=as(r);return new Ns(o[1].data[d+8],o)}return new Ns(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=j0(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,o,d){let p,v;"number"==typeof d?p=d:null!=d&&(p=d.index,v=d.injector);const D=r.createEmbeddedView(o||{},v);return this.insert(D,p),D}createComponent(r,o,d,p,v){const D=r&&!function ls(n){return"function"==typeof n}(r);let M;if(D)M=o;else{const $e=o||{};M=$e.index,d=$e.injector,p=$e.projectableNodes,v=$e.environmentInjector||$e.ngModuleRef}const L=D?r:new qh(jn(r)),K=d||this.parentInjector;if(!v&&null==L.ngModule){const ft=(D?K:this.parentInjector).get(js,null);ft&&(v=ft)}const ge=L.create(K,p,void 0,v);return this.insert(ge.hostView,M),ge}insert(r,o){const d=r._lView,p=d[1];if(function Vo(n){return Pe(n[3])}(d)){const ge=this.indexOf(r);if(-1!==ge)this.detach(ge);else{const $e=d[3],ft=new H0($e,$e[6],$e[3]);ft.detach(ft.indexOf(r))}}const v=this._adjustIndex(o),D=this._lContainer;!function ny(n,r,o,d){const p=10+d,v=o.length;d>0&&(o[p-1][4]=r),d<v-10?(r[4]=o[p],Io(o,10+d,r)):(o.push(r),r[4]=null),r[3]=o;const D=r[17];null!==D&&o!==D&&function ry(n,r){const o=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===o?n[9]=[r]:o.push(r)}(D,r);const M=r[19];null!==M&&M.insertView(n),r[2]|=64}(p,d,D,v);const M=Hp(v,D),L=d[11],K=Ch(L,D[7]);return null!==K&&function Zg(n,r,o,d,p,v){d[0]=p,d[6]=r,Nd(n,d,o,1,p,v)}(p,D[6],L,d,K,M),r.attachToViewContainerRef(),Io(C_(D),v,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=j0(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),d=Bp(this._lContainer,o);d&&(Ra(C_(this._lContainer),o),bh(d[1],d))}detach(r){const o=this._adjustIndex(r,-1),d=Bp(this._lContainer,o);return d&&null!=Ra(C_(this._lContainer),o)?new qd(d):null}_adjustIndex(r,o=0){return r??this.length+o}};function j0(n){return n[8]}function C_(n){return n[8]||(n[8]=[])}function G0(n,r){let o;const d=r[n.index];if(Pe(d))o=d;else{let p;if(8&n.type)p=Ur(d);else{const v=r[11];p=v.createComment("");const D=yr(n,r);ll(v,Ch(v,D),p,function oy(n,r){return n.nextSibling(r)}(v,D),!1)}r[n.index]=o=Tg(d,r,p,n),Kd(r,o)}return new H0(o,n,r)}class D_{constructor(r){this.queryList=r,this.matches=null}clone(){return new D_(this.queryList)}setDirty(){this.queryList.setDirty()}}class T_{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const d=null!==r.contentQueries?r.contentQueries[0]:o.length,p=[];for(let v=0;v<d;v++){const D=o.getByIndex(v);p.push(this.queries[D.indexInDeclarationView].clone())}return new T_(p)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==J0(r,o).matches&&this.queries[o].setDirty()}}class z0{constructor(r,o,d=null){this.predicate=r,this.flags=o,this.read=d}}class S_{constructor(r=[]){this.queries=r}elementStart(r,o){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let d=0;d<this.length;d++){const p=null!==o?o.length:0,v=this.getByIndex(d).embeddedTView(r,p);v&&(v.indexInDeclarationView=d,null!==o?o.push(v):o=[v])}return null!==o?new S_(o):null}template(r,o){for(let d=0;d<this.queries.length;d++)this.queries[d].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class A_{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new A_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let d=r.parent;for(;null!==d&&8&d.type&&d.index!==o;)d=d.parent;return o===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const d=this.metadata.predicate;if(Array.isArray(d))for(let p=0;p<d.length;p++){const v=d[p];this.matchTNodeWithReadOption(r,o,EI(o,v)),this.matchTNodeWithReadOption(r,o,Wa(o,r,v,!1,!1))}else d===Wy?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,Wa(o,r,d,!1,!1))}matchTNodeWithReadOption(r,o,d){if(null!==d){const p=this.metadata.read;if(null!==p)if(p===Bt||p===Vv||p===Wy&&4&o.type)this.addMatch(o.index,-2);else{const v=Wa(o,r,p,!1,!1);null!==v&&this.addMatch(o.index,v)}else this.addMatch(o.index,d)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function EI(n,r){const o=n.localNames;if(null!==o)for(let d=0;d<o.length;d+=2)if(o[d]===r)return o[d+1];return null}function bI(n,r,o,d){return-1===o?function II(n,r){return 11&n.type?dt(n,r):4&n.type?Bv(n,r):null}(r,n):-2===o?function CI(n,r,o){return o===Bt?dt(r,n):o===Wy?Bv(r,n):o===Vv?G0(r,n):void 0}(n,r,d):ya(n,n[1],o,r)}function W0(n,r,o,d){const p=r[19].queries[d];if(null===p.matches){const v=n.data,D=o.matches,M=[];for(let L=0;L<D.length;L+=2){const K=D[L];M.push(K<0?null:bI(r,v[K],D[L+1],o.metadata.read))}p.matches=M}return p.matches}function x_(n,r,o,d){const p=n.queries.getByIndex(o),v=p.matches;if(null!==v){const D=W0(n,r,p,o);for(let M=0;M<v.length;M+=2){const L=v[M];if(L>0)d.push(D[M/2]);else{const K=v[M+1],ge=r[-L];for(let $e=10;$e<ge.length;$e++){const ft=ge[$e];ft[17]===ft[3]&&x_(ft[1],ft,K,d)}if(null!==ge[9]){const $e=ge[9];for(let ft=0;ft<$e.length;ft++){const Pt=$e[ft];x_(Pt[1],Pt,K,d)}}}}}return d}function Y0(n){const r=qt(),o=_r(),d=Ha();ia(d+1);const p=J0(o,d);if(n.dirty&&ss(r)===(2==(2&p.metadata.flags))){if(null===p.matches)n.reset([]);else{const v=p.crossesNgTemplate?x_(o,r,d,[]):W0(o,r,p,d);n.reset(v,vn),n.notifyOnChanges()}return!0}return!1}function K0(n,r,o){const d=_r();d.firstCreatePass&&(X0(d,new z0(n,r,o),-1),2==(2&r)&&(d.staticViewQueries=!0)),Q0(d,qt(),r)}function q0(n,r,o,d){const p=_r();if(p.firstCreatePass){const v=z();X0(p,new z0(r,o,d),v.index),function TI(n,r){const o=n.contentQueries||(n.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,r)}(p,n),2==(2&o)&&(p.staticContentQueries=!0)}Q0(p,qt(),o)}function Z0(){return function DI(n,r){return n[19].queries[r].queryList}(qt(),Ha())}function Q0(n,r,o){const d=new b_(4==(4&o));Ic(n,r,d,d.destroy),null===r[19]&&(r[19]=new T_),r[19].queries.push(new D_(d))}function X0(n,r,o){null===n.queries&&(n.queries=new S_),n.queries.track(new A_(r,o))}function J0(n,r){return n.queries.getByIndex(r)}function Uv(...n){}const vw=new oi("Application Initializer");let Hv=(()=>{class n{constructor(o){this.appInits=o,this.resolve=Uv,this.reject=Uv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,p)=>{this.resolve=d,this.reject=p})}runInitializers(){if(this.initialized)return;const o=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const v=this.appInits[p]();if(Ls(v))o.push(v);else if(Jl(v)){const D=new Promise((M,L)=>{v.subscribe({complete:M,error:L})});o.push(D)}}Promise.all(o).then(()=>{d()}).catch(p=>{this.reject(p)}),0===o.length&&d(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(Ae(vw,8))},n.\u0275prov=nt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _w=new oi("AppId",{providedIn:"root",factory:function ww(){return`${N_()}${N_()}${N_()}`}});function N_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ew=new oi("Platform Initializer"),YI=new oi("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Iw=new oi("appBootstrapListener");let KI=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=nt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const jv=new oi("LocaleId",{providedIn:"root",factory:()=>xt(jv,sn.Optional|sn.SkipSelf)||function qI(){return typeof $localize<"u"&&$localize.locale||m}()}),ZI=new oi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class QI{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let XI=(()=>{class n{compileModuleSync(o){return new __(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const d=this.compileModuleSync(o),v=ol(hr(o).declarations).reduce((D,M)=>{const L=jn(M);return L&&D.push(new qh(L)),D},[]);return new QI(d,v)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=nt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const tb=(()=>Promise.resolve(0))();function k_(n){typeof Zone>"u"?tb.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Fu{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new rh(!1),this.onMicrotaskEmpty=new rh(!1),this.onStable=new rh(!1),this.onError=new rh(!1),typeof Zone>"u")throw new Qe(908,!1);Zone.assertZonePatched();const p=this;if(p._nesting=0,p._outer=p._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const v=Zone.AsyncStackTaggingZoneSpec;p._inner=p._inner.fork(new v("Angular"))}Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!d&&o,p.shouldCoalesceRunChangeDetection=d,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function nb(){let n=br.requestAnimationFrame,r=br.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const d=r[Zone.__symbol__("OriginalDelegate")];d&&(r=d)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function sb(n){const r=()=>{!function ib(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(br,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,L_(n),n.isCheckStableRunning=!0,F_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),L_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,d,p,v,D,M)=>{try{return Dw(n),o.invokeTask(p,v,D,M)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===v.type||n.shouldCoalesceRunChangeDetection)&&r(),Tw(n)}},onInvoke:(o,d,p,v,D,M,L)=>{try{return Dw(n),o.invoke(p,v,D,M,L)}finally{n.shouldCoalesceRunChangeDetection&&r(),Tw(n)}},onHasTask:(o,d,p,v)=>{o.hasTask(p,v),d===p&&("microTask"==v.change?(n._hasPendingMicrotasks=v.microTask,L_(n),F_(n)):"macroTask"==v.change&&(n.hasPendingMacrotasks=v.macroTask))},onHandleError:(o,d,p,v)=>(o.handleError(p,v),n.runOutsideAngular(()=>n.onError.emit(v)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fu.isInAngularZone())throw new Qe(909,!1)}static assertNotInAngularZone(){if(Fu.isInAngularZone())throw new Qe(909,!1)}run(r,o,d){return this._inner.run(r,o,d)}runTask(r,o,d,p){const v=this._inner,D=v.scheduleEventTask("NgZoneEvent: "+p,r,rb,Uv,Uv);try{return v.runTask(D,o,d)}finally{v.cancelTask(D)}}runGuarded(r,o,d){return this._inner.runGuarded(r,o,d)}runOutsideAngular(r){return this._outer.run(r)}}const rb={};function F_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function L_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Dw(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Tw(n){n._nesting--,F_(n)}class ob{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new rh,this.onMicrotaskEmpty=new rh,this.onStable=new rh,this.onError=new rh}run(r,o,d){return r.apply(o,d)}runGuarded(r,o,d){return r.apply(o,d)}runOutsideAngular(r){return r()}runTask(r,o,d,p){return r.apply(o,d)}}const Sw=new oi(""),Aw=new oi("");let B_,ab=(()=>{class n{constructor(o,d,p){this._ngZone=o,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,B_||(function lb(n){B_=n}(p),p.addToWindow(d)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fu.assertNotInAngularZone(),k_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())k_(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(o)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,d,p){let v=-1;d&&d>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(D=>D.timeoutId!==v),o(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:o,timeoutId:v,updateCb:p})}whenStable(o,d,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,d,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,d,p){return[]}}return n.\u0275fac=function(o){return new(o||n)(Ae(Fu),Ae(xw),Ae(Aw))},n.\u0275prov=nt({token:n,factory:n.\u0275fac}),n})(),xw=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,d){this._applications.set(o,d)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,d=!0){return B_?.findTestabilityInTree(this,o,d)??null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=nt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),pp=null;const Mw=new oi("AllowMultipleToken"),V_=new oi("PlatformDestroyListeners");class db{constructor(r,o){this.name=r,this.token=o}}function Pw(n,r,o=[]){const d=`Platform: ${r}`,p=new oi(d);return(v=[])=>{let D=$_();if(!D||D.injector.get(Mw,!1)){const M=[...o,...v,{provide:p,useValue:!0}];n?n(M):function hb(n){if(pp&&!pp.get(Mw,!1))throw new Qe(400,!1);pp=n;const r=n.get(Nw);(function Rw(n){const r=n.get(Ew,null);r&&r.forEach(o=>o())})(n)}(function Ow(n=[],r){return Gc.create({name:r,providers:[{provide:vu,useValue:"platform"},{provide:V_,useValue:new Set([()=>pp=null])},...n]})}(M,d))}return function pb(n){const r=$_();if(!r)throw new Qe(401,!1);return r}()}}function $_(){return pp?.get(Nw)??null}let Nw=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,d){const p=function Fw(n,r){let o;return o="noop"===n?new ob:("zone.js"===n?void 0:n)||new Fu(r),o}(d?.ngZone,function kw(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(d)),v=[{provide:Fu,useValue:p}];return p.run(()=>{const D=Gc.create({providers:v,parent:this.injector,name:o.moduleType.name}),M=o.create(D),L=M.injector.get(Ku,null);if(!L)throw new Qe(402,!1);return p.runOutsideAngular(()=>{const K=p.onError.subscribe({next:ge=>{L.handleError(ge)}});M.onDestroy(()=>{zv(this._modules,M),K.unsubscribe()})}),function Lw(n,r,o){try{const d=o();return Ls(d)?d.catch(p=>{throw r.runOutsideAngular(()=>n.handleError(p)),p}):d}catch(d){throw r.runOutsideAngular(()=>n.handleError(d)),d}}(L,p,()=>{const K=M.injector.get(Hv);return K.runInitializers(),K.donePromise.then(()=>(function kt(n){Re(n,"Expected localeId to be defined"),"string"==typeof n&&(it=n.toLowerCase().replace(/_/g,"-"))}(M.injector.get(jv,m)||m),this._moduleDoBootstrap(M),M))})})}bootstrapModule(o,d=[]){const p=Bw({},d);return function cb(n,r,o){const d=new __(o);return Promise.resolve(d)}(0,0,o).then(v=>this.bootstrapModuleFactory(v,p))}_moduleDoBootstrap(o){const d=o.injector.get(Gv);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(p=>d.bootstrap(p));else{if(!o.instance.ngDoBootstrap)throw new Qe(403,!1);o.instance.ngDoBootstrap(d)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Qe(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const o=this._injector.get(V_,null);o&&(o.forEach(d=>d()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(Ae(Gc))},n.\u0275prov=nt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function Bw(n,r){return Array.isArray(r)?r.reduce(Bw,n):{...n,...r}}let Gv=(()=>{class n{constructor(o,d,p){this._zone=o,this._injector=d,this._exceptionHandler=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new W.y(M=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{M.next(this._stable),M.complete()})}),D=new W.y(M=>{let L;this._zone.runOutsideAngular(()=>{L=this._zone.onStable.subscribe(()=>{Fu.assertNotInAngularZone(),k_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,M.next(!0))})})});const K=this._zone.onUnstable.subscribe(()=>{Fu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{M.next(!1)}))});return()=>{L.unsubscribe(),K.unsubscribe()}});this.isStable=(0,Be.T)(v,D.pipe((0,Ne.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,d){const p=o instanceof Ef;if(!this._injector.get(Hv).done)throw!p&&Dn(o),new Qe(405,false);let D;D=p?o:this._injector.get(q).resolveComponentFactory(o),this.componentTypes.push(D.componentType);const M=function ub(n){return n.isBoundToModule}(D)?void 0:this._injector.get(Ym),K=D.create(Gc.NULL,[],d||D.selector,M),ge=K.location.nativeElement,$e=K.injector.get(Sw,null);return $e?.registerApplication(ge),K.onDestroy(()=>{this.detachView(K.hostView),zv(this.components,K),$e?.unregisterApplication(ge)}),this._loadComponent(K),K}tick(){if(this._runningTick)throw new Qe(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const d=o;this._views.push(d),d.attachToAppRef(this)}detachView(o){const d=o;zv(this._views,d),d.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(Iw,[]).concat(this._bootstrapListeners).forEach(p=>p(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>zv(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Qe(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(o){return new(o||n)(Ae(Fu),Ae(js),Ae(Ku))},n.\u0275prov=nt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function zv(n,r){const o=n.indexOf(r);o>-1&&n.splice(o,1)}let $w=!0,Uw=!1;function mb(){return Uw=!0,$w}function yb(){if(Uw)throw new Error("Cannot enable prod mode after platform setup.");$w=!1}let vb=(()=>{class n{}return n.__NG_ELEMENT_ID__=_b,n})();function _b(n){return function wb(n,r,o){if(mt(n)&&!o){const d=Nr(n.index,r);return new qd(d,d)}return 47&n.type?new qd(r[16],r):null}(z(),qt(),16==(16&n))}class zw{constructor(){}supports(r){return Qd(r)}create(r){return new Tb(r)}}const Db=(n,r)=>r;class Tb{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||Db}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,d=this._removalsHead,p=0,v=null;for(;o||d;){const D=!d||o&&o.currentIndex<Yw(d,p,v)?o:d,M=Yw(D,p,v),L=D.currentIndex;if(D===d)p--,d=d._nextRemoved;else if(o=o._next,null==D.previousIndex)p++;else{v||(v=[]);const K=M-p,ge=L-p;if(K!=ge){for(let ft=0;ft<K;ft++){const Pt=ft<v.length?v[ft]:v[ft]=0,en=Pt+ft;ge<=en&&en<K&&(v[ft]=Pt+1)}v[D.previousIndex]=ge-K}}M!==L&&r(D,M,L)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!Qd(r))throw new Qe(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let p,v,D,o=this._itHead,d=!1;if(Array.isArray(r)){this.length=r.length;for(let M=0;M<this.length;M++)v=r[M],D=this._trackByFn(M,v),null!==o&&Object.is(o.trackById,D)?(d&&(o=this._verifyReinsertion(o,v,D,M)),Object.is(o.item,v)||this._addIdentityChange(o,v)):(o=this._mismatch(o,v,D,M),d=!0),o=o._next}else p=0,function iv(n,r){if(Array.isArray(n))for(let o=0;o<n.length;o++)r(n[o]);else{const o=n[Cc()]();let d;for(;!(d=o.next()).done;)r(d.value)}}(r,M=>{D=this._trackByFn(p,M),null!==o&&Object.is(o.trackById,D)?(d&&(o=this._verifyReinsertion(o,M,D,p)),Object.is(o.item,M)||this._addIdentityChange(o,M)):(o=this._mismatch(o,M,D,p),d=!0),o=o._next,p++}),this.length=p;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,d,p){let v;return null===r?v=this._itTail:(v=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,v,p)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(d,p))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,v,p)):r=this._addAfter(new Sb(o,d),v,p),r}_verifyReinsertion(r,o,d,p){let v=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==v?r=this._reinsertAfter(v,r._prev,p):r.currentIndex!=p&&(r.currentIndex=p,this._addToMoves(r,p)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const p=r._prevRemoved,v=r._nextRemoved;return null===p?this._removalsHead=v:p._nextRemoved=v,null===v?this._removalsTail=p:v._prevRemoved=p,this._insertAfter(r,o,d),this._addToMoves(r,d),r}_moveAfter(r,o,d){return this._unlink(r),this._insertAfter(r,o,d),this._addToMoves(r,d),r}_addAfter(r,o,d){return this._insertAfter(r,o,d),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,d){const p=null===o?this._itHead:o._next;return r._next=p,r._prev=o,null===p?this._itTail=r:p._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new Ww),this._linkedRecords.put(r),r.currentIndex=d,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,d=r._next;return null===o?this._itHead=d:o._next=d,null===d?this._itTail=o:d._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ww),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class Sb{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ab{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===o||o<=d.currentIndex)&&Object.is(d.trackById,r))return d;return null}remove(r){const o=r._prevDup,d=r._nextDup;return null===o?this._head=d:o._nextDup=d,null===d?this._tail=o:d._prevDup=o,null===this._head}}class Ww{constructor(){this.map=new Map}put(r){const o=r.trackById;let d=this.map.get(o);d||(d=new Ab,this.map.set(o,d)),d.add(r)}get(r,o){const p=this.map.get(r);return p?p.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Yw(n,r,o){const d=n.previousIndex;if(null===d)return d;let p=0;return o&&d<o.length&&(p=o[d]),d+r+p}class Kw{constructor(){}supports(r){return r instanceof Map||km(r)}create(){return new xb}}class xb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||km(r)))throw new Qe(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(d,p)=>{if(o&&o.key===p)this._maybeAddToChanges(o,d),this._appendAfter=o,o=o._next;else{const v=this._getOrCreateRecordForKey(p,d);o=this._insertBeforeOrAppend(o,v)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let d=o;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const d=r._prev;return o._next=r,o._prev=d,r._prev=o,d&&(d._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const p=this._records.get(r);this._maybeAddToChanges(p,o);const v=p._prev,D=p._next;return v&&(v._next=D),D&&(D._prev=v),p._next=null,p._prev=null,p}const d=new Mb(r);return this._records.set(r,d),d.currentValue=o,this._addToAdditions(d),d}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(d=>o(r[d],d))}}class Mb{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function qw(){return new z_([new zw])}let z_=(()=>{class n{constructor(o){this.factories=o}static create(o,d){if(null!=d){const p=d.factories.slice();o=o.concat(p)}return new n(o)}static extend(o){return{provide:n,useFactory:d=>n.create(o,d||qw()),deps:[[n,new Is,new $i]]}}find(o){const d=this.factories.find(p=>p.supports(o));if(null!=d)return d;throw new Qe(901,!1)}}return n.\u0275prov=nt({token:n,providedIn:"root",factory:qw}),n})();function Zw(){return new W_([new Kw])}let W_=(()=>{class n{constructor(o){this.factories=o}static create(o,d){if(d){const p=d.factories.slice();o=o.concat(p)}return new n(o)}static extend(o){return{provide:n,useFactory:d=>n.create(o,d||Zw()),deps:[[n,new Is,new $i]]}}find(o){const d=this.factories.find(p=>p.supports(o));if(d)return d;throw new Qe(901,!1)}}return n.\u0275prov=nt({token:n,providedIn:"root",factory:Zw}),n})();const Ob=Pw(null,"core",[]);let Nb=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(Ae(Gv))},n.\u0275mod=gn({type:n}),n.\u0275inj=gt({}),n})();function kb(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},4719:(ln,pt,O)=>{"use strict";O.d(pt,{qu:()=>E,u:()=>Ms,sg:()=>Bs,u5:()=>Ho,JU:()=>ne,a5:()=>sn,JJ:()=>Tr,JL:()=>Fr,On:()=>ct,c5:()=>vo,UX:()=>qt,Q7:()=>ss,kI:()=>_t,_Y:()=>at});var u=O(4650),X=O(6895),W=O(5254),Be=O(6498),Ne=O(6688),J=O(4850),fe=O(7830);function Ee($,V){return new Be.y(N=>{const se=$.length;if(0===se)return void N.complete();const Ct=new Array(se);let Qt=0,Wn=0;for(let qr=0;qr<se;qr++){const vi=(0,W.D)($[qr]);let wr=!1;N.add(vi.subscribe({next:os=>{wr||(wr=!0,Wn++),Ct[qr]=os},error:os=>N.error(os),complete:()=>{Qt++,(Qt===se||!wr)&&(Wn===se&&N.next(V?V.reduce((os,_o,rc)=>(os[_o]=Ct[rc],os),{}):Ct),N.complete())}}))}})}let ie=(()=>{class ${constructor(N,se){this._renderer=N,this._elementRef=se,this.onChange=Ct=>{},this.onTouched=()=>{}}setProperty(N,se){this._renderer.setProperty(this._elementRef.nativeElement,N,se)}registerOnTouched(N){this.onTouched=N}registerOnChange(N){this.onChange=N}setDisabledState(N){this.setProperty("disabled",N)}}return $.\u0275fac=function(N){return new(N||$)(u.Y36(u.Qsj),u.Y36(u.SBq))},$.\u0275dir=u.lG2({type:$}),$})(),ae=(()=>{class $ extends ie{}return $.\u0275fac=function(){let V;return function(se){return(V||(V=u.n5z($)))(se||$)}}(),$.\u0275dir=u.lG2({type:$,features:[u.qOj]}),$})();const ne=new u.OlP("NgValueAccessor"),Qe={provide:ne,useExisting:(0,u.Gpc)(()=>ze),multi:!0},ke=new u.OlP("CompositionEventMode");let ze=(()=>{class $ extends ie{constructor(N,se,Ct){super(N,se),this._compositionMode=Ct,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ve(){const $=(0,X.q)()?(0,X.q)().getUserAgent():"";return/android (\d+)/.test($.toLowerCase())}())}writeValue(N){this.setProperty("value",N??"")}_handleInput(N){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(N)}_compositionStart(){this._composing=!0}_compositionEnd(N){this._composing=!1,this._compositionMode&&this.onChange(N)}}return $.\u0275fac=function(N){return new(N||$)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(ke,8))},$.\u0275dir=u.lG2({type:$,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(N,se){1&N&&u.NdJ("input",function(Qt){return se._handleInput(Qt.target.value)})("blur",function(){return se.onTouched()})("compositionstart",function(){return se._compositionStart()})("compositionend",function(Qt){return se._compositionEnd(Qt.target.value)})},features:[u._Bn([Qe]),u.qOj]}),$})();function Se($){return null==$||("string"==typeof $||Array.isArray($))&&0===$.length}function Dt($){return null!=$&&"number"==typeof $.length}const bt=new u.OlP("NgValidators"),Mt=new u.OlP("NgAsyncValidators"),rt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class _t{static min(V){return function Me($){return V=>{if(Se(V.value)||Se($))return null;const N=parseFloat(V.value);return!isNaN(N)&&N<$?{min:{min:$,actual:V.value}}:null}}(V)}static max(V){return function Ge($){return V=>{if(Se(V.value)||Se($))return null;const N=parseFloat(V.value);return!isNaN(N)&&N>$?{max:{max:$,actual:V.value}}:null}}(V)}static required(V){return Ce(V)}static requiredTrue(V){return function ce($){return!0===$.value?null:{required:!0}}(V)}static email(V){return function xe($){return Se($.value)||rt.test($.value)?null:{email:!0}}(V)}static minLength(V){return function oe($){return V=>Se(V.value)||!Dt(V.value)?null:V.value.length<$?{minlength:{requiredLength:$,actualLength:V.value.length}}:null}(V)}static maxLength(V){return function Oe($){return V=>Dt(V.value)&&V.value.length>$?{maxlength:{requiredLength:$,actualLength:V.value.length}}:null}(V)}static pattern(V){return re(V)}static nullValidator(V){return null}static compose(V){return nt(V)}static composeAsync(V){return gt(V)}}function Ce($){return Se($.value)?{required:!0}:null}function re($){if(!$)return be;let V,N;return"string"==typeof $?(N="","^"!==$.charAt(0)&&(N+="^"),N+=$,"$"!==$.charAt($.length-1)&&(N+="$"),V=new RegExp(N)):(N=$.toString(),V=$),se=>{if(Se(se.value))return null;const Ct=se.value;return V.test(Ct)?null:{pattern:{requiredPattern:N,actualValue:Ct}}}}function be($){return null}function me($){return null!=$}function Re($){return(0,u.QGY)($)?(0,W.D)($):$}function ye($){let V={};return $.forEach(N=>{V=null!=N?{...V,...N}:V}),0===Object.keys(V).length?null:V}function Ie($,V){return V.map(N=>N($))}function qe($){return $.map(V=>function Ue($){return!$.validate}(V)?V:N=>V.validate(N))}function nt($){if(!$)return null;const V=$.filter(me);return 0==V.length?null:function(N){return ye(Ie(N,V))}}function Rt($){return null!=$?nt(qe($)):null}function gt($){if(!$)return null;const V=$.filter(me);return 0==V.length?null:function(N){return function ve(...$){if(1===$.length){const V=$[0];if((0,Ne.k)(V))return Ee(V,null);if((0,fe.K)(V)&&Object.getPrototypeOf(V)===Object.prototype){const N=Object.keys(V);return Ee(N.map(se=>V[se]),N)}}if("function"==typeof $[$.length-1]){const V=$.pop();return Ee($=1===$.length&&(0,Ne.k)($[0])?$[0]:$,null).pipe((0,J.U)(N=>V(...N)))}return Ee($,null)}(Ie(N,V).map(Re)).pipe((0,J.U)(ye))}}function Lt($){return null!=$?gt(qe($)):null}function pn($,V){return null===$?[V]:Array.isArray($)?[...$,V]:[$,V]}function wn($){return $._rawValidators}function An($){return $._rawAsyncValidators}function Nn($){return $?Array.isArray($)?$:[$]:[]}function sr($,V){return Array.isArray($)?$.includes(V):$===V}function ri($,V){const N=Nn(V);return Nn($).forEach(Ct=>{sr(N,Ct)||N.push(Ct)}),N}function zr($,V){return Nn(V).filter(N=>!sr($,N))}class Mr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(V){this._rawValidators=V||[],this._composedValidatorFn=Rt(this._rawValidators)}_setAsyncValidators(V){this._rawAsyncValidators=V||[],this._composedAsyncValidatorFn=Lt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(V){this._onDestroyCallbacks.push(V)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(V=>V()),this._onDestroyCallbacks=[]}reset(V){this.control&&this.control.reset(V)}hasError(V,N){return!!this.control&&this.control.hasError(V,N)}getError(V,N){return this.control?this.control.getError(V,N):null}}class yn extends Mr{get formDirective(){return null}get path(){return null}}class sn extends Mr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class zt{constructor(V){this._cd=V}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Tr=(()=>{class $ extends zt{constructor(N){super(N)}}return $.\u0275fac=function(N){return new(N||$)(u.Y36(sn,2))},$.\u0275dir=u.lG2({type:$,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(N,se){2&N&&u.ekj("ng-untouched",se.isUntouched)("ng-touched",se.isTouched)("ng-pristine",se.isPristine)("ng-dirty",se.isDirty)("ng-valid",se.isValid)("ng-invalid",se.isInvalid)("ng-pending",se.isPending)},features:[u.qOj]}),$})(),Fr=(()=>{class $ extends zt{constructor(N){super(N)}}return $.\u0275fac=function(N){return new(N||$)(u.Y36(yn,10))},$.\u0275dir=u.lG2({type:$,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(N,se){2&N&&u.ekj("ng-untouched",se.isUntouched)("ng-touched",se.isTouched)("ng-pristine",se.isPristine)("ng-dirty",se.isDirty)("ng-valid",se.isValid)("ng-invalid",se.isInvalid)("ng-pending",se.isPending)("ng-submitted",se.isSubmitted)},features:[u.qOj]}),$})();const st="VALID",Wt="INVALID",tn="PENDING",gn="DISABLED";function dr($){return(jn($)?$.validators:$)||null}function zn($){return Array.isArray($)?Rt($):$||null}function tr($,V){return(jn(V)?V.asyncValidators:$)||null}function cn($){return Array.isArray($)?Lt($):$||null}function jn($){return null!=$&&!Array.isArray($)&&"object"==typeof $}function Wr($,V,N){const se=$.controls;if(!(V?Object.keys(se):se).length)throw new u.vHH(1e3,"");if(!se[N])throw new u.vHH(1001,"")}function vr($,V,N){$._forEachChild((se,Ct)=>{if(void 0===N[Ct])throw new u.vHH(1002,"")})}class Dn{constructor(V,N){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=V,this._rawAsyncValidators=N,this._composedValidatorFn=zn(this._rawValidators),this._composedAsyncValidatorFn=cn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(V){this._rawValidators=this._composedValidatorFn=V}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(V){this._rawAsyncValidators=this._composedAsyncValidatorFn=V}get parent(){return this._parent}get valid(){return this.status===st}get invalid(){return this.status===Wt}get pending(){return this.status==tn}get disabled(){return this.status===gn}get enabled(){return this.status!==gn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(V){this._rawValidators=V,this._composedValidatorFn=zn(V)}setAsyncValidators(V){this._rawAsyncValidators=V,this._composedAsyncValidatorFn=cn(V)}addValidators(V){this.setValidators(ri(V,this._rawValidators))}addAsyncValidators(V){this.setAsyncValidators(ri(V,this._rawAsyncValidators))}removeValidators(V){this.setValidators(zr(V,this._rawValidators))}removeAsyncValidators(V){this.setAsyncValidators(zr(V,this._rawAsyncValidators))}hasValidator(V){return sr(this._rawValidators,V)}hasAsyncValidator(V){return sr(this._rawAsyncValidators,V)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(V={}){this.touched=!0,this._parent&&!V.onlySelf&&this._parent.markAsTouched(V)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(V=>V.markAllAsTouched())}markAsUntouched(V={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(N=>{N.markAsUntouched({onlySelf:!0})}),this._parent&&!V.onlySelf&&this._parent._updateTouched(V)}markAsDirty(V={}){this.pristine=!1,this._parent&&!V.onlySelf&&this._parent.markAsDirty(V)}markAsPristine(V={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(N=>{N.markAsPristine({onlySelf:!0})}),this._parent&&!V.onlySelf&&this._parent._updatePristine(V)}markAsPending(V={}){this.status=tn,!1!==V.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!V.onlySelf&&this._parent.markAsPending(V)}disable(V={}){const N=this._parentMarkedDirty(V.onlySelf);this.status=gn,this.errors=null,this._forEachChild(se=>{se.disable({...V,onlySelf:!0})}),this._updateValue(),!1!==V.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...V,skipPristineCheck:N}),this._onDisabledChange.forEach(se=>se(!0))}enable(V={}){const N=this._parentMarkedDirty(V.onlySelf);this.status=st,this._forEachChild(se=>{se.enable({...V,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:V.emitEvent}),this._updateAncestors({...V,skipPristineCheck:N}),this._onDisabledChange.forEach(se=>se(!1))}_updateAncestors(V){this._parent&&!V.onlySelf&&(this._parent.updateValueAndValidity(V),V.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(V){this._parent=V}getRawValue(){return this.value}updateValueAndValidity(V={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===st||this.status===tn)&&this._runAsyncValidator(V.emitEvent)),!1!==V.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!V.onlySelf&&this._parent.updateValueAndValidity(V)}_updateTreeValidity(V={emitEvent:!0}){this._forEachChild(N=>N._updateTreeValidity(V)),this.updateValueAndValidity({onlySelf:!0,emitEvent:V.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?gn:st}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(V){if(this.asyncValidator){this.status=tn,this._hasOwnPendingAsyncValidator=!0;const N=Re(this.asyncValidator(this));this._asyncValidationSubscription=N.subscribe(se=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(se,{emitEvent:V})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(V,N={}){this.errors=V,this._updateControlsErrors(!1!==N.emitEvent)}get(V){let N=V;return null==N||(Array.isArray(N)||(N=N.split(".")),0===N.length)?null:N.reduce((se,Ct)=>se&&se._find(Ct),this)}getError(V,N){const se=N?this.get(N):this;return se&&se.errors?se.errors[V]:null}hasError(V,N){return!!this.getError(V,N)}get root(){let V=this;for(;V._parent;)V=V._parent;return V}_updateControlsErrors(V){this.status=this._calculateStatus(),V&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(V)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?gn:this.errors?Wt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(tn)?tn:this._anyControlsHaveStatus(Wt)?Wt:st}_anyControlsHaveStatus(V){return this._anyControls(N=>N.status===V)}_anyControlsDirty(){return this._anyControls(V=>V.dirty)}_anyControlsTouched(){return this._anyControls(V=>V.touched)}_updatePristine(V={}){this.pristine=!this._anyControlsDirty(),this._parent&&!V.onlySelf&&this._parent._updatePristine(V)}_updateTouched(V={}){this.touched=this._anyControlsTouched(),this._parent&&!V.onlySelf&&this._parent._updateTouched(V)}_registerOnCollectionChange(V){this._onCollectionChange=V}_setUpdateStrategy(V){jn(V)&&null!=V.updateOn&&(this._updateOn=V.updateOn)}_parentMarkedDirty(V){return!V&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(V){return null}}class hr extends Dn{constructor(V,N,se){super(dr(N),tr(se,N)),this.controls=V,this._initObservables(),this._setUpdateStrategy(N),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(V,N){return this.controls[V]?this.controls[V]:(this.controls[V]=N,N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange),N)}addControl(V,N,se={}){this.registerControl(V,N),this.updateValueAndValidity({emitEvent:se.emitEvent}),this._onCollectionChange()}removeControl(V,N={}){this.controls[V]&&this.controls[V]._registerOnCollectionChange(()=>{}),delete this.controls[V],this.updateValueAndValidity({emitEvent:N.emitEvent}),this._onCollectionChange()}setControl(V,N,se={}){this.controls[V]&&this.controls[V]._registerOnCollectionChange(()=>{}),delete this.controls[V],N&&this.registerControl(V,N),this.updateValueAndValidity({emitEvent:se.emitEvent}),this._onCollectionChange()}contains(V){return this.controls.hasOwnProperty(V)&&this.controls[V].enabled}setValue(V,N={}){vr(this,0,V),Object.keys(V).forEach(se=>{Wr(this,!0,se),this.controls[se].setValue(V[se],{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N)}patchValue(V,N={}){null!=V&&(Object.keys(V).forEach(se=>{const Ct=this.controls[se];Ct&&Ct.patchValue(V[se],{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N))}reset(V={},N={}){this._forEachChild((se,Ct)=>{se.reset(V[Ct],{onlySelf:!0,emitEvent:N.emitEvent})}),this._updatePristine(N),this._updateTouched(N),this.updateValueAndValidity(N)}getRawValue(){return this._reduceChildren({},(V,N,se)=>(V[se]=N.getRawValue(),V))}_syncPendingControls(){let V=this._reduceChildren(!1,(N,se)=>!!se._syncPendingControls()||N);return V&&this.updateValueAndValidity({onlySelf:!0}),V}_forEachChild(V){Object.keys(this.controls).forEach(N=>{const se=this.controls[N];se&&V(se,N)})}_setUpControls(){this._forEachChild(V=>{V.setParent(this),V._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(V){for(const[N,se]of Object.entries(this.controls))if(this.contains(N)&&V(se))return!0;return!1}_reduceValue(){return this._reduceChildren({},(N,se,Ct)=>((se.enabled||this.disabled)&&(N[Ct]=se.value),N))}_reduceChildren(V,N){let se=V;return this._forEachChild((Ct,Qt)=>{se=N(se,Ct,Qt)}),se}_allControlsDisabled(){for(const V of Object.keys(this.controls))if(this.controls[V].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(V){return this.controls.hasOwnProperty(V)?this.controls[V]:null}}class We extends hr{}function It($,V){return[...V.path,$]}function Ut($,V){Cr($,V),V.valueAccessor.writeValue($.value),$.disabled&&V.valueAccessor.setDisabledState?.(!0),function Gn($,V){V.valueAccessor.registerOnChange(N=>{$._pendingValue=N,$._pendingChange=!0,$._pendingDirty=!0,"change"===$.updateOn&&Yr($,V)})}($,V),function qi($,V){const N=(se,Ct)=>{V.valueAccessor.writeValue(se),Ct&&V.viewToModelUpdate(se)};$.registerOnChange(N),V._registerOnDestroy(()=>{$._unregisterOnChange(N)})}($,V),function Jr($,V){V.valueAccessor.registerOnTouched(()=>{$._pendingTouched=!0,"blur"===$.updateOn&&$._pendingChange&&Yr($,V),"submit"!==$.updateOn&&$.markAsTouched()})}($,V),function Rn($,V){if(V.valueAccessor.setDisabledState){const N=se=>{V.valueAccessor.setDisabledState(se)};$.registerOnDisabledChange(N),V._registerOnDestroy(()=>{$._unregisterOnDisabledChange(N)})}}($,V)}function _n($,V,N=!0){const se=()=>{};V.valueAccessor&&(V.valueAccessor.registerOnChange(se),V.valueAccessor.registerOnTouched(se)),ci($,V),$&&(V._invokeOnDestroyCallbacks(),$._registerOnCollectionChange(()=>{}))}function Tn($,V){$.forEach(N=>{N.registerOnValidatorChange&&N.registerOnValidatorChange(V)})}function Cr($,V){const N=wn($);null!==V.validator?$.setValidators(pn(N,V.validator)):"function"==typeof N&&$.setValidators([N]);const se=An($);null!==V.asyncValidator?$.setAsyncValidators(pn(se,V.asyncValidator)):"function"==typeof se&&$.setAsyncValidators([se]);const Ct=()=>$.updateValueAndValidity();Tn(V._rawValidators,Ct),Tn(V._rawAsyncValidators,Ct)}function ci($,V){let N=!1;if(null!==$){if(null!==V.validator){const Ct=wn($);if(Array.isArray(Ct)&&Ct.length>0){const Qt=Ct.filter(Wn=>Wn!==V.validator);Qt.length!==Ct.length&&(N=!0,$.setValidators(Qt))}}if(null!==V.asyncValidator){const Ct=An($);if(Array.isArray(Ct)&&Ct.length>0){const Qt=Ct.filter(Wn=>Wn!==V.asyncValidator);Qt.length!==Ct.length&&(N=!0,$.setAsyncValidators(Qt))}}}const se=()=>{};return Tn(V._rawValidators,se),Tn(V._rawAsyncValidators,se),N}function Yr($,V){$._pendingDirty&&$.markAsDirty(),$.setValue($._pendingValue,{emitModelToViewChange:!1}),V.viewToModelUpdate($._pendingValue),$._pendingChange=!1}function Ai($,V){if(!$.hasOwnProperty("model"))return!1;const N=$.model;return!!N.isFirstChange()||!Object.is(V,N.currentValue)}function Hi($,V){if(!V)return null;let N,se,Ct;return Array.isArray(V),V.forEach(Qt=>{Qt.constructor===ze?N=Qt:function Pn($){return Object.getPrototypeOf($.constructor)===ae}(Qt)?se=Qt:Ct=Qt}),Ct||se||N||null}function De($,V){const N=$.indexOf(V);N>-1&&$.splice(N,1)}function lt($){return"object"==typeof $&&null!==$&&2===Object.keys($).length&&"value"in $&&"disabled"in $}const ut=class extends Dn{constructor(V=null,N,se){super(dr(N),tr(se,N)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(V),this._setUpdateStrategy(N),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),jn(N)&&(N.nonNullable||N.initialValueIsDefault)&&(this.defaultValue=lt(V)?V.value:V)}setValue(V,N={}){this.value=this._pendingValue=V,this._onChange.length&&!1!==N.emitModelToViewChange&&this._onChange.forEach(se=>se(this.value,!1!==N.emitViewToModelChange)),this.updateValueAndValidity(N)}patchValue(V,N={}){this.setValue(V,N)}reset(V=this.defaultValue,N={}){this._applyFormState(V),this.markAsPristine(N),this.markAsUntouched(N),this.setValue(this.value,N),this._pendingChange=!1}_updateValue(){}_anyControls(V){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(V){this._onChange.push(V)}_unregisterOnChange(V){De(this._onChange,V)}registerOnDisabledChange(V){this._onDisabledChange.push(V)}_unregisterOnDisabledChange(V){De(this._onDisabledChange,V)}_forEachChild(V){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(V){lt(V)?(this.value=this._pendingValue=V.value,V.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=V}},Or={provide:sn,useExisting:(0,u.Gpc)(()=>ct)},Zn=(()=>Promise.resolve(null))();let ct=(()=>{class $ extends sn{constructor(N,se,Ct,Qt,Wn){super(),this._changeDetectorRef=Wn,this.control=new ut,this._registered=!1,this.update=new u.vpe,this._parent=N,this._setValidators(se),this._setAsyncValidators(Ct),this.valueAccessor=Hi(0,Qt)}ngOnChanges(N){if(this._checkForErrors(),!this._registered||"name"in N){if(this._registered&&(this._checkName(),this.formDirective)){const se=N.name.previousValue;this.formDirective.removeControl({name:se,path:this._getPath(se)})}this._setUpControl()}"isDisabled"in N&&this._updateDisabled(N),Ai(N,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(N){this.viewModel=N,this.update.emit(N)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ut(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(N){Zn.then(()=>{this.control.setValue(N,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(N){const se=N.isDisabled.currentValue,Ct=0!==se&&(0,u.D6c)(se);Zn.then(()=>{Ct&&!this.control.disabled?this.control.disable():!Ct&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(N){return this._parent?It(N,this._parent):[N]}}return $.\u0275fac=function(N){return new(N||$)(u.Y36(yn,9),u.Y36(bt,10),u.Y36(Mt,10),u.Y36(ne,10),u.Y36(u.sBO,8))},$.\u0275dir=u.lG2({type:$,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([Or]),u.qOj,u.TTD]}),$})(),at=(()=>{class ${}return $.\u0275fac=function(N){return new(N||$)},$.\u0275dir=u.lG2({type:$,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),$})(),kn=(()=>{class ${}return $.\u0275fac=function(N){return new(N||$)},$.\u0275mod=u.oAB({type:$}),$.\u0275inj=u.cJS({}),$})();const Gi=new u.OlP("NgModelWithFormControlWarning"),go={provide:yn,useExisting:(0,u.Gpc)(()=>Bs)};let Bs=(()=>{class $ extends yn{constructor(N,se){super(),this.validators=N,this.asyncValidators=se,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(N),this._setAsyncValidators(se)}ngOnChanges(N){this._checkFormPresent(),N.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ci(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(N){const se=this.form.get(N.path);return Ut(se,N),se.updateValueAndValidity({emitEvent:!1}),this.directives.push(N),se}getControl(N){return this.form.get(N.path)}removeControl(N){_n(N.control||null,N,!1),function ns($,V){const N=$.indexOf(V);N>-1&&$.splice(N,1)}(this.directives,N)}addFormGroup(N){this._setUpFormContainer(N)}removeFormGroup(N){this._cleanUpFormContainer(N)}getFormGroup(N){return this.form.get(N.path)}addFormArray(N){this._setUpFormContainer(N)}removeFormArray(N){this._cleanUpFormContainer(N)}getFormArray(N){return this.form.get(N.path)}updateModel(N,se){this.form.get(N.path).setValue(se)}onSubmit(N){return this.submitted=!0,function fi($,V){$._syncPendingControls(),V.forEach(N=>{const se=N.control;"submit"===se.updateOn&&se._pendingChange&&(N.viewToModelUpdate(se._pendingValue),se._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(N),!1}onReset(){this.resetForm()}resetForm(N){this.form.reset(N),this.submitted=!1}_updateDomValue(){this.directives.forEach(N=>{const se=N.control,Ct=this.form.get(N.path);se!==Ct&&(_n(se||null,N),($=>$ instanceof ut)(Ct)&&(Ut(Ct,N),N.control=Ct))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(N){const se=this.form.get(N.path);(function ei($,V){Cr($,V)})(se,N),se.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(N){if(this.form){const se=this.form.get(N.path);se&&function mr($,V){return ci($,V)}(se,N)&&se.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Cr(this.form,this),this._oldForm&&ci(this._oldForm,this)}_checkFormPresent(){}}return $.\u0275fac=function(N){return new(N||$)(u.Y36(bt,10),u.Y36(Mt,10))},$.\u0275dir=u.lG2({type:$,selectors:[["","formGroup",""]],hostBindings:function(N,se){1&N&&u.NdJ("submit",function(Qt){return se.onSubmit(Qt)})("reset",function(){return se.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([go]),u.qOj,u.TTD]}),$})();const mo={provide:sn,useExisting:(0,u.Gpc)(()=>Ms)};let Ms=(()=>{class $ extends sn{constructor(N,se,Ct,Qt,Wn){super(),this._ngModelWarningConfig=Wn,this._added=!1,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=N,this._setValidators(se),this._setAsyncValidators(Ct),this.valueAccessor=Hi(0,Qt)}set isDisabled(N){}ngOnChanges(N){this._added||this._setUpControl(),Ai(N,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(N){this.viewModel=N,this.update.emit(N)}get path(){return It(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return $._ngModelWarningSentOnce=!1,$.\u0275fac=function(N){return new(N||$)(u.Y36(yn,13),u.Y36(bt,10),u.Y36(Mt,10),u.Y36(ne,10),u.Y36(Gi,8))},$.\u0275dir=u.lG2({type:$,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([mo]),u.qOj,u.TTD]}),$})(),ps=(()=>{class ${constructor(){this._validator=be}ngOnChanges(N){if(this.inputName in N){const se=this.normalizeInput(N[this.inputName].currentValue);this._enabled=this.enabled(se),this._validator=this._enabled?this.createValidator(se):be,this._onChange&&this._onChange()}}validate(N){return this._validator(N)}registerOnValidatorChange(N){this._onChange=N}enabled(N){return null!=N}}return $.\u0275fac=function(N){return new(N||$)},$.\u0275dir=u.lG2({type:$,features:[u.TTD]}),$})();const gs={provide:bt,useExisting:(0,u.Gpc)(()=>ss),multi:!0};let ss=(()=>{class $ extends ps{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=u.D6c,this.createValidator=N=>Ce}enabled(N){return N}}return $.\u0275fac=function(){let V;return function(se){return(V||(V=u.n5z($)))(se||$)}}(),$.\u0275dir=u.lG2({type:$,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(N,se){2&N&&u.uIk("required",se._enabled?"":null)},inputs:{required:"required"},features:[u._Bn([gs]),u.qOj]}),$})();const Sa={provide:bt,useExisting:(0,u.Gpc)(()=>vo),multi:!0};let vo=(()=>{class $ extends ps{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=N=>N,this.createValidator=N=>re(N)}}return $.\u0275fac=function(){let V;return function(se){return(V||(V=u.n5z($)))(se||$)}}(),$.\u0275dir=u.lG2({type:$,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(N,se){2&N&&u.uIk("pattern",se._enabled?se.pattern:null)},inputs:{pattern:"pattern"},features:[u._Bn([Sa]),u.qOj]}),$})(),Uo=(()=>{class ${}return $.\u0275fac=function(N){return new(N||$)},$.\u0275mod=u.oAB({type:$}),$.\u0275inj=u.cJS({imports:[kn]}),$})(),Ho=(()=>{class ${}return $.\u0275fac=function(N){return new(N||$)},$.\u0275mod=u.oAB({type:$}),$.\u0275inj=u.cJS({imports:[Uo]}),$})(),qt=(()=>{class ${static withConfig(N){return{ngModule:$,providers:[{provide:Gi,useValue:N.warnOnNgModelWithFormControl}]}}}return $.\u0275fac=function(N){return new(N||$)},$.\u0275mod=u.oAB({type:$}),$.\u0275inj=u.cJS({imports:[Uo]}),$})();class _r extends Dn{constructor(V,N,se){super(dr(N),tr(se,N)),this.controls=V,this._initObservables(),this._setUpdateStrategy(N),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(V){return this.controls[this._adjustIndex(V)]}push(V,N={}){this.controls.push(V),this._registerControl(V),this.updateValueAndValidity({emitEvent:N.emitEvent}),this._onCollectionChange()}insert(V,N,se={}){this.controls.splice(V,0,N),this._registerControl(N),this.updateValueAndValidity({emitEvent:se.emitEvent})}removeAt(V,N={}){let se=this._adjustIndex(V);se<0&&(se=0),this.controls[se]&&this.controls[se]._registerOnCollectionChange(()=>{}),this.controls.splice(se,1),this.updateValueAndValidity({emitEvent:N.emitEvent})}setControl(V,N,se={}){let Ct=this._adjustIndex(V);Ct<0&&(Ct=0),this.controls[Ct]&&this.controls[Ct]._registerOnCollectionChange(()=>{}),this.controls.splice(Ct,1),N&&(this.controls.splice(Ct,0,N),this._registerControl(N)),this.updateValueAndValidity({emitEvent:se.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(V,N={}){vr(this,0,V),V.forEach((se,Ct)=>{Wr(this,!1,Ct),this.at(Ct).setValue(se,{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N)}patchValue(V,N={}){null!=V&&(V.forEach((se,Ct)=>{this.at(Ct)&&this.at(Ct).patchValue(se,{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N))}reset(V=[],N={}){this._forEachChild((se,Ct)=>{se.reset(V[Ct],{onlySelf:!0,emitEvent:N.emitEvent})}),this._updatePristine(N),this._updateTouched(N),this.updateValueAndValidity(N)}getRawValue(){return this.controls.map(V=>V.getRawValue())}clear(V={}){this.controls.length<1||(this._forEachChild(N=>N._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:V.emitEvent}))}_adjustIndex(V){return V<0?V+this.length:V}_syncPendingControls(){let V=this.controls.reduce((N,se)=>!!se._syncPendingControls()||N,!1);return V&&this.updateValueAndValidity({onlySelf:!0}),V}_forEachChild(V){this.controls.forEach((N,se)=>{V(N,se)})}_updateValue(){this.value=this.controls.filter(V=>V.enabled||this.disabled).map(V=>V.value)}_anyControls(V){return this.controls.some(N=>N.enabled&&V(N))}_setUpControls(){this._forEachChild(V=>this._registerControl(V))}_allControlsDisabled(){for(const V of this.controls)if(V.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(V){V.setParent(this),V._registerOnCollectionChange(this._onCollectionChange)}_find(V){return this.at(V)??null}}function z($){return!!$&&(void 0!==$.asyncValidators||void 0!==$.validators||void 0!==$.updateOn)}let E=(()=>{class ${constructor(){this.useNonNullable=!1}get nonNullable(){const N=new $;return N.useNonNullable=!0,N}group(N,se=null){const Ct=this._reduceControls(N);let Qt={};return z(se)?Qt=se:null!==se&&(Qt.validators=se.validator,Qt.asyncValidators=se.asyncValidator),new hr(Ct,Qt)}record(N,se=null){const Ct=this._reduceControls(N);return new We(Ct,se)}control(N,se,Ct){let Qt={};return this.useNonNullable?(z(se)?Qt=se:(Qt.validators=se,Qt.asyncValidators=Ct),new ut(N,{...Qt,nonNullable:!0})):new ut(N,se,Ct)}array(N,se,Ct){const Qt=N.map(Wn=>this._createControl(Wn));return new _r(Qt,se,Ct)}_reduceControls(N){const se={};return Object.keys(N).forEach(Ct=>{se[Ct]=this._createControl(N[Ct])}),se}_createControl(N){return N instanceof ut||N instanceof Dn?N:Array.isArray(N)?this.control(N[0],N.length>1?N[1]:null,N.length>2?N[2]:null):this.control(N)}}return $.\u0275fac=function(N){return new(N||$)},$.\u0275prov=u.Yz7({token:$,factory:$.\u0275fac,providedIn:qt}),$})()},1481:(ln,pt,O)=>{"use strict";O.d(pt,{Dx:()=>Rr,b2:()=>Ei,q6:()=>Mr});var u=O(6895),X=O(4650);class W extends u.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Be extends W{static makeCurrent(){(0,u.HT)(new Be)}onAndCancel(We,Le,It){return We.addEventListener(Le,It,!1),()=>{We.removeEventListener(Le,It,!1)}}dispatchEvent(We,Le){We.dispatchEvent(Le)}remove(We){We.parentNode&&We.parentNode.removeChild(We)}createElement(We,Le){return(Le=Le||this.getDefaultDocument()).createElement(We)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(We){return We.nodeType===Node.ELEMENT_NODE}isShadowRoot(We){return We instanceof DocumentFragment}getGlobalEventTarget(We,Le){return"window"===Le?window:"document"===Le?We:"body"===Le?We.body:null}getBaseHref(We){const Le=function J(){return Ne=Ne||document.querySelector("base"),Ne?Ne.getAttribute("href"):null}();return null==Le?null:function ve(Ye){fe=fe||document.createElement("a"),fe.setAttribute("href",Ye);const We=fe.pathname;return"/"===We.charAt(0)?We:`/${We}`}(Le)}resetBaseElement(){Ne=null}getUserAgent(){return window.navigator.userAgent}getCookie(We){return(0,u.Mx)(document.cookie,We)}}let fe,Ne=null;const Ee=new X.OlP("TRANSITION_ID"),ae=[{provide:X.ip1,useFactory:function ie(Ye,We,Le){return()=>{Le.get(X.CZH).donePromise.then(()=>{const It=(0,u.q)(),Ut=We.querySelectorAll(`style[ng-transition="${Ye}"]`);for(let _n=0;_n<Ut.length;_n++)It.remove(Ut[_n])})}},deps:[Ee,u.K0,X.zs3],multi:!0}];let pe=(()=>{class Ye{build(){return new XMLHttpRequest}}return Ye.\u0275fac=function(Le){return new(Le||Ye)},Ye.\u0275prov=X.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();const He=new X.OlP("EventManagerPlugins");let Qe=(()=>{class Ye{constructor(Le,It){this._zone=It,this._eventNameToPlugin=new Map,Le.forEach(Ut=>Ut.manager=this),this._plugins=Le.slice().reverse()}addEventListener(Le,It,Ut){return this._findPluginFor(It).addEventListener(Le,It,Ut)}addGlobalEventListener(Le,It,Ut){return this._findPluginFor(It).addGlobalEventListener(Le,It,Ut)}getZone(){return this._zone}_findPluginFor(Le){const It=this._eventNameToPlugin.get(Le);if(It)return It;const Ut=this._plugins;for(let _n=0;_n<Ut.length;_n++){const Tn=Ut[_n];if(Tn.supports(Le))return this._eventNameToPlugin.set(Le,Tn),Tn}throw new Error(`No event manager plugin found for event ${Le}`)}}return Ye.\u0275fac=function(Le){return new(Le||Ye)(X.LFG(He),X.LFG(X.R0b))},Ye.\u0275prov=X.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();class Ve{constructor(We){this._doc=We}addGlobalEventListener(We,Le,It){const Ut=(0,u.q)().getGlobalEventTarget(this._doc,We);if(!Ut)throw new Error(`Unsupported event target ${Ut} for event ${Le}`);return this.addEventListener(Ut,Le,It)}}let ke=(()=>{class Ye{constructor(){this._stylesSet=new Set}addStyles(Le){const It=new Set;Le.forEach(Ut=>{this._stylesSet.has(Ut)||(this._stylesSet.add(Ut),It.add(Ut))}),this.onStylesAdded(It)}onStylesAdded(Le){}getAllStyles(){return Array.from(this._stylesSet)}}return Ye.\u0275fac=function(Le){return new(Le||Ye)},Ye.\u0275prov=X.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})(),ze=(()=>{class Ye extends ke{constructor(Le){super(),this._doc=Le,this._hostNodes=new Map,this._hostNodes.set(Le.head,[])}_addStylesToHost(Le,It,Ut){Le.forEach(_n=>{const Tn=this._doc.createElement("style");Tn.textContent=_n,Ut.push(It.appendChild(Tn))})}addHost(Le){const It=[];this._addStylesToHost(this._stylesSet,Le,It),this._hostNodes.set(Le,It)}removeHost(Le){const It=this._hostNodes.get(Le);It&&It.forEach(St),this._hostNodes.delete(Le)}onStylesAdded(Le){this._hostNodes.forEach((It,Ut)=>{this._addStylesToHost(Le,Ut,It)})}ngOnDestroy(){this._hostNodes.forEach(Le=>Le.forEach(St))}}return Ye.\u0275fac=function(Le){return new(Le||Ye)(X.LFG(u.K0))},Ye.\u0275prov=X.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();function St(Ye){(0,u.q)().remove(Ye)}const Se={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Dt=/%COMP%/g;function Ce(Ye,We,Le){for(let It=0;It<We.length;It++){let Ut=We[It];Array.isArray(Ut)?Ce(Ye,Ut,Le):(Ut=Ut.replace(Dt,Ye),Le.push(Ut))}return Le}function ce(Ye){return We=>{if("__ngUnwrap__"===We)return Ye;!1===Ye(We)&&(We.preventDefault(),We.returnValue=!1)}}let oe=(()=>{class Ye{constructor(Le,It,Ut){this.eventManager=Le,this.sharedStylesHost=It,this.appId=Ut,this.rendererByCompId=new Map,this.defaultRenderer=new Oe(Le)}createRenderer(Le,It){if(!Le||!It)return this.defaultRenderer;switch(It.encapsulation){case X.ifc.Emulated:{let Ut=this.rendererByCompId.get(It.id);return Ut||(Ut=new Re(this.eventManager,this.sharedStylesHost,It,this.appId),this.rendererByCompId.set(It.id,Ut)),Ut.applyToHost(Le),Ut}case 1:case X.ifc.ShadowDom:return new ye(this.eventManager,this.sharedStylesHost,Le,It);default:if(!this.rendererByCompId.has(It.id)){const Ut=Ce(It.id,It.styles,[]);this.sharedStylesHost.addStyles(Ut),this.rendererByCompId.set(It.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Ye.\u0275fac=function(Le){return new(Le||Ye)(X.LFG(Qe),X.LFG(ze),X.LFG(X.AFp))},Ye.\u0275prov=X.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();class Oe{constructor(We){this.eventManager=We,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(We,Le){return Le?document.createElementNS(Se[Le]||Le,We):document.createElement(We)}createComment(We){return document.createComment(We)}createText(We){return document.createTextNode(We)}appendChild(We,Le){(me(We)?We.content:We).appendChild(Le)}insertBefore(We,Le,It){We&&(me(We)?We.content:We).insertBefore(Le,It)}removeChild(We,Le){We&&We.removeChild(Le)}selectRootElement(We,Le){let It="string"==typeof We?document.querySelector(We):We;if(!It)throw new Error(`The selector "${We}" did not match any elements`);return Le||(It.textContent=""),It}parentNode(We){return We.parentNode}nextSibling(We){return We.nextSibling}setAttribute(We,Le,It,Ut){if(Ut){Le=Ut+":"+Le;const _n=Se[Ut];_n?We.setAttributeNS(_n,Le,It):We.setAttribute(Le,It)}else We.setAttribute(Le,It)}removeAttribute(We,Le,It){if(It){const Ut=Se[It];Ut?We.removeAttributeNS(Ut,Le):We.removeAttribute(`${It}:${Le}`)}else We.removeAttribute(Le)}addClass(We,Le){We.classList.add(Le)}removeClass(We,Le){We.classList.remove(Le)}setStyle(We,Le,It,Ut){Ut&(X.JOm.DashCase|X.JOm.Important)?We.style.setProperty(Le,It,Ut&X.JOm.Important?"important":""):We.style[Le]=It}removeStyle(We,Le,It){It&X.JOm.DashCase?We.style.removeProperty(Le):We.style[Le]=""}setProperty(We,Le,It){We[Le]=It}setValue(We,Le){We.nodeValue=Le}listen(We,Le,It){return"string"==typeof We?this.eventManager.addGlobalEventListener(We,Le,ce(It)):this.eventManager.addEventListener(We,Le,ce(It))}}function me(Ye){return"TEMPLATE"===Ye.tagName&&void 0!==Ye.content}class Re extends Oe{constructor(We,Le,It,Ut){super(We),this.component=It;const _n=Ce(Ut+"-"+It.id,It.styles,[]);Le.addStyles(_n),this.contentAttr=function Me(Ye){return"_ngcontent-%COMP%".replace(Dt,Ye)}(Ut+"-"+It.id),this.hostAttr=function Ge(Ye){return"_nghost-%COMP%".replace(Dt,Ye)}(Ut+"-"+It.id)}applyToHost(We){super.setAttribute(We,this.hostAttr,"")}createElement(We,Le){const It=super.createElement(We,Le);return super.setAttribute(It,this.contentAttr,""),It}}class ye extends Oe{constructor(We,Le,It,Ut){super(We),this.sharedStylesHost=Le,this.hostEl=It,this.shadowRoot=It.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const _n=Ce(Ut.id,Ut.styles,[]);for(let Tn=0;Tn<_n.length;Tn++){const Rn=document.createElement("style");Rn.textContent=_n[Tn],this.shadowRoot.appendChild(Rn)}}nodeOrShadowRoot(We){return We===this.hostEl?this.shadowRoot:We}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(We,Le){return super.appendChild(this.nodeOrShadowRoot(We),Le)}insertBefore(We,Le,It){return super.insertBefore(this.nodeOrShadowRoot(We),Le,It)}removeChild(We,Le){return super.removeChild(this.nodeOrShadowRoot(We),Le)}parentNode(We){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(We)))}}let Ie=(()=>{class Ye extends Ve{constructor(Le){super(Le)}supports(Le){return!0}addEventListener(Le,It,Ut){return Le.addEventListener(It,Ut,!1),()=>this.removeEventListener(Le,It,Ut)}removeEventListener(Le,It,Ut){return Le.removeEventListener(It,Ut)}}return Ye.\u0275fac=function(Le){return new(Le||Ye)(X.LFG(u.K0))},Ye.\u0275prov=X.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();const Ue=["alt","control","meta","shift"],qe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nt={alt:Ye=>Ye.altKey,control:Ye=>Ye.ctrlKey,meta:Ye=>Ye.metaKey,shift:Ye=>Ye.shiftKey};let Rt=(()=>{class Ye extends Ve{constructor(Le){super(Le)}supports(Le){return null!=Ye.parseEventName(Le)}addEventListener(Le,It,Ut){const _n=Ye.parseEventName(It),Tn=Ye.eventCallback(_n.fullKey,Ut,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,u.q)().onAndCancel(Le,_n.domEventName,Tn))}static parseEventName(Le){const It=Le.toLowerCase().split("."),Ut=It.shift();if(0===It.length||"keydown"!==Ut&&"keyup"!==Ut)return null;const _n=Ye._normalizeKey(It.pop());let Tn="",Rn=It.indexOf("code");if(Rn>-1&&(It.splice(Rn,1),Tn="code."),Ue.forEach(ci=>{const Gn=It.indexOf(ci);Gn>-1&&(It.splice(Gn,1),Tn+=ci+".")}),Tn+=_n,0!=It.length||0===_n.length)return null;const Cr={};return Cr.domEventName=Ut,Cr.fullKey=Tn,Cr}static matchEventFullKeyCode(Le,It){let Ut=qe[Le.key]||Le.key,_n="";return It.indexOf("code.")>-1&&(Ut=Le.code,_n="code."),!(null==Ut||!Ut)&&(Ut=Ut.toLowerCase()," "===Ut?Ut="space":"."===Ut&&(Ut="dot"),Ue.forEach(Tn=>{Tn!==Ut&&(0,nt[Tn])(Le)&&(_n+=Tn+".")}),_n+=Ut,_n===It)}static eventCallback(Le,It,Ut){return _n=>{Ye.matchEventFullKeyCode(_n,Le)&&Ut.runGuarded(()=>It(_n))}}static _normalizeKey(Le){return"esc"===Le?"escape":Le}}return Ye.\u0275fac=function(Le){return new(Le||Ye)(X.LFG(u.K0))},Ye.\u0275prov=X.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();const Mr=(0,X.eFA)(X._c5,"browser",[{provide:X.Lbi,useValue:u.bD},{provide:X.g9A,useValue:function Nn(){Be.makeCurrent()},multi:!0},{provide:u.K0,useFactory:function ri(){return(0,X.RDi)(document),document},deps:[]}]),yn=new X.OlP(""),sn=[{provide:X.rWj,useClass:class ne{addToWindow(We){X.dqk.getAngularTestability=(It,Ut=!0)=>{const _n=We.findTestabilityInTree(It,Ut);if(null==_n)throw new Error("Could not find testability for element.");return _n},X.dqk.getAllAngularTestabilities=()=>We.getAllTestabilities(),X.dqk.getAllAngularRootElements=()=>We.getAllRootElements(),X.dqk.frameworkStabilizers||(X.dqk.frameworkStabilizers=[]),X.dqk.frameworkStabilizers.push(It=>{const Ut=X.dqk.getAllAngularTestabilities();let _n=Ut.length,Tn=!1;const Rn=function(Cr){Tn=Tn||Cr,_n--,0==_n&&It(Tn)};Ut.forEach(function(Cr){Cr.whenStable(Rn)})})}findTestabilityInTree(We,Le,It){return null==Le?null:We.getTestability(Le)??(It?(0,u.q)().isShadowRoot(Le)?this.findTestabilityInTree(We,Le.host,!0):this.findTestabilityInTree(We,Le.parentElement,!0):null)}},deps:[]},{provide:X.lri,useClass:X.dDg,deps:[X.R0b,X.eoX,X.rWj]},{provide:X.dDg,useClass:X.dDg,deps:[X.R0b,X.eoX,X.rWj]}],zt=[{provide:X.zSh,useValue:"root"},{provide:X.qLn,useFactory:function sr(){return new X.qLn},deps:[]},{provide:He,useClass:Ie,multi:!0,deps:[u.K0,X.R0b,X.Lbi]},{provide:He,useClass:Rt,multi:!0,deps:[u.K0]},{provide:oe,useClass:oe,deps:[Qe,ze,X.AFp]},{provide:X.FYo,useExisting:oe},{provide:ke,useExisting:ze},{provide:ze,useClass:ze,deps:[u.K0]},{provide:Qe,useClass:Qe,deps:[He,X.R0b]},{provide:u.JF,useClass:pe,deps:[]},[]];let Ei=(()=>{class Ye{constructor(Le){}static withServerTransition(Le){return{ngModule:Ye,providers:[{provide:X.AFp,useValue:Le.appId},{provide:Ee,useExisting:X.AFp},ae]}}}return Ye.\u0275fac=function(Le){return new(Le||Ye)(X.LFG(yn,12))},Ye.\u0275mod=X.oAB({type:Ye}),Ye.\u0275inj=X.cJS({providers:[...zt,...sn],imports:[u.ez,X.hGG]}),Ye})(),Rr=(()=>{class Ye{constructor(Le){this._doc=Le}getTitle(){return this._doc.title}setTitle(Le){this._doc.title=Le||""}}return Ye.\u0275fac=function(Le){return new(Le||Ye)(X.LFG(u.K0))},Ye.\u0275prov=X.Yz7({token:Ye,factory:function(Le){let It=null;return It=Le?new Le:function Cn(){return new Rr((0,X.LFG)(u.K0))}(),It},providedIn:"root"}),Ye})();typeof window<"u"&&window},5181:(ln,pt,O)=>{"use strict";O.d(pt,{gz:()=>zi,y6:()=>Hr,OD:()=>on,eC:()=>Cn,wm:()=>qs,wN:()=>Wa,F0:()=>Di,rH:()=>oi,Bz:()=>_i,Hx:()=>hr});var u=O(4650),X=O(5254),W=O(1086),Be=O(591),Ne=O(4450),J=O(2866),fe=O(6688),ve=O(826),Ee=O(448),ie=O(3009);const ae={};function ne(...S){let A,I;return(0,J.K)(S[S.length-1])&&(I=S.pop()),"function"==typeof S[S.length-1]&&(A=S.pop()),1===S.length&&(0,fe.k)(S[0])&&(S=S[0]),(0,ie.n)(S,I).lift(new pe(A))}class pe{constructor(A){this.resultSelector=A}call(A,I){return I.subscribe(new He(A,this.resultSelector))}}class He extends ve.L{constructor(A,I){super(A),this.resultSelector=I,this.active=0,this.values=[],this.observables=[]}_next(A){this.values.push(ae),this.observables.push(A)}_complete(){const A=this.observables,I=A.length;if(0===I)this.destination.complete();else{this.active=I,this.toRespond=I;for(let F=0;F<I;F++)this.add((0,Ee.D)(this,A[F],void 0,F))}}notifyComplete(A){0==(this.active-=1)&&this.destination.complete()}notifyNext(A,I,F){const G=this.values,je=this.toRespond?G[F]===ae?--this.toRespond:this.toRespond:0;G[F]=I,0===je&&(this.resultSelector?this._tryResultSelector(G):this.destination.next(G.slice()))}_tryResultSelector(A){let I;try{I=this.resultSelector.apply(this,A)}catch(F){return void this.destination.error(F)}this.destination.next(I)}}var Qe=O(1221),Ve=O(6498),ke=O(8896);function ze(S){return new Ve.y(A=>{let I;try{I=S()}catch(G){return void A.error(G)}return(I?(0,X.D)(I):(0,ke.c)()).subscribe(A)})}var St=O(4843),Se=O(1737),Dt=O(1762),bt=O(8929),Mt=O(6895),rt=O(4850),_t=O(7545),Me=O(2986),Ge=O(1059),Ce=O(2198),ce=O(1709),xe=O(7224);function oe(S,A){return(0,ce.zg)(S,A,1)}var Oe=O(2868),re=O(1177);function be(S){return function(I){const F=new me(S),G=I.lift(F);return F.caught=G}}class me{constructor(A){this.selector=A}call(A,I){return I.subscribe(new Re(A,this.selector,this.caught))}}class Re extends re.Ds{constructor(A,I,F){super(A),this.selector=I,this.caught=F}error(A){if(!this.isStopped){let I;try{I=this.selector(A,this.caught)}catch(le){return void super.error(le)}this._unsubscribeAndRecycle();const F=new re.IY(this);this.add(F);const G=(0,re.ft)(I,F);G!==F&&this.add(G)}}}var ye=O(2014),Ie=O(3489),Ue=O(4231);function qe(S){return function(I){return 0===S?(0,ke.c)():I.lift(new nt(S))}}class nt{constructor(A){if(this.total=A,this.total<0)throw new Ue.W}call(A,I){return I.subscribe(new Rt(A,this.total))}}class Rt extends Ie.L{constructor(A,I){super(A),this.total=I,this.ring=new Array,this.count=0}_next(A){const I=this.ring,F=this.total,G=this.count++;I.length<F?I.push(A):I[G%F]=A}_complete(){const A=this.destination;let I=this.count;if(I>0){const F=this.count>=this.total?this.total:this.count,G=this.ring;for(let le=0;le<F;le++){const je=I++%F;A.next(G[je])}}A.complete()}}var gt=O(4907),Lt=O(7314),pn=O(5379);function wn(S,A){const I=arguments.length>=2;return F=>F.pipe(S?(0,Ce.h)((G,le)=>S(G,le,F)):pn.y,qe(1),I?(0,Lt.d)(A):(0,gt.T)(()=>new Ne.K))}class Nn{constructor(A,I){this.predicate=A,this.inclusive=I}call(A,I){return I.subscribe(new sr(A,this.predicate,this.inclusive))}}class sr extends Ie.L{constructor(A,I,F){super(A),this.predicate=I,this.inclusive=F,this.index=0}_next(A){const I=this.destination;let F;try{F=this.predicate(A,this.index++)}catch(G){return void I.error(G)}this.nextOrComplete(A,F)}nextOrComplete(A,I){const F=this.destination;Boolean(I)?F.next(A):(this.inclusive&&F.next(A),F.complete())}}class zr{constructor(A){this.value=A}call(A,I){return I.subscribe(new Mr(A,this.value))}}class Mr extends Ie.L{constructor(A,I){super(A),this.value=I}_next(A){this.destination.next(this.value)}}var yn=O(2654);function sn(S){return A=>A.lift(new zt(S))}class zt{constructor(A){this.callback=A}call(A,I){return I.subscribe(new Ei(A,this.callback))}}class Ei extends Ie.L{constructor(A,I){super(A),this.add(new yn.w(I))}}var Ln=O(4327),Tr=O(9146),Fr=O(1481);const Cn="primary",Rr=Symbol("RouteTitle");class Sr{constructor(A){this.params=A||{}}has(A){return Object.prototype.hasOwnProperty.call(this.params,A)}get(A){if(this.has(A)){const I=this.params[A];return Array.isArray(I)?I[0]:I}return null}getAll(A){if(this.has(A)){const I=this.params[A];return Array.isArray(I)?I:[I]}return[]}get keys(){return Object.keys(this.params)}}function En(S){return new Sr(S)}function In(S,A,I){const F=I.path.split("/");if(F.length>S.length||"full"===I.pathMatch&&(A.hasChildren()||F.length<S.length))return null;const G={};for(let le=0;le<F.length;le++){const je=F[le],Je=S[le];if(je.startsWith(":"))G[je.substring(1)]=Je;else if(je!==Je.path)return null}return{consumed:S.slice(0,F.length),posParams:G}}function Jn(S,A){const I=S?Object.keys(S):void 0,F=A?Object.keys(A):void 0;if(!I||!F||I.length!=F.length)return!1;let G;for(let le=0;le<I.length;le++)if(G=I[le],!Kn(S[G],A[G]))return!1;return!0}function Kn(S,A){if(Array.isArray(S)&&Array.isArray(A)){if(S.length!==A.length)return!1;const I=[...S].sort(),F=[...A].sort();return I.every((G,le)=>F[le]===G)}return S===A}function Ar(S){return Array.prototype.concat.apply([],S)}function $n(S){return S.length>0?S[S.length-1]:null}function Un(S,A){for(const I in S)S.hasOwnProperty(I)&&A(S[I],I)}function Xr(S){return(0,u.CqO)(S)?S:(0,u.QGY)(S)?(0,X.D)(Promise.resolve(S)):(0,W.of)(S)}const tt={exact:function Wt(S,A,I){if(!vr(S.segments,A.segments)||!zn(S.segments,A.segments,I)||S.numberOfChildren!==A.numberOfChildren)return!1;for(const F in A.children)if(!S.children[F]||!Wt(S.children[F],A.children[F],I))return!1;return!0},subset:gn},Ze={exact:function st(S,A){return Jn(S,A)},subset:function tn(S,A){return Object.keys(A).length<=Object.keys(S).length&&Object.keys(A).every(I=>Kn(S[I],A[I]))},ignored:()=>!0};function et(S,A,I){return tt[I.paths](S.root,A.root,I.matrixParams)&&Ze[I.queryParams](S.queryParams,A.queryParams)&&!("exact"===I.fragment&&S.fragment!==A.fragment)}function gn(S,A,I){return dr(S,A,A.segments,I)}function dr(S,A,I,F){if(S.segments.length>I.length){const G=S.segments.slice(0,I.length);return!(!vr(G,I)||A.hasChildren()||!zn(G,I,F))}if(S.segments.length===I.length){if(!vr(S.segments,I)||!zn(S.segments,I,F))return!1;for(const G in A.children)if(!S.children[G]||!gn(S.children[G],A.children[G],F))return!1;return!0}{const G=I.slice(0,S.segments.length),le=I.slice(S.segments.length);return!!(vr(S.segments,G)&&zn(S.segments,G,F)&&S.children[Cn])&&dr(S.children[Cn],A,le,F)}}function zn(S,A,I){return A.every((F,G)=>Ze[I](S[G].parameters,F.parameters))}class tr{constructor(A,I,F){this.root=A,this.queryParams=I,this.fragment=F}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=En(this.queryParams)),this._queryParamMap}toString(){return Ye.serialize(this)}}class cn{constructor(A,I){this.segments=A,this.children=I,this.parent=null,Un(I,(F,G)=>F.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return We(this)}}class jn{constructor(A,I){this.path=A,this.parameters=I}get parameterMap(){return this._parameterMap||(this._parameterMap=En(this.parameters)),this._parameterMap}toString(){return ci(this)}}function vr(S,A){return S.length===A.length&&S.every((I,F)=>I.path===A[F].path)}let hr=(()=>{class S{}return S.\u0275fac=function(I){return new(I||S)},S.\u0275prov=u.Yz7({token:S,factory:function(){return new ii},providedIn:"root"}),S})();class ii{parse(A){const I=new li(A);return new tr(I.parseRootSegment(),I.parseQueryParams(),I.parseFragment())}serialize(A){const I=`/${Le(A.root,!0)}`,F=function Jr(S){const A=Object.keys(S).map(I=>{const F=S[I];return Array.isArray(F)?F.map(G=>`${Ut(I)}=${Ut(G)}`).join("&"):`${Ut(I)}=${Ut(F)}`}).filter(I=>!!I);return A.length?`?${A.join("&")}`:""}(A.queryParams);return`${I}${F}${"string"==typeof A.fragment?`#${function _n(S){return encodeURI(S)}(A.fragment)}`:""}`}}const Ye=new ii;function We(S){return S.segments.map(A=>ci(A)).join("/")}function Le(S,A){if(!S.hasChildren())return We(S);if(A){const I=S.children[Cn]?Le(S.children[Cn],!1):"",F=[];return Un(S.children,(G,le)=>{le!==Cn&&F.push(`${le}:${Le(G,!1)}`)}),F.length>0?`${I}(${F.join("//")})`:I}{const I=function Dn(S,A){let I=[];return Un(S.children,(F,G)=>{G===Cn&&(I=I.concat(A(F,G)))}),Un(S.children,(F,G)=>{G!==Cn&&(I=I.concat(A(F,G)))}),I}(S,(F,G)=>G===Cn?[Le(S.children[Cn],!1)]:[`${G}:${Le(F,!1)}`]);return 1===Object.keys(S.children).length&&null!=S.children[Cn]?`${We(S)}/${I[0]}`:`${We(S)}/(${I.join("//")})`}}function It(S){return encodeURIComponent(S).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ut(S){return It(S).replace(/%3B/gi,";")}function Tn(S){return It(S).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rn(S){return decodeURIComponent(S)}function Cr(S){return Rn(S.replace(/\+/g,"%20"))}function ci(S){return`${Tn(S.path)}${function Gn(S){return Object.keys(S).map(A=>`;${Tn(A)}=${Tn(S[A])}`).join("")}(S.parameters)}`}const Yr=/^[^\/()?;=#]+/;function qi(S){const A=S.match(Yr);return A?A[0]:""}const ei=/^[^=?&#]+/,hs=/^[^&#]+/;class li{constructor(A){this.url=A,this.remaining=A}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new cn([],{}):new cn([],this.parseChildren())}parseQueryParams(){const A={};if(this.consumeOptional("?"))do{this.parseQueryParam(A)}while(this.consumeOptional("&"));return A}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const A=[];for(this.peekStartsWith("(")||A.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),A.push(this.parseSegment());let I={};this.peekStartsWith("/(")&&(this.capture("/"),I=this.parseParens(!0));let F={};return this.peekStartsWith("(")&&(F=this.parseParens(!1)),(A.length>0||Object.keys(I).length>0)&&(F[Cn]=new cn(A,I)),F}parseSegment(){const A=qi(this.remaining);if(""===A&&this.peekStartsWith(";"))throw new u.vHH(4009,!1);return this.capture(A),new jn(Rn(A),this.parseMatrixParams())}parseMatrixParams(){const A={};for(;this.consumeOptional(";");)this.parseParam(A);return A}parseParam(A){const I=qi(this.remaining);if(!I)return;this.capture(I);let F="";if(this.consumeOptional("=")){const G=qi(this.remaining);G&&(F=G,this.capture(F))}A[Rn(I)]=Rn(F)}parseQueryParam(A){const I=function mr(S){const A=S.match(ei);return A?A[0]:""}(this.remaining);if(!I)return;this.capture(I);let F="";if(this.consumeOptional("=")){const je=function Zi(S){const A=S.match(hs);return A?A[0]:""}(this.remaining);je&&(F=je,this.capture(F))}const G=Cr(I),le=Cr(F);if(A.hasOwnProperty(G)){let je=A[G];Array.isArray(je)||(je=[je],A[G]=je),je.push(le)}else A[G]=le}parseParens(A){const I={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const F=qi(this.remaining),G=this.remaining[F.length];if("/"!==G&&")"!==G&&";"!==G)throw new u.vHH(4010,!1);let le;F.indexOf(":")>-1?(le=F.slice(0,F.indexOf(":")),this.capture(le),this.capture(":")):A&&(le=Cn);const je=this.parseChildren();I[le]=1===Object.keys(je).length?je[Cn]:new cn([],je),this.consumeOptional("//")}return I}peekStartsWith(A){return this.remaining.startsWith(A)}consumeOptional(A){return!!this.peekStartsWith(A)&&(this.remaining=this.remaining.substring(A.length),!0)}capture(A){if(!this.consumeOptional(A))throw new u.vHH(4011,!1)}}function Pr(S){return S.segments.length>0?new cn([],{[Cn]:S}):S}function Ai(S){const A={};for(const F of Object.keys(S.children)){const le=Ai(S.children[F]);(le.segments.length>0||le.hasChildren())&&(A[F]=le)}return function Pn(S){if(1===S.numberOfChildren&&S.children[Cn]){const A=S.children[Cn];return new cn(S.segments.concat(A.segments),A.children)}return S}(new cn(S.segments,A))}function fi(S){return S instanceof tr}function xi(S,A,I,F,G){if(0===I.length)return lt(A.root,A.root,A.root,F,G);const le=function Ke(S){if("string"==typeof S[0]&&1===S.length&&"/"===S[0])return new Pe(!0,0,S);let A=0,I=!1;const F=S.reduce((G,le,je)=>{if("object"==typeof le&&null!=le){if(le.outlets){const Je={};return Un(le.outlets,(Ht,P)=>{Je[P]="string"==typeof Ht?Ht.split("/"):Ht}),[...G,{outlets:Je}]}if(le.segmentPath)return[...G,le.segmentPath]}return"string"!=typeof le?[...G,le]:0===je?(le.split("/").forEach((Je,Ht)=>{0==Ht&&"."===Je||(0==Ht&&""===Je?I=!0:".."===Je?A++:""!=Je&&G.push(Je))}),G):[...G,le]},[]);return new Pe(I,A,F)}(I);return le.toRoot()?lt(A.root,A.root,new cn([],{}),F,G):function je(Ht){const P=function Ot(S,A,I,F){if(S.isAbsolute)return new mt(A.root,!0,0);if(-1===F)return new mt(I,I===A.root,0);return function Yt(S,A,I){let F=S,G=A,le=I;for(;le>G;){if(le-=G,F=F.parent,!F)throw new u.vHH(4005,!1);G=F.segments.length}return new mt(F,!1,G-le)}(I,F+(ue(S.commands[0])?0:1),S.numberOfDoubleDots)}(le,A,S.snapshot?._urlSegment,Ht),j=P.processChildren?Hn(P.segmentGroup,P.index,le.commands):Bn(P.segmentGroup,P.index,le.commands);return lt(A.root,P.segmentGroup,j,F,G)}(S.snapshot?._lastPathIndex)}function ue(S){return"object"==typeof S&&null!=S&&!S.outlets&&!S.segmentPath}function De(S){return"object"==typeof S&&null!=S&&S.outlets}function lt(S,A,I,F,G){let je,le={};F&&Un(F,(Ht,P)=>{le[P]=Array.isArray(Ht)?Ht.map(j=>`${j}`):`${Ht}`}),je=S===A?I:ut(S,A,I);const Je=Pr(Ai(je));return new tr(Je,le,G)}function ut(S,A,I){const F={};return Un(S.children,(G,le)=>{F[le]=G===A?I:ut(G,A,I)}),new cn(S.segments,F)}class Pe{constructor(A,I,F){if(this.isAbsolute=A,this.numberOfDoubleDots=I,this.commands=F,A&&F.length>0&&ue(F[0]))throw new u.vHH(4003,!1);const G=F.find(De);if(G&&G!==$n(F))throw new u.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class mt{constructor(A,I,F){this.segmentGroup=A,this.processChildren=I,this.index=F}}function Bn(S,A,I){if(S||(S=new cn([],{})),0===S.segments.length&&S.hasChildren())return Hn(S,A,I);const F=function Or(S,A,I){let F=0,G=A;const le={match:!1,pathIndex:0,commandIndex:0};for(;G<S.segments.length;){if(F>=I.length)return le;const je=S.segments[G],Je=I[F];if(De(Je))break;const Ht=`${Je}`,P=F<I.length-1?I[F+1]:null;if(G>0&&void 0===Ht)break;if(Ht&&P&&"object"==typeof P&&void 0===P.outlets){if(!yt(Ht,P,je))return le;F+=2}else{if(!yt(Ht,{},je))return le;F++}G++}return{match:!0,pathIndex:G,commandIndex:F}}(S,A,I),G=I.slice(F.commandIndex);if(F.match&&F.pathIndex<S.segments.length){const le=new cn(S.segments.slice(0,F.pathIndex),{});return le.children[Cn]=new cn(S.segments.slice(F.pathIndex),S.children),Hn(le,0,G)}return F.match&&0===G.length?new cn(S.segments,{}):F.match&&!S.hasChildren()?Zn(S,A,I):F.match?Hn(S,0,G):Zn(S,A,I)}function Hn(S,A,I){if(0===I.length)return new cn(S.segments,{});{const F=function hn(S){return De(S[0])?S[0].outlets:{[Cn]:S}}(I),G={};return Un(F,(le,je)=>{"string"==typeof le&&(le=[le]),null!==le&&(G[je]=Bn(S.children[je],A,le))}),Un(S.children,(le,je)=>{void 0===F[je]&&(G[je]=le)}),new cn(S.segments,G)}}function Zn(S,A,I){const F=S.segments.slice(0,A);let G=0;for(;G<I.length;){const le=I[G];if(De(le)){const Ht=ct(le.outlets);return new cn(F,Ht)}if(0===G&&ue(I[0])){F.push(new jn(S.segments[A].path,at(I[0]))),G++;continue}const je=De(le)?le.outlets[Cn]:`${le}`,Je=G<I.length-1?I[G+1]:null;je&&Je&&ue(Je)?(F.push(new jn(je,at(Je))),G+=2):(F.push(new jn(je,{})),G++)}return new cn(F,{})}function ct(S){const A={};return Un(S,(I,F)=>{"string"==typeof I&&(I=[I]),null!==I&&(A[F]=Zn(new cn([],{}),0,I))}),A}function at(S){const A={};return Un(S,(I,F)=>A[F]=`${I}`),A}function yt(S,A,I){return S==I.path&&Jn(A,I.parameters)}class jt{constructor(A,I){this.id=A,this.url=I}}class on extends jt{constructor(A,I,F="imperative",G=null){super(A,I),this.type=0,this.navigationTrigger=F,this.restoredState=G}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class mn extends jt{constructor(A,I,F){super(A,I),this.urlAfterRedirects=F,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class kn extends jt{constructor(A,I,F,G){super(A,I),this.reason=F,this.code=G,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ii extends jt{constructor(A,I,F,G){super(A,I),this.error=F,this.target=G,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Dr extends jt{constructor(A,I,F,G){super(A,I),this.urlAfterRedirects=F,this.state=G,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ys extends jt{constructor(A,I,F,G){super(A,I),this.urlAfterRedirects=F,this.state=G,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ji extends jt{constructor(A,I,F,G,le){super(A,I),this.urlAfterRedirects=F,this.state=G,this.shouldActivate=le,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Gi extends jt{constructor(A,I,F,G){super(A,I),this.urlAfterRedirects=F,this.state=G,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bi extends jt{constructor(A,I,F,G){super(A,I),this.urlAfterRedirects=F,this.state=G,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class As{constructor(A){this.route=A,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class go{constructor(A){this.route=A,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Bs{constructor(A){this.snapshot=A,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bo{constructor(A){this.snapshot=A,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kr{constructor(A){this.snapshot=A,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xs{constructor(A){this.snapshot=A,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fs{constructor(A,I,F){this.routerEvent=A,this.position=I,this.anchor=F,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class mo{constructor(A){this._root=A}get root(){return this._root.value}parent(A){const I=this.pathFromRoot(A);return I.length>1?I[I.length-2]:null}children(A){const I=Ms(A,this._root);return I?I.children.map(F=>F.value):[]}firstChild(A){const I=Ms(A,this._root);return I&&I.children.length>0?I.children[0].value:null}siblings(A){const I=Rs(A,this._root);return I.length<2?[]:I[I.length-2].children.map(G=>G.value).filter(G=>G!==A)}pathFromRoot(A){return Rs(A,this._root).map(I=>I.value)}}function Ms(S,A){if(S===A.value)return A;for(const I of A.children){const F=Ms(S,I);if(F)return F}return null}function Rs(S,A){if(S===A.value)return[A];for(const I of A.children){const F=Rs(S,I);if(F.length)return F.unshift(A),F}return[]}class Mi{constructor(A,I){this.value=A,this.children=I}toString(){return`TreeNode(${this.value})`}}function Qi(S){const A={};return S&&S.children.forEach(I=>A[I.value.outlet]=I),A}class ui extends mo{constructor(A,I){super(A),this.snapshot=I,Ur(this,A)}toString(){return this.snapshot.toString()}}function rs(S,A){const I=function Fi(S,A){const je=new Ws([],{},{},"",{},Cn,A,null,S.root,-1,{});return new Qs("",new Mi(je,[]))}(S,A),F=new Be.X([new jn("",{})]),G=new Be.X({}),le=new Be.X({}),je=new Be.X({}),Je=new Be.X(""),Ht=new zi(F,G,je,Je,le,Cn,A,I.root);return Ht.snapshot=I.root,new ui(new Mi(Ht,[]),I)}class zi{constructor(A,I,F,G,le,je,Je,Ht){this.url=A,this.params=I,this.queryParams=F,this.fragment=G,this.data=le,this.outlet=je,this.component=Je,this.title=this.data?.pipe((0,rt.U)(P=>P[Rr]))??(0,W.of)(void 0),this._futureSnapshot=Ht}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,rt.U)(A=>En(A)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,rt.U)(A=>En(A)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ra(S,A="emptyOnly"){const I=S.pathFromRoot;let F=0;if("always"!==A)for(F=I.length-1;F>=1;){const G=I[F],le=I[F-1];if(G.routeConfig&&""===G.routeConfig.path)F--;else{if(le.component)break;F--}}return function Li(S){return S.reduce((A,I)=>({params:{...A.params,...I.params},data:{...A.data,...I.data},resolve:{...I.data,...A.resolve,...I.routeConfig?.data,...I._resolvedData}}),{params:{},data:{},resolve:{}})}(I.slice(F))}class Ws{constructor(A,I,F,G,le,je,Je,Ht,P,j,te,Ae){this.url=A,this.params=I,this.queryParams=F,this.fragment=G,this.data=le,this.outlet=je,this.component=Je,this.title=this.data?.[Rr],this.routeConfig=Ht,this._urlSegment=P,this._lastPathIndex=j,this._correctedLastPathIndex=Ae??j,this._resolve=te}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=En(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=En(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(F=>F.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Qs extends mo{constructor(A,I){super(I),this.url=A,Ur(this,I)}toString(){return Ys(this._root)}}function Ur(S,A){A.value._routerState=S,A.children.forEach(I=>Ur(S,I))}function Ys(S){const A=S.children.length>0?` { ${S.children.map(Ys).join(", ")} } `:"";return`${S.value}${A}`}function ps(S){if(S.snapshot){const A=S.snapshot,I=S._futureSnapshot;S.snapshot=I,Jn(A.queryParams,I.queryParams)||S.queryParams.next(I.queryParams),A.fragment!==I.fragment&&S.fragment.next(I.fragment),Jn(A.params,I.params)||S.params.next(I.params),function br(S,A){if(S.length!==A.length)return!1;for(let I=0;I<S.length;++I)if(!Jn(S[I],A[I]))return!1;return!0}(A.url,I.url)||S.url.next(I.url),Jn(A.data,I.data)||S.data.next(I.data)}else S.snapshot=S._futureSnapshot,S.data.next(S._futureSnapshot.data)}function Xi(S,A){const I=Jn(S.params,A.params)&&function Wr(S,A){return vr(S,A)&&S.every((I,F)=>Jn(I.parameters,A[F].parameters))}(S.url,A.url);return I&&!(!S.parent!=!A.parent)&&(!S.parent||Xi(S.parent,A.parent))}function Ps(S,A,I){if(I&&S.shouldReuseRoute(A.value,I.value.snapshot)){const F=I.value;F._futureSnapshot=A.value;const G=function vs(S,A,I){return A.children.map(F=>{for(const G of I.children)if(S.shouldReuseRoute(F.value,G.value.snapshot))return Ps(S,F,G);return Ps(S,F)})}(S,A,I);return new Mi(F,G)}{if(S.shouldAttach(A.value)){const le=S.retrieve(A.value);if(null!==le){const je=le.route;return je.value._futureSnapshot=A.value,je.children=A.children.map(Je=>Ps(S,Je)),je}}const F=function gs(S){return new zi(new Be.X(S.url),new Be.X(S.params),new Be.X(S.queryParams),new Be.X(S.fragment),new Be.X(S.data),S.outlet,S.component,S)}(A.value),G=A.children.map(le=>Ps(S,le));return new Mi(F,G)}}const Nr="ngNavigationCancelingError";function ss(S,A){const{redirectTo:I,navigationBehaviorOptions:F}=fi(A)?{redirectTo:A,navigationBehaviorOptions:void 0}:A,G=Xs(!1,0,A);return G.url=I,G.navigationBehaviorOptions=F,G}function Xs(S,A,I){const F=new Error("NavigationCancelingError: "+(S||""));return F[Nr]=!0,F.cancellationCode=A,I&&(F.url=I),F}function Vo(S){return Os(S)&&fi(S.url)}function Os(S){return S&&S[Nr]}class $o{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Hr,this.attachRef=null}}let Hr=(()=>{class S{constructor(){this.contexts=new Map}onChildOutletCreated(I,F){const G=this.getOrCreateContext(I);G.outlet=F,this.contexts.set(I,G)}onChildOutletDestroyed(I){const F=this.getContext(I);F&&(F.outlet=null,F.attachRef=null)}onOutletDeactivated(){const I=this.contexts;return this.contexts=new Map,I}onOutletReAttached(I){this.contexts=I}getOrCreateContext(I){let F=this.getContext(I);return F||(F=new $o,this.contexts.set(I,F)),F}getContext(I){return this.contexts.get(I)||null}}return S.\u0275fac=function(I){return new(I||S)},S.\u0275prov=u.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();const Vn=!1;let yo=(()=>{class S{constructor(I,F,G,le,je){this.parentContexts=I,this.location=F,this.changeDetector=le,this.environmentInjector=je,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=G||Cn,I.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const I=this.parentContexts.getContext(this.name);I&&I.route&&(I.attachRef?this.attach(I.attachRef,I.route):this.activateWith(I.route,I.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,Vn);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,Vn);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,Vn);this.location.detach();const I=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(I.instance),I}attach(I,F){this.activated=I,this._activatedRoute=F,this.location.insert(I.hostView),this.attachEvents.emit(I.instance)}deactivate(){if(this.activated){const I=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(I)}}activateWith(I,F){if(this.isActivated)throw new u.vHH(4013,Vn);this._activatedRoute=I;const G=this.location,je=I._futureSnapshot.component,Je=this.parentContexts.getOrCreateContext(this.name).children,Ht=new Sa(I,Je,G.injector);if(F&&function vo(S){return!!S.resolveComponentFactory}(F)){const P=F.resolveComponentFactory(je);this.activated=G.createComponent(P,G.length,Ht)}else this.activated=G.createComponent(je,{index:G.length,injector:Ht,environmentInjector:F??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return S.\u0275fac=function(I){return new(I||S)(u.Y36(Hr),u.Y36(u.s_b),u.$8M("name"),u.Y36(u.sBO),u.Y36(u.lqb))},S.\u0275dir=u.lG2({type:S,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),S})();class Sa{constructor(A,I,F){this.route=A,this.childContexts=I,this.parent=F}get(A,I){return A===zi?this.route:A===Hr?this.childContexts:this.parent.get(A,I)}}let Js=(()=>{class S{}return S.\u0275fac=function(I){return new(I||S)},S.\u0275cmp=u.Xpm({type:S,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(I,F){1&I&&u._UZ(0,"router-outlet")},dependencies:[yo],encapsulation:2}),S})();function pa(S,A){return S.providers&&!S._injector&&(S._injector=(0,u.MMx)(S.providers,A,`Route: ${S.path}`)),S._injector??A}function E(S){const A=S.children&&S.children.map(E),I=A?{...S,children:A}:{...S};return!I.component&&!I.loadComponent&&(A||I.loadChildren)&&I.outlet&&I.outlet!==Cn&&(I.component=Js),I}function H(S){return S.outlet||Cn}function _e(S,A){const I=S.filter(F=>H(F)===A);return I.push(...S.filter(F=>H(F)!==A)),I}function Nt(S){if(!S)return null;if(S.routeConfig?._injector)return S.routeConfig._injector;for(let A=S.parent;A;A=A.parent){const I=A.routeConfig;if(I?._loadedInjector)return I._loadedInjector;if(I?._injector)return I._injector}return null}class V{constructor(A,I,F,G){this.routeReuseStrategy=A,this.futureState=I,this.currState=F,this.forwardEvent=G}activate(A){const I=this.futureState._root,F=this.currState?this.currState._root:null;this.deactivateChildRoutes(I,F,A),ps(this.futureState.root),this.activateChildRoutes(I,F,A)}deactivateChildRoutes(A,I,F){const G=Qi(I);A.children.forEach(le=>{const je=le.value.outlet;this.deactivateRoutes(le,G[je],F),delete G[je]}),Un(G,(le,je)=>{this.deactivateRouteAndItsChildren(le,F)})}deactivateRoutes(A,I,F){const G=A.value,le=I?I.value:null;if(G===le)if(G.component){const je=F.getContext(G.outlet);je&&this.deactivateChildRoutes(A,I,je.children)}else this.deactivateChildRoutes(A,I,F);else le&&this.deactivateRouteAndItsChildren(I,F)}deactivateRouteAndItsChildren(A,I){A.value.component&&this.routeReuseStrategy.shouldDetach(A.value.snapshot)?this.detachAndStoreRouteSubtree(A,I):this.deactivateRouteAndOutlet(A,I)}detachAndStoreRouteSubtree(A,I){const F=I.getContext(A.value.outlet),G=F&&A.value.component?F.children:I,le=Qi(A);for(const je of Object.keys(le))this.deactivateRouteAndItsChildren(le[je],G);if(F&&F.outlet){const je=F.outlet.detach(),Je=F.children.onOutletDeactivated();this.routeReuseStrategy.store(A.value.snapshot,{componentRef:je,route:A,contexts:Je})}}deactivateRouteAndOutlet(A,I){const F=I.getContext(A.value.outlet),G=F&&A.value.component?F.children:I,le=Qi(A);for(const je of Object.keys(le))this.deactivateRouteAndItsChildren(le[je],G);F&&F.outlet&&(F.outlet.deactivate(),F.children.onOutletDeactivated(),F.attachRef=null,F.resolver=null,F.route=null)}activateChildRoutes(A,I,F){const G=Qi(I);A.children.forEach(le=>{this.activateRoutes(le,G[le.value.outlet],F),this.forwardEvent(new xs(le.value.snapshot))}),A.children.length&&this.forwardEvent(new Bo(A.value.snapshot))}activateRoutes(A,I,F){const G=A.value,le=I?I.value:null;if(ps(G),G===le)if(G.component){const je=F.getOrCreateContext(G.outlet);this.activateChildRoutes(A,I,je.children)}else this.activateChildRoutes(A,I,F);else if(G.component){const je=F.getOrCreateContext(G.outlet);if(this.routeReuseStrategy.shouldAttach(G.snapshot)){const Je=this.routeReuseStrategy.retrieve(G.snapshot);this.routeReuseStrategy.store(G.snapshot,null),je.children.onOutletReAttached(Je.contexts),je.attachRef=Je.componentRef,je.route=Je.route.value,je.outlet&&je.outlet.attach(Je.componentRef,Je.route.value),ps(Je.route.value),this.activateChildRoutes(A,null,je.children)}else{const Je=Nt(G.snapshot),Ht=Je?.get(u._Vd)??null;je.attachRef=null,je.route=G,je.resolver=Ht,je.injector=Je,je.outlet&&je.outlet.activateWith(G,je.injector),this.activateChildRoutes(A,null,je.children)}}else this.activateChildRoutes(A,null,F)}}class N{constructor(A){this.path=A,this.route=this.path[this.path.length-1]}}class se{constructor(A,I){this.component=A,this.route=I}}function Ct(S,A,I){const F=S._root;return qr(F,A?A._root:null,I,[F.value])}function Wn(S,A){const I=Symbol(),F=A.get(S,I);return F===I?"function"!=typeof S||(0,u.Z0I)(S)?A.get(S):S:F}function qr(S,A,I,F,G={canDeactivateChecks:[],canActivateChecks:[]}){const le=Qi(A);return S.children.forEach(je=>{(function vi(S,A,I,F,G={canDeactivateChecks:[],canActivateChecks:[]}){const le=S.value,je=A?A.value:null,Je=I?I.getContext(S.value.outlet):null;if(je&&le.routeConfig===je.routeConfig){const Ht=function wr(S,A,I){if("function"==typeof I)return I(S,A);switch(I){case"pathParamsChange":return!vr(S.url,A.url);case"pathParamsOrQueryParamsChange":return!vr(S.url,A.url)||!Jn(S.queryParams,A.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Xi(S,A)||!Jn(S.queryParams,A.queryParams);default:return!Xi(S,A)}}(je,le,le.routeConfig.runGuardsAndResolvers);Ht?G.canActivateChecks.push(new N(F)):(le.data=je.data,le._resolvedData=je._resolvedData),qr(S,A,le.component?Je?Je.children:null:I,F,G),Ht&&Je&&Je.outlet&&Je.outlet.isActivated&&G.canDeactivateChecks.push(new se(Je.outlet.component,je))}else je&&os(A,Je,G),G.canActivateChecks.push(new N(F)),qr(S,null,le.component?Je?Je.children:null:I,F,G)})(je,le[je.value.outlet],I,F.concat([je.value]),G),delete le[je.value.outlet]}),Un(le,(je,Je)=>os(je,I.getContext(Je),G)),G}function os(S,A,I){const F=Qi(S),G=S.value;Un(F,(le,je)=>{os(le,G.component?A?A.children.getContext(je):null:A,I)}),I.canDeactivateChecks.push(new se(G.component&&A&&A.outlet&&A.outlet.isActivated?A.outlet.component:null,G))}function _o(S){return"function"==typeof S}function sa(S){return S instanceof Ne.K||"EmptyError"===S?.name}const oa=Symbol("INITIAL_VALUE");function xo(){return(0,_t.w)(S=>ne(S.map(A=>A.pipe((0,Me.q)(1),(0,Ge.O)(oa)))).pipe((0,rt.U)(A=>{for(const I of A)if(!0!==I){if(I===oa)return oa;if(!1===I||I instanceof tr)return I}return!0}),(0,Ce.h)(A=>A!==oa),(0,Me.q)(1)))}function xr(S){return(0,St.z)((0,Oe.b)(A=>{if(fi(A))throw ss(0,A)}),(0,rt.U)(A=>!0===A))}const jr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $r(S,A,I,F,G){const le=Ri(S,A,I);return le.matched?function Qn(S,A,I,F){const G=A.canMatch;if(!G||0===G.length)return(0,W.of)(!0);const le=G.map(je=>{const Je=Wn(je,S);return Xr(function ia(S){return S&&_o(S.canMatch)}(Je)?Je.canMatch(A,I):S.runInContext(()=>Je(A,I)))});return(0,W.of)(le).pipe(xo(),xr())}(F=pa(A,F),A,I).pipe((0,rt.U)(je=>!0===je?le:{...jr})):(0,W.of)(le)}function Ri(S,A,I){if(""===A.path)return"full"===A.pathMatch&&(S.hasChildren()||I.length>0)?{...jr}:{matched:!0,consumedSegments:[],remainingSegments:I,parameters:{},positionalParamSegments:{}};const G=(A.matcher||In)(I,S,A);if(!G)return{...jr};const le={};Un(G.posParams,(Je,Ht)=>{le[Ht]=Je.path});const je=G.consumed.length>0?{...le,...G.consumed[G.consumed.length-1].parameters}:le;return{matched:!0,consumedSegments:G.consumed,remainingSegments:I.slice(G.consumed.length),parameters:je,positionalParamSegments:G.posParams??{}}}function ni(S,A,I,F,G="corrected"){if(I.length>0&&function ai(S,A,I){return I.some(F=>to(S,A,F)&&H(F)!==Cn)}(S,I,F)){const je=new cn(A,function fr(S,A,I,F){const G={};G[Cn]=F,F._sourceSegment=S,F._segmentIndexShift=A.length;for(const le of I)if(""===le.path&&H(le)!==Cn){const je=new cn([],{});je._sourceSegment=S,je._segmentIndexShift=A.length,G[H(le)]=je}return G}(S,A,F,new cn(I,S.children)));return je._sourceSegment=S,je._segmentIndexShift=A.length,{segmentGroup:je,slicedSegments:[]}}if(0===I.length&&function wo(S,A,I){return I.some(F=>to(S,A,F))}(S,I,F)){const je=new cn(S.segments,function gr(S,A,I,F,G,le){const je={};for(const Je of F)if(to(S,I,Je)&&!G[H(Je)]){const Ht=new cn([],{});Ht._sourceSegment=S,Ht._segmentIndexShift="legacy"===le?S.segments.length:A.length,je[H(Je)]=Ht}return{...G,...je}}(S,A,I,F,S.children,G));return je._sourceSegment=S,je._segmentIndexShift=A.length,{segmentGroup:je,slicedSegments:I}}const le=new cn(S.segments,S.children);return le._sourceSegment=S,le._segmentIndexShift=A.length,{segmentGroup:le,slicedSegments:I}}function to(S,A,I){return(!(S.hasChildren()||A.length>0)||"full"!==I.pathMatch)&&""===I.path}function Bi(S,A,I,F){return!!(H(S)===F||F!==Cn&&to(A,I,S))&&("**"===S.path||Ri(A,S,I).matched)}function Eo(S,A,I){return 0===A.length&&!S.children[I]}const Ks=!1;class _s{constructor(A){this.segmentGroup=A||null}}class Wi{constructor(A){this.urlTree=A}}function no(S){return(0,Se._)(new _s(S))}function ga(S){return(0,Se._)(new Wi(S))}class ic{constructor(A,I,F,G,le){this.injector=A,this.configLoader=I,this.urlSerializer=F,this.urlTree=G,this.config=le,this.allowRedirects=!0}apply(){const A=ni(this.urlTree.root,[],[],this.config).segmentGroup,I=new cn(A.segments,A.children);return this.expandSegmentGroup(this.injector,this.config,I,Cn).pipe((0,rt.U)(le=>this.createUrlTree(Ai(le),this.urlTree.queryParams,this.urlTree.fragment))).pipe(be(le=>{if(le instanceof Wi)return this.allowRedirects=!1,this.match(le.urlTree);throw le instanceof _s?this.noMatchError(le):le}))}match(A){return this.expandSegmentGroup(this.injector,this.config,A.root,Cn).pipe((0,rt.U)(G=>this.createUrlTree(Ai(G),A.queryParams,A.fragment))).pipe(be(G=>{throw G instanceof _s?this.noMatchError(G):G}))}noMatchError(A){return new u.vHH(4002,Ks)}createUrlTree(A,I,F){const G=Pr(A);return new tr(G,I,F)}expandSegmentGroup(A,I,F,G){return 0===F.segments.length&&F.hasChildren()?this.expandChildren(A,I,F).pipe((0,rt.U)(le=>new cn([],le))):this.expandSegment(A,F,I,F.segments,G,!0)}expandChildren(A,I,F){const G=[];for(const le of Object.keys(F.children))"primary"===le?G.unshift(le):G.push(le);return(0,X.D)(G).pipe(oe(le=>{const je=F.children[le],Je=_e(I,le);return this.expandSegmentGroup(A,Je,je,le).pipe((0,rt.U)(Ht=>({segment:Ht,outlet:le})))}),(0,ye.R)((le,je)=>(le[je.outlet]=je.segment,le),{}),wn())}expandSegment(A,I,F,G,le,je){return(0,X.D)(F).pipe(oe(Je=>this.expandSegmentAgainstRoute(A,I,F,Je,G,le,je).pipe(be(P=>{if(P instanceof _s)return(0,W.of)(null);throw P}))),(0,xe.P)(Je=>!!Je),be((Je,Ht)=>{if(sa(Je))return Eo(I,G,le)?(0,W.of)(new cn([],{})):no(I);throw Je}))}expandSegmentAgainstRoute(A,I,F,G,le,je,Je){return Bi(G,I,le,je)?void 0===G.redirectTo?this.matchSegmentAgainstRoute(A,I,G,le,je):Je&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(A,I,F,G,le,je):no(I):no(I)}expandSegmentAgainstRouteUsingRedirect(A,I,F,G,le,je){return"**"===G.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(A,F,G,je):this.expandRegularSegmentAgainstRouteUsingRedirect(A,I,F,G,le,je)}expandWildCardWithParamsAgainstRouteUsingRedirect(A,I,F,G){const le=this.applyRedirectCommands([],F.redirectTo,{});return F.redirectTo.startsWith("/")?ga(le):this.lineralizeSegments(F,le).pipe((0,ce.zg)(je=>{const Je=new cn(je,{});return this.expandSegment(A,Je,I,je,G,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(A,I,F,G,le,je){const{matched:Je,consumedSegments:Ht,remainingSegments:P,positionalParamSegments:j}=Ri(I,G,le);if(!Je)return no(I);const te=this.applyRedirectCommands(Ht,G.redirectTo,j);return G.redirectTo.startsWith("/")?ga(te):this.lineralizeSegments(G,te).pipe((0,ce.zg)(Ae=>this.expandSegment(A,I,F,Ae.concat(P),je,!1)))}matchSegmentAgainstRoute(A,I,F,G,le){return"**"===F.path?(A=pa(F,A),F.loadChildren?(F._loadedRoutes?(0,W.of)({routes:F._loadedRoutes,injector:F._loadedInjector}):this.configLoader.loadChildren(A,F)).pipe((0,rt.U)(Je=>(F._loadedRoutes=Je.routes,F._loadedInjector=Je.injector,new cn(G,{})))):(0,W.of)(new cn(G,{}))):$r(I,F,G,A).pipe((0,_t.w)(({matched:je,consumedSegments:Je,remainingSegments:Ht})=>je?this.getChildConfig(A=F._injector??A,F,G).pipe((0,ce.zg)(j=>{const te=j.injector??A,Ae=j.routes,{segmentGroup:ht,slicedSegments:xt}=ni(I,Je,Ht,Ae),$t=new cn(ht.segments,ht.children);if(0===xt.length&&$t.hasChildren())return this.expandChildren(te,Ae,$t).pipe((0,rt.U)(kr=>new cn(Je,kr)));if(0===Ae.length&&0===xt.length)return(0,W.of)(new cn(Je,{}));const nn=H(F)===le;return this.expandSegment(te,$t,Ae,xt,nn?Cn:le,!0).pipe((0,rt.U)(ar=>new cn(Je.concat(ar.segments),ar.children)))})):no(I)))}getChildConfig(A,I,F){return I.children?(0,W.of)({routes:I.children,injector:A}):I.loadChildren?void 0!==I._loadedRoutes?(0,W.of)({routes:I._loadedRoutes,injector:I._loadedInjector}):function Jt(S,A,I,F){const G=A.canLoad;if(void 0===G||0===G.length)return(0,W.of)(!0);const le=G.map(je=>{const Je=Wn(je,S);return Xr(function Ua(S){return S&&_o(S.canLoad)}(Je)?Je.canLoad(A,I):S.runInContext(()=>Je(A,I)))});return(0,W.of)(le).pipe(xo(),xr())}(A,I,F).pipe((0,ce.zg)(G=>G?this.configLoader.loadChildren(A,I).pipe((0,Oe.b)(le=>{I._loadedRoutes=le.routes,I._loadedInjector=le.injector})):function iu(S){return(0,Se._)(Xs(Ks,3))}())):(0,W.of)({routes:[],injector:A})}lineralizeSegments(A,I){let F=[],G=I.root;for(;;){if(F=F.concat(G.segments),0===G.numberOfChildren)return(0,W.of)(F);if(G.numberOfChildren>1||!G.children[Cn])return(0,Se._)(new u.vHH(4e3,Ks));G=G.children[Cn]}}applyRedirectCommands(A,I,F){return this.applyRedirectCreateUrlTree(I,this.urlSerializer.parse(I),A,F)}applyRedirectCreateUrlTree(A,I,F,G){const le=this.createSegmentGroup(A,I.root,F,G);return new tr(le,this.createQueryParams(I.queryParams,this.urlTree.queryParams),I.fragment)}createQueryParams(A,I){const F={};return Un(A,(G,le)=>{if("string"==typeof G&&G.startsWith(":")){const Je=G.substring(1);F[le]=I[Je]}else F[le]=G}),F}createSegmentGroup(A,I,F,G){const le=this.createSegments(A,I.segments,F,G);let je={};return Un(I.children,(Je,Ht)=>{je[Ht]=this.createSegmentGroup(A,Je,F,G)}),new cn(le,je)}createSegments(A,I,F,G){return I.map(le=>le.path.startsWith(":")?this.findPosParam(A,le,G):this.findOrReturn(le,F))}findPosParam(A,I,F){const G=F[I.path.substring(1)];if(!G)throw new u.vHH(4001,Ks);return G}findOrReturn(A,I){let F=0;for(const G of I){if(G.path===A.path)return I.splice(F),G;F++}return A}}class Fl{}class as{constructor(A,I,F,G,le,je,Je,Ht){this.injector=A,this.rootComponentType=I,this.config=F,this.urlTree=G,this.url=le,this.paramsInheritanceStrategy=je,this.relativeLinkResolution=Je,this.urlSerializer=Ht}recognize(){const A=ni(this.urlTree.root,[],[],this.config.filter(I=>void 0===I.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,A,Cn).pipe((0,rt.U)(I=>{if(null===I)return null;const F=new Ws([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Cn,this.rootComponentType,null,this.urlTree.root,-1,{}),G=new Mi(F,I),le=new Qs(this.url,G);return this.inheritParamsAndData(le._root),le}))}inheritParamsAndData(A){const I=A.value,F=ra(I,this.paramsInheritanceStrategy);I.params=Object.freeze(F.params),I.data=Object.freeze(F.data),A.children.forEach(G=>this.inheritParamsAndData(G))}processSegmentGroup(A,I,F,G){return 0===F.segments.length&&F.hasChildren()?this.processChildren(A,I,F):this.processSegment(A,I,F,F.segments,G)}processChildren(A,I,F){return(0,X.D)(Object.keys(F.children)).pipe(oe(G=>{const le=F.children[G],je=_e(I,G);return this.processSegmentGroup(A,je,le,G)}),(0,ye.R)((G,le)=>G&&le?(G.push(...le),G):null),function An(S,A=!1){return I=>I.lift(new Nn(S,A))}(G=>null!==G),(0,Lt.d)(null),wn(),(0,rt.U)(G=>{if(null===G)return null;const le=Wo(G);return function Yi(S){S.sort((A,I)=>A.value.outlet===Cn?-1:I.value.outlet===Cn?1:A.value.outlet.localeCompare(I.value.outlet))}(le),le}))}processSegment(A,I,F,G,le){return(0,X.D)(I).pipe(oe(je=>this.processSegmentAgainstRoute(je._injector??A,je,F,G,le)),(0,xe.P)(je=>!!je),be(je=>{if(sa(je))return Eo(F,G,le)?(0,W.of)([]):(0,W.of)(null);throw je}))}processSegmentAgainstRoute(A,I,F,G,le){if(I.redirectTo||!Bi(I,F,G,le))return(0,W.of)(null);let je;if("**"===I.path){const Je=G.length>0?$n(G).parameters:{},Ht=Zr(F)+G.length,P=new Ws(G,Je,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$s(I),H(I),I.component??I._loadedComponent??null,I,rn(F),Ht,On(I),Ht);je=(0,W.of)({snapshot:P,consumedSegments:[],remainingSegments:[]})}else je=$r(F,I,G,A).pipe((0,rt.U)(({matched:Je,consumedSegments:Ht,remainingSegments:P,parameters:j})=>{if(!Je)return null;const te=Zr(F)+Ht.length;return{snapshot:new Ws(Ht,j,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$s(I),H(I),I.component??I._loadedComponent??null,I,rn(F),te,On(I),te),consumedSegments:Ht,remainingSegments:P}}));return je.pipe((0,_t.w)(Je=>{if(null===Je)return(0,W.of)(null);const{snapshot:Ht,consumedSegments:P,remainingSegments:j}=Je;A=I._injector??A;const te=I._loadedInjector??A,Ae=function zo(S){return S.children?S.children:S.loadChildren?S._loadedRoutes:[]}(I),{segmentGroup:ht,slicedSegments:xt}=ni(F,P,j,Ae.filter(nn=>void 0===nn.redirectTo),this.relativeLinkResolution);if(0===xt.length&&ht.hasChildren())return this.processChildren(te,Ae,ht).pipe((0,rt.U)(nn=>null===nn?null:[new Mi(Ht,nn)]));if(0===Ae.length&&0===xt.length)return(0,W.of)([new Mi(Ht,[])]);const $t=H(I)===le;return this.processSegment(te,Ae,ht,xt,$t?Cn:le).pipe((0,rt.U)(nn=>null===nn?null:[new Mi(Ht,nn)]))}))}}function Pi(S){const A=S.value.routeConfig;return A&&""===A.path&&void 0===A.redirectTo}function Wo(S){const A=[],I=new Set;for(const F of S){if(!Pi(F)){A.push(F);continue}const G=A.find(le=>F.value.routeConfig===le.value.routeConfig);void 0!==G?(G.children.push(...F.children),I.add(G)):A.push(F)}for(const F of I){const G=Wo(F.children);A.push(new Mi(F.value,G))}return A.filter(F=>!I.has(F))}function rn(S){let A=S;for(;A._sourceSegment;)A=A._sourceSegment;return A}function Zr(S){let A=S,I=A._segmentIndexShift??0;for(;A._sourceSegment;)A=A._sourceSegment,I+=A._segmentIndexShift??0;return I-1}function $s(S){return S.data||{}}function On(S){return S.resolve||{}}function ca(S){return"string"==typeof S.title||null===S.title}function Ll(S){return(0,_t.w)(A=>{const I=S(A);return I?(0,X.D)(I).pipe((0,rt.U)(()=>A)):(0,W.of)(A)})}let ma=(()=>{class S{buildTitle(I){let F,G=I.root;for(;void 0!==G;)F=this.getResolvedTitleForRoute(G)??F,G=G.children.find(le=>le.outlet===Cn);return F}getResolvedTitleForRoute(I){return I.data[Rr]}}return S.\u0275fac=function(I){return new(I||S)},S.\u0275prov=u.Yz7({token:S,factory:function(){return(0,u.f3M)(ml)},providedIn:"root"}),S})(),ml=(()=>{class S extends ma{constructor(I){super(),this.title=I}updateTitle(I){const F=this.buildTitle(I);void 0!==F&&this.title.setTitle(F)}}return S.\u0275fac=function(I){return new(I||S)(u.LFG(Fr.Dx))},S.\u0275prov=u.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();class Wa{}class yl extends class ya{shouldDetach(A){return!1}store(A,I){}shouldAttach(A){return!1}retrieve(A){return null}shouldReuseRoute(A,I){return A.routeConfig===I.routeConfig}}{}const ho=new u.OlP("",{providedIn:"root",factory:()=>({})}),cr=new u.OlP("ROUTES");let ur=(()=>{class S{constructor(I,F){this.injector=I,this.compiler=F,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(I){if(this.componentLoaders.get(I))return this.componentLoaders.get(I);if(I._loadedComponent)return(0,W.of)(I._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(I);const F=Xr(I.loadComponent()).pipe((0,Oe.b)(le=>{this.onLoadEndListener&&this.onLoadEndListener(I),I._loadedComponent=le}),sn(()=>{this.componentLoaders.delete(I)})),G=new Dt.c(F,()=>new bt.xQ).pipe((0,Ln.x)());return this.componentLoaders.set(I,G),G}loadChildren(I,F){if(this.childrenLoaders.get(F))return this.childrenLoaders.get(F);if(F._loadedRoutes)return(0,W.of)({routes:F._loadedRoutes,injector:F._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(F);const le=this.loadModuleFactoryOrRoutes(F.loadChildren).pipe((0,rt.U)(Je=>{this.onLoadEndListener&&this.onLoadEndListener(F);let Ht,P,j=!1;Array.isArray(Je)?P=Je:(Ht=Je.create(I).injector,P=Ar(Ht.get(cr,[],u.XFs.Self|u.XFs.Optional)));return{routes:P.map(E),injector:Ht}}),sn(()=>{this.childrenLoaders.delete(F)})),je=new Dt.c(le,()=>new bt.xQ).pipe((0,Ln.x)());return this.childrenLoaders.set(F,je),je}loadModuleFactoryOrRoutes(I){return Xr(I()).pipe((0,ce.zg)(F=>F instanceof u.YKP||Array.isArray(F)?(0,W.of)(F):(0,X.D)(this.compiler.compileModuleAsync(F))))}}return S.\u0275fac=function(I){return new(I||S)(u.LFG(u.zs3),u.LFG(u.Sil))},S.\u0275prov=u.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();class Vl{}class si{shouldProcessUrl(A){return!0}extract(A){return A}merge(A,I){return A}}function pi(S){throw S}function pr(S,A,I){return A.parse("/")}const va={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},di={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Yo(){const S=(0,u.f3M)(hr),A=(0,u.f3M)(Hr),I=(0,u.f3M)(Mt.Ye),F=(0,u.f3M)(u.zs3),G=(0,u.f3M)(u.Sil),le=(0,u.f3M)(cr,{optional:!0})??[],je=(0,u.f3M)(ho,{optional:!0})??{},Je=(0,u.f3M)(ml),Ht=(0,u.f3M)(ma,{optional:!0}),P=(0,u.f3M)(Vl,{optional:!0}),j=(0,u.f3M)(Wa,{optional:!0}),te=new Di(null,S,A,I,F,G,Ar(le));return P&&(te.urlHandlingStrategy=P),j&&(te.routeReuseStrategy=j),te.titleStrategy=Ht??Je,function dn(S,A){S.errorHandler&&(A.errorHandler=S.errorHandler),S.malformedUriErrorHandler&&(A.malformedUriErrorHandler=S.malformedUriErrorHandler),S.onSameUrlNavigation&&(A.onSameUrlNavigation=S.onSameUrlNavigation),S.paramsInheritanceStrategy&&(A.paramsInheritanceStrategy=S.paramsInheritanceStrategy),S.relativeLinkResolution&&(A.relativeLinkResolution=S.relativeLinkResolution),S.urlUpdateStrategy&&(A.urlUpdateStrategy=S.urlUpdateStrategy),S.canceledNavigationResolution&&(A.canceledNavigationResolution=S.canceledNavigationResolution)}(je,te),te}let Di=(()=>{class S{constructor(I,F,G,le,je,Je,Ht){this.rootComponentType=I,this.urlSerializer=F,this.rootContexts=G,this.location=le,this.config=Ht,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new bt.xQ,this.errorHandler=pi,this.malformedUriErrorHandler=pr,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,W.of)(void 0),this.urlHandlingStrategy=new si,this.routeReuseStrategy=new yl,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=je.get(ur),this.configLoader.onLoadEndListener=Ae=>this.triggerEvent(new go(Ae)),this.configLoader.onLoadStartListener=Ae=>this.triggerEvent(new As(Ae)),this.ngModule=je.get(u.h0i),this.console=je.get(u.c2e);const te=je.get(u.R0b);this.isNgZoneEnabled=te instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(Ht),this.currentUrlTree=function ot(){return new tr(new cn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=rs(this.currentUrlTree,this.rootComponentType),this.transitions=new Be.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(I){const F=this.events;return I.pipe((0,Ce.h)(G=>0!==G.id),(0,rt.U)(G=>({...G,extractedUrl:this.urlHandlingStrategy.extract(G.rawUrl)})),(0,_t.w)(G=>{let le=!1,je=!1;return(0,W.of)(G).pipe((0,Oe.b)(Je=>{this.currentNavigation={id:Je.id,initialUrl:Je.rawUrl,extractedUrl:Je.extractedUrl,trigger:Je.source,extras:Je.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,_t.w)(Je=>{const Ht=this.browserUrlTree.toString(),P=!this.navigated||Je.extractedUrl.toString()!==Ht||Ht!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||P)&&this.urlHandlingStrategy.shouldProcessUrl(Je.rawUrl))return Ya(Je.source)&&(this.browserUrlTree=Je.extractedUrl),(0,W.of)(Je).pipe((0,_t.w)(te=>{const Ae=this.transitions.getValue();return F.next(new on(te.id,this.serializeUrl(te.extractedUrl),te.source,te.restoredState)),Ae!==this.transitions.getValue()?ke.E:Promise.resolve(te)}),function Ga(S,A,I,F){return(0,_t.w)(G=>function ja(S,A,I,F,G){return new ic(S,A,I,F,G).apply()}(S,A,I,G.extractedUrl,F).pipe((0,rt.U)(le=>({...G,urlAfterRedirects:le}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Oe.b)(te=>{this.currentNavigation={...this.currentNavigation,finalUrl:te.urlAfterRedirects},G.urlAfterRedirects=te.urlAfterRedirects}),function or(S,A,I,F,G,le){return(0,ce.zg)(je=>function Gr(S,A,I,F,G,le,je="emptyOnly",Je="legacy"){return new as(S,A,I,F,G,je,Je,le).recognize().pipe((0,_t.w)(Ht=>null===Ht?function Go(S){return new Ve.y(A=>A.error(S))}(new Fl):(0,W.of)(Ht)))}(S,A,I,je.urlAfterRedirects,F.serialize(je.urlAfterRedirects),F,G,le).pipe((0,rt.U)(Je=>({...je,targetSnapshot:Je}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Oe.b)(te=>{if(G.targetSnapshot=te.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!te.extras.skipLocationChange){const ht=this.urlHandlingStrategy.merge(te.urlAfterRedirects,te.rawUrl);this.setBrowserUrl(ht,te)}this.browserUrlTree=te.urlAfterRedirects}const Ae=new Dr(te.id,this.serializeUrl(te.extractedUrl),this.serializeUrl(te.urlAfterRedirects),te.targetSnapshot);F.next(Ae)}));if(P&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Ae,extractedUrl:ht,source:xt,restoredState:$t,extras:nn}=Je,Yn=new on(Ae,this.serializeUrl(ht),xt,$t);F.next(Yn);const ar=rs(ht,this.rootComponentType).snapshot;return G={...Je,targetSnapshot:ar,urlAfterRedirects:ht,extras:{...nn,skipLocationChange:!1,replaceUrl:!1}},(0,W.of)(G)}return this.rawUrlTree=Je.rawUrl,Je.resolve(null),ke.E}),(0,Oe.b)(Je=>{const Ht=new ys(Je.id,this.serializeUrl(Je.extractedUrl),this.serializeUrl(Je.urlAfterRedirects),Je.targetSnapshot);this.triggerEvent(Ht)}),(0,rt.U)(Je=>G={...Je,guards:Ct(Je.targetSnapshot,Je.currentSnapshot,this.rootContexts)}),function aa(S,A){return(0,ce.zg)(I=>{const{targetSnapshot:F,currentSnapshot:G,guards:{canActivateChecks:le,canDeactivateChecks:je}}=I;return 0===je.length&&0===le.length?(0,W.of)({...I,guardsResult:!0}):function B(S,A,I,F){return(0,X.D)(S).pipe((0,ce.zg)(G=>function At(S,A,I,F,G){const le=A&&A.routeConfig?A.routeConfig.canDeactivate:null;if(!le||0===le.length)return(0,W.of)(!0);const je=le.map(Je=>{const Ht=Nt(A)??G,P=Wn(Je,Ht);return Xr(function Ha(S){return S&&_o(S.canDeactivate)}(P)?P.canDeactivate(S,A,I,F):Ht.runInContext(()=>P(S,A,I,F))).pipe((0,xe.P)())});return(0,W.of)(je).pipe(xo())}(G.component,G.route,I,A,F)),(0,xe.P)(G=>!0!==G,!0))}(je,F,G,S).pipe((0,ce.zg)(Je=>Je&&function rc(S){return"boolean"==typeof S}(Je)?function ee(S,A,I,F){return(0,X.D)(A).pipe(oe(G=>(0,Qe.z)(function he(S,A){return null!==S&&A&&A(new Bs(S)),(0,W.of)(!0)}(G.route.parent,F),function U(S,A){return null!==S&&A&&A(new Kr(S)),(0,W.of)(!0)}(G.route,F),function Et(S,A,I){const F=A[A.length-1],le=A.slice(0,A.length-1).reverse().map(je=>function Qt(S){const A=S.routeConfig?S.routeConfig.canActivateChild:null;return A&&0!==A.length?{node:S,guards:A}:null}(je)).filter(je=>null!==je).map(je=>ze(()=>{const Je=je.guards.map(Ht=>{const P=Nt(je.node)??I,j=Wn(Ht,P);return Xr(function xa(S){return S&&_o(S.canActivateChild)}(j)?j.canActivateChild(F,S):P.runInContext(()=>j(F,S))).pipe((0,xe.P)())});return(0,W.of)(Je).pipe(xo())}));return(0,W.of)(le).pipe(xo())}(S,G.path,I),function Xe(S,A,I){const F=A.routeConfig?A.routeConfig.canActivate:null;if(!F||0===F.length)return(0,W.of)(!0);const G=F.map(le=>ze(()=>{const je=Nt(A)??I,Je=Wn(le,je);return Xr(function Aa(S){return S&&_o(S.canActivate)}(Je)?Je.canActivate(A,S):je.runInContext(()=>Je(A,S))).pipe((0,xe.P)())}));return(0,W.of)(G).pipe(xo())}(S,G.route,I))),(0,xe.P)(G=>!0!==G,!0))}(F,le,S,A):(0,W.of)(Je)),(0,rt.U)(Je=>({...I,guardsResult:Je})))})}(this.ngModule.injector,Je=>this.triggerEvent(Je)),(0,Oe.b)(Je=>{if(G.guardsResult=Je.guardsResult,fi(Je.guardsResult))throw ss(0,Je.guardsResult);const Ht=new ji(Je.id,this.serializeUrl(Je.extractedUrl),this.serializeUrl(Je.urlAfterRedirects),Je.targetSnapshot,!!Je.guardsResult);this.triggerEvent(Ht)}),(0,Ce.h)(Je=>!!Je.guardsResult||(this.restoreHistory(Je),this.cancelNavigationTransition(Je,"",3),!1)),Ll(Je=>{if(Je.guards.canActivateChecks.length)return(0,W.of)(Je).pipe((0,Oe.b)(Ht=>{const P=new Gi(Ht.id,this.serializeUrl(Ht.extractedUrl),this.serializeUrl(Ht.urlAfterRedirects),Ht.targetSnapshot);this.triggerEvent(P)}),(0,_t.w)(Ht=>{let P=!1;return(0,W.of)(Ht).pipe(function gl(S,A){return(0,ce.zg)(I=>{const{targetSnapshot:F,guards:{canActivateChecks:G}}=I;if(!G.length)return(0,W.of)(I);let le=0;return(0,X.D)(G).pipe(oe(je=>function bn(S,A,I,F){const G=S.routeConfig,le=S._resolve;return void 0!==G?.title&&!ca(G)&&(le[Rr]=G.title),function Vt(S,A,I,F){const G=function Zt(S){return[...Object.keys(S),...Object.getOwnPropertySymbols(S)]}(S);if(0===G.length)return(0,W.of)({});const le={};return(0,X.D)(G).pipe((0,ce.zg)(je=>function ws(S,A,I,F){const G=Nt(A)??F,le=Wn(S,G);return Xr(le.resolve?le.resolve(A,I):G.runInContext(()=>le(A,I)))}(S[je],A,I,F).pipe((0,xe.P)(),(0,Oe.b)(Je=>{le[je]=Je}))),qe(1),function ri(S){return A=>A.lift(new zr(S))}(le),be(je=>sa(je)?ke.E:(0,Se._)(je)))}(le,S,A,F).pipe((0,rt.U)(je=>(S._resolvedData=je,S.data=ra(S,I).resolve,G&&ca(G)&&(S.data[Rr]=G.title),null)))}(je.route,F,S,A)),(0,Oe.b)(()=>le++),qe(1),(0,ce.zg)(je=>le===G.length?(0,W.of)(I):ke.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Oe.b)({next:()=>P=!0,complete:()=>{P||(this.restoreHistory(Ht),this.cancelNavigationTransition(Ht,"",2))}}))}),(0,Oe.b)(Ht=>{const P=new bi(Ht.id,this.serializeUrl(Ht.extractedUrl),this.serializeUrl(Ht.urlAfterRedirects),Ht.targetSnapshot);this.triggerEvent(P)}))}),Ll(Je=>{const Ht=P=>{const j=[];P.routeConfig?.loadComponent&&!P.routeConfig._loadedComponent&&j.push(this.configLoader.loadComponent(P.routeConfig).pipe((0,Oe.b)(te=>{P.component=te}),(0,rt.U)(()=>{})));for(const te of P.children)j.push(...Ht(te));return j};return ne(Ht(Je.targetSnapshot.root)).pipe((0,Lt.d)(),(0,Me.q)(1))}),Ll(()=>this.afterPreactivation()),(0,rt.U)(Je=>{const Ht=function yr(S,A,I){const F=Ps(S,A._root,I?I._root:void 0);return new ui(F,A)}(this.routeReuseStrategy,Je.targetSnapshot,Je.currentRouterState);return G={...Je,targetRouterState:Ht}}),(0,Oe.b)(Je=>{this.currentUrlTree=Je.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Je.urlAfterRedirects,Je.rawUrl),this.routerState=Je.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Je.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Je),this.browserUrlTree=Je.urlAfterRedirects)}),((S,A,I)=>(0,rt.U)(F=>(new V(A,F.targetRouterState,F.currentRouterState,I).activate(S),F)))(this.rootContexts,this.routeReuseStrategy,Je=>this.triggerEvent(Je)),(0,Oe.b)({next(){le=!0},complete(){le=!0}}),sn(()=>{le||je||this.cancelNavigationTransition(G,"",1),this.currentNavigation?.id===G.id&&(this.currentNavigation=null)}),be(Je=>{if(je=!0,Os(Je)){Vo(Je)||(this.navigated=!0,this.restoreHistory(G,!0));const Ht=new kn(G.id,this.serializeUrl(G.extractedUrl),Je.message,Je.cancellationCode);if(F.next(Ht),Vo(Je)){const P=this.urlHandlingStrategy.merge(Je.url,this.rawUrlTree),j={skipLocationChange:G.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ya(G.source)};this.scheduleNavigation(P,"imperative",null,j,{resolve:G.resolve,reject:G.reject,promise:G.promise})}else G.resolve(!1)}else{this.restoreHistory(G,!0);const Ht=new Ii(G.id,this.serializeUrl(G.extractedUrl),Je,G.targetSnapshot??void 0);F.next(Ht);try{G.resolve(this.errorHandler(Je))}catch(P){G.reject(P)}}return ke.E}))}))}resetRootComponentType(I){this.rootComponentType=I,this.routerState.root.component=this.rootComponentType}setTransition(I){this.transitions.next({...this.transitions.value,...I})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(I=>{const F="popstate"===I.type?"popstate":"hashchange";"popstate"===F&&setTimeout(()=>{const G={replaceUrl:!0},le=I.state?.navigationId?I.state:null;if(le){const Je={...le};delete Je.navigationId,delete Je.\u0275routerPageId,0!==Object.keys(Je).length&&(G.state=Je)}const je=this.parseUrl(I.url);this.scheduleNavigation(je,F,le,G)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(I){this.events.next(I)}resetConfig(I){this.config=I.map(E),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(I,F={}){const{relativeTo:G,queryParams:le,fragment:je,queryParamsHandling:Je,preserveFragment:Ht}=F,P=G||this.routerState.root,j=Ht?this.currentUrlTree.fragment:je;let te=null;switch(Je){case"merge":te={...this.currentUrlTree.queryParams,...le};break;case"preserve":te=this.currentUrlTree.queryParams;break;default:te=le||null}return null!==te&&(te=this.removeEmptyProps(te)),xi(P,this.currentUrlTree,I,te,j??null)}navigateByUrl(I,F={skipLocationChange:!1}){const G=fi(I)?I:this.parseUrl(I),le=this.urlHandlingStrategy.merge(G,this.rawUrlTree);return this.scheduleNavigation(le,"imperative",null,F)}navigate(I,F={skipLocationChange:!1}){return function ro(S){for(let A=0;A<S.length;A++){if(null==S[A])throw new u.vHH(4008,false)}}(I),this.navigateByUrl(this.createUrlTree(I,F),F)}serializeUrl(I){return this.urlSerializer.serialize(I)}parseUrl(I){let F;try{F=this.urlSerializer.parse(I)}catch(G){F=this.malformedUriErrorHandler(G,this.urlSerializer,I)}return F}isActive(I,F){let G;if(G=!0===F?{...va}:!1===F?{...di}:F,fi(I))return et(this.currentUrlTree,I,G);const le=this.parseUrl(I);return et(this.currentUrlTree,le,G)}removeEmptyProps(I){return Object.keys(I).reduce((F,G)=>{const le=I[G];return null!=le&&(F[G]=le),F},{})}processNavigations(){this.navigations.subscribe(I=>{this.navigated=!0,this.lastSuccessfulId=I.id,this.currentPageId=I.targetPageId,this.events.next(new mn(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),I.resolve(!0)},I=>{this.console.warn(`Unhandled Navigation Error: ${I}`)})}scheduleNavigation(I,F,G,le,je){if(this.disposed)return Promise.resolve(!1);let Je,Ht,P;je?(Je=je.resolve,Ht=je.reject,P=je.promise):P=new Promise((Ae,ht)=>{Je=Ae,Ht=ht});const j=++this.navigationId;let te;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(G=this.location.getState()),te=G&&G.\u0275routerPageId?G.\u0275routerPageId:le.replaceUrl||le.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):te=0,this.setTransition({id:j,targetPageId:te,source:F,restoredState:G,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:I,extras:le,resolve:Je,reject:Ht,promise:P,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),P.catch(Ae=>Promise.reject(Ae))}setBrowserUrl(I,F){const G=this.urlSerializer.serialize(I),le={...F.extras.state,...this.generateNgRouterState(F.id,F.targetPageId)};this.location.isCurrentPathEqualTo(G)||F.extras.replaceUrl?this.location.replaceState(G,"",le):this.location.go(G,"",le)}restoreHistory(I,F=!1){if("computed"===this.canceledNavigationResolution){const G=this.currentPageId-I.targetPageId;"popstate"!==I.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===G?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===G&&(this.resetState(I),this.browserUrlTree=I.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(G)}else"replace"===this.canceledNavigationResolution&&(F&&this.resetState(I),this.resetUrlToCurrentUrlTree())}resetState(I){this.routerState=I.currentRouterState,this.currentUrlTree=I.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,I.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(I,F,G){const le=new kn(I.id,this.serializeUrl(I.extractedUrl),F,G);this.triggerEvent(le),I.resolve(!1)}generateNgRouterState(I,F){return"computed"===this.canceledNavigationResolution?{navigationId:I,\u0275routerPageId:F}:{navigationId:I}}}return S.\u0275fac=function(I){u.$Z()},S.\u0275prov=u.Yz7({token:S,factory:function(){return Yo()},providedIn:"root"}),S})();function Ya(S){return"imperative"!==S}let oi=(()=>{class S{constructor(I,F,G,le,je){this.router=I,this.route=F,this.tabIndexAttribute=G,this.renderer=le,this.el=je,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new bt.xQ,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(I){this._preserveFragment=(0,u.D6c)(I)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(I){this._skipLocationChange=(0,u.D6c)(I)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(I){this._replaceUrl=(0,u.D6c)(I)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(I){if(null!=this.tabIndexAttribute)return;const F=this.renderer,G=this.el.nativeElement;null!==I?F.setAttribute(G,"tabindex",I):F.removeAttribute(G,"tabindex")}ngOnChanges(I){this.onChanges.next(this)}set routerLink(I){null!=I?(this.commands=Array.isArray(I)?I:[I],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return S.\u0275fac=function(I){return new(I||S)(u.Y36(Di),u.Y36(zi),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq))},S.\u0275dir=u.lG2({type:S,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(I,F){1&I&&u.NdJ("click",function(){return F.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.TTD]}),S})();class vl{}let qs=(()=>{class S{preload(I,F){return F().pipe(be(()=>(0,W.of)(null)))}}return S.\u0275fac=function(I){return new(I||S)},S.\u0275prov=u.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})(),su=(()=>{class S{constructor(I,F,G,le,je){this.router=I,this.injector=G,this.preloadingStrategy=le,this.loader=je}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ce.h)(I=>I instanceof mn),oe(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(I,F){const G=[];for(const le of F){le.providers&&!le._injector&&(le._injector=(0,u.MMx)(le.providers,I,`Route: ${le.path}`));const je=le._injector??I,Je=le._loadedInjector??je;le.loadChildren&&!le._loadedRoutes&&void 0===le.canLoad||le.loadComponent&&!le._loadedComponent?G.push(this.preloadConfig(je,le)):(le.children||le._loadedRoutes)&&G.push(this.processRoutes(Je,le.children??le._loadedRoutes))}return(0,X.D)(G).pipe((0,Tr.J)())}preloadConfig(I,F){return this.preloadingStrategy.preload(F,()=>{let G;G=F.loadChildren&&void 0===F.canLoad?this.loader.loadChildren(I,F):(0,W.of)(null);const le=G.pipe((0,ce.zg)(je=>null===je?(0,W.of)(void 0):(F._loadedRoutes=je.routes,F._loadedInjector=je.injector,this.processRoutes(je.injector??I,je.routes))));if(F.loadComponent&&!F._loadedComponent){const je=this.loader.loadComponent(F);return(0,X.D)([le,je]).pipe((0,Tr.J)())}return le})}}return S.\u0275fac=function(I){return new(I||S)(u.LFG(Di),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(vl),u.LFG(ur))},S.\u0275prov=u.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();const Ko=new u.OlP("");let Ma=(()=>{class S{constructor(I,F,G={}){this.router=I,this.viewportScroller=F,this.options=G,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},G.scrollPositionRestoration=G.scrollPositionRestoration||"disabled",G.anchorScrolling=G.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(I=>{I instanceof on?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=I.navigationTrigger,this.restoredId=I.restoredState?I.restoredState.navigationId:0):I instanceof mn&&(this.lastId=I.id,this.scheduleScrollEvent(I,this.router.parseUrl(I.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(I=>{I instanceof fs&&(I.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(I.position):I.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(I.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(I,F){this.router.triggerEvent(new fs(I,"popstate"===this.lastSource?this.store[this.restoredId]:null,F))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return S.\u0275fac=function(I){u.$Z()},S.\u0275prov=u.Yz7({token:S,factory:S.\u0275fac}),S})();function ls(S,A){return{\u0275kind:S,\u0275providers:A}}function Ul(S){return[{provide:cr,multi:!0,useValue:S}]}function Ji(){const S=(0,u.f3M)(u.zs3);return A=>{const I=S.get(u.z2F);if(A!==I.components[0])return;const F=S.get(Di),G=S.get(Mo);1===S.get(Io)&&F.initialNavigation(),S.get(ou,null,u.XFs.Optional)?.setUpPreloading(),S.get(Ko,null,u.XFs.Optional)?.init(),F.resetRootComponentType(I.componentTypes[0]),G.next(),G.complete()}}const Mo=new u.OlP("",{factory:()=>new bt.xQ}),Io=new u.OlP("",{providedIn:"root",factory:()=>1});const ou=new u.OlP("");function cs(S){return ls(0,[{provide:ou,useExisting:su},{provide:vl,useExisting:S}])}const ti=new u.OlP("ROUTER_FORROOT_GUARD"),Oa=[Mt.Ye,{provide:hr,useClass:ii},{provide:Di,useFactory:Yo},Hr,{provide:zi,useFactory:function Za(S){return S.routerState.root},deps:[Di]},ur];function Vi(){return new u.PXZ("Router",Di)}let _i=(()=>{class S{constructor(I){}static forRoot(I,F){return{ngModule:S,providers:[Oa,[],Ul(I),{provide:ti,useFactory:jl,deps:[[Di,new u.FiY,new u.tp0]]},{provide:ho,useValue:F||{}},F?.useHash?{provide:Mt.S$,useClass:Mt.Do}:{provide:Mt.S$,useClass:Mt.b0},{provide:Ko,useFactory:()=>{const S=(0,u.f3M)(Di),A=(0,u.f3M)(Mt.EM),I=(0,u.f3M)(ho);return I.scrollOffset&&A.setOffset(I.scrollOffset),new Ma(S,A,I)}},F?.preloadingStrategy?cs(F.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:Vi},F?.initialNavigation?Ni(F):[],[{provide:Ja,useFactory:Ji},{provide:u.tb,multi:!0,useExisting:Ja}]]}}static forChild(I){return{ngModule:S,providers:[Ul(I)]}}}return S.\u0275fac=function(I){return new(I||S)(u.LFG(ti,8))},S.\u0275mod=u.oAB({type:S}),S.\u0275inj=u.cJS({imports:[Js]}),S})();function jl(S){return"guarded"}function Ni(S){return["disabled"===S.initialNavigation?ls(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const A=(0,u.f3M)(Di);return()=>{A.setUpLocationChangeListener()}}},{provide:Io,useValue:2}]).\u0275providers:[],"enabledBlocking"===S.initialNavigation?ls(2,[{provide:Io,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:A=>{const I=A.get(Mt.V_,Promise.resolve(null));let F=!1;return()=>I.then(()=>new Promise(le=>{const je=A.get(Di),Je=A.get(Mo);(function G(le){A.get(Di).events.pipe((0,Ce.h)(Je=>Je instanceof mn||Je instanceof kn||Je instanceof Ii),(0,rt.U)(Je=>Je instanceof mn||Je instanceof kn&&(0===Je.code||1===Je.code)&&null),(0,Ce.h)(Je=>null!==Je),(0,Me.q)(1)).subscribe(()=>{le()})})(()=>{le(!0),F=!0}),je.afterPreactivation=()=>(le(!0),F||Je.closed?(0,W.of)(void 0):Je),je.initialNavigation()}))}}]).\u0275providers:[]]}const Ja=new u.OlP("")},3942:(ln,pt,O)=>{"use strict";O.d(pt,{Z:()=>Qe});var u=O(2090),X=O(4859),W=O(9681),Be=O(1877);class Ne{constructor(ke,ze){this._delegate=ke,this.firebase=ze,(0,W._addComponent)(ke,new X.wA("app-compat",()=>this,"PUBLIC")),this.container=ke.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ke){this._delegate.automaticDataCollectionEnabled=ke}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ke=>{this._delegate.checkDestroyed(),ke()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,W.deleteApp)(this._delegate)))}_getService(ke,ze=W._DEFAULT_ENTRY_NAME){var St;this._delegate.checkDestroyed();const Se=this._delegate.container.getProvider(ke);return!Se.isInitialized()&&"EXPLICIT"===(null===(St=Se.getComponent())||void 0===St?void 0:St.instantiationMode)&&Se.initialize(),Se.getImmediate({identifier:ze})}_removeServiceInstance(ke,ze=W._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ke).clearInstance(ze)}_addComponent(ke){(0,W._addComponent)(this._delegate,ke)}_addOrOverwriteComponent(ke){(0,W._addOrOverwriteComponent)(this._delegate,ke)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const fe=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ie=function Ee(){const Ve=function ve(Ve){const ke={},ze={__esModule:!0,initializeApp:function Dt(_t,Me={}){const Ge=W.initializeApp(_t,Me);if((0,u.r3)(ke,Ge.name))return ke[Ge.name];const Ce=new Ve(Ge,ze);return ke[Ge.name]=Ce,Ce},app:Se,registerVersion:W.registerVersion,setLogLevel:W.setLogLevel,onLog:W.onLog,apps:null,SDK_VERSION:W.SDK_VERSION,INTERNAL:{registerComponent:function Mt(_t){const Me=_t.name,Ge=Me.replace("-compat","");if(W._registerComponent(_t)&&"PUBLIC"===_t.type){const Ce=(ce=Se())=>{if("function"!=typeof ce[Ge])throw fe.create("invalid-app-argument",{appName:Me});return ce[Ge]()};void 0!==_t.serviceProps&&(0,u.ZB)(Ce,_t.serviceProps),ze[Ge]=Ce,Ve.prototype[Ge]=function(...ce){return this._getService.bind(this,Me).apply(this,_t.multipleInstances?ce:[])}}return"PUBLIC"===_t.type?ze[Ge]:null},removeApp:function St(_t){delete ke[_t]},useAsService:function rt(_t,Me){return"serverAuth"===Me?null:Me},modularAPIs:W}};function Se(_t){if(!(0,u.r3)(ke,_t=_t||W._DEFAULT_ENTRY_NAME))throw fe.create("no-app",{appName:_t});return ke[_t]}return ze.default=ze,Object.defineProperty(ze,"apps",{get:function bt(){return Object.keys(ke).map(_t=>ke[_t])}}),Se.App=Ve,ze}(Ne);return Ve.INTERNAL=Object.assign(Object.assign({},Ve.INTERNAL),{createFirebaseNamespace:Ee,extendNamespace:function ke(ze){(0,u.ZB)(Ve,ze)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),Ve}(),ae=new Be.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){ae.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ve=self.firebase.SDK_VERSION;Ve&&Ve.indexOf("LITE")>=0&&ae.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Qe=ie;!function He(Ve){(0,W.registerVersion)("@firebase/app-compat","0.1.34",Ve)}()},9681:(ln,pt,O)=>{"use strict";O.r(pt),O.d(pt,{FirebaseError:()=>Be.ZR,SDK_VERSION:()=>sr,_DEFAULT_ENTRY_NAME:()=>Re,_addComponent:()=>qe,_addOrOverwriteComponent:()=>nt,_apps:()=>Ie,_clearComponents:()=>pn,_components:()=>Ue,_getProvider:()=>gt,_registerComponent:()=>Rt,_removeServiceInstance:()=>Lt,deleteApp:()=>yn,getApp:()=>zr,getApps:()=>Mr,initializeApp:()=>ri,onLog:()=>Ei,registerVersion:()=>zt,setLogLevel:()=>Ln});var u=O(5861),X=O(4859),W=O(1877),Be=O(2090),Ne=O(8766);class J{constructor(et){this.container=et}getPlatformInfoString(){return this.container.getProviders().map(st=>{if(function fe(Ze){return"VERSION"===Ze.getComponent()?.type}(st)){const Wt=st.getImmediate();return`${Wt.library}/${Wt.version}`}return null}).filter(st=>st).join(" ")}}const ve="@firebase/app",ie=new W.Yd("@firebase/app"),Re="[DEFAULT]",ye={[ve]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ie=new Map,Ue=new Map;function qe(Ze,et){try{Ze.container.addComponent(et)}catch(st){ie.debug(`Component ${et.name} failed to register with FirebaseApp ${Ze.name}`,st)}}function nt(Ze,et){Ze.container.addOrOverwriteComponent(et)}function Rt(Ze){const et=Ze.name;if(Ue.has(et))return ie.debug(`There were multiple attempts to register component ${et}.`),!1;Ue.set(et,Ze);for(const st of Ie.values())qe(st,Ze);return!0}function gt(Ze,et){const st=Ze.container.getProvider("heartbeat").getImmediate({optional:!0});return st&&st.triggerHeartbeat(),Ze.container.getProvider(et)}function Lt(Ze,et,st=Re){gt(Ze,et).clearInstance(st)}function pn(){Ue.clear()}const An=new Be.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Nn{constructor(et,st,Wt){this._isDeleted=!1,this._options=Object.assign({},et),this._config=Object.assign({},st),this._name=st.name,this._automaticDataCollectionEnabled=st.automaticDataCollectionEnabled,this._container=Wt,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(et){this.checkDestroyed(),this._automaticDataCollectionEnabled=et}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(et){this._isDeleted=et}checkDestroyed(){if(this.isDeleted)throw An.create("app-deleted",{appName:this._name})}}const sr="9.10.0";function ri(Ze,et={}){"object"!=typeof et&&(et={name:et});const st=Object.assign({name:Re,automaticDataCollectionEnabled:!1},et),Wt=st.name;if("string"!=typeof Wt||!Wt)throw An.create("bad-app-name",{appName:String(Wt)});const tn=Ie.get(Wt);if(tn){if((0,Be.vZ)(Ze,tn.options)&&(0,Be.vZ)(st,tn.config))return tn;throw An.create("duplicate-app",{appName:Wt})}const gn=new X.H0(Wt);for(const zn of Ue.values())gn.addComponent(zn);const dr=new Nn(Ze,st,gn);return Ie.set(Wt,dr),dr}function zr(Ze=Re){const et=Ie.get(Ze);if(!et)throw An.create("no-app",{appName:Ze});return et}function Mr(){return Array.from(Ie.values())}function yn(Ze){return sn.apply(this,arguments)}function sn(){return(sn=(0,u.Z)(function*(Ze){const et=Ze.name;Ie.has(et)&&(Ie.delete(et),yield Promise.all(Ze.container.getProviders().map(st=>st.delete())),Ze.isDeleted=!0)})).apply(this,arguments)}function zt(Ze,et,st){var Wt;let tn=null!==(Wt=ye[Ze])&&void 0!==Wt?Wt:Ze;st&&(tn+=`-${st}`);const gn=tn.match(/\s|\//),dr=et.match(/\s|\//);if(gn||dr){const zn=[`Unable to register library "${tn}" with version "${et}":`];return gn&&zn.push(`library name "${tn}" contains illegal characters (whitespace or "/")`),gn&&dr&&zn.push("and"),dr&&zn.push(`version name "${et}" contains illegal characters (whitespace or "/")`),void ie.warn(zn.join(" "))}Rt(new X.wA(`${tn}-version`,()=>({library:tn,version:et}),"VERSION"))}function Ei(Ze,et){if(null!==Ze&&"function"!=typeof Ze)throw An.create("invalid-log-argument");(0,W.Am)(Ze,et)}function Ln(Ze){(0,W.Ub)(Ze)}const Cn="firebase-heartbeat-store";let Rr=null;function Sr(){return Rr||(Rr=(0,Ne.X3)("firebase-heartbeat-database",1,{upgrade:(Ze,et)=>{0===et&&Ze.createObjectStore(Cn)}}).catch(Ze=>{throw An.create("idb-open",{originalErrorMessage:Ze.message})})),Rr}function In(){return(In=(0,u.Z)(function*(Ze){var et;try{return(yield Sr()).transaction(Cn).objectStore(Cn).get(Kn(Ze))}catch(st){if(st instanceof Be.ZR)ie.warn(st.message);else{const Wt=An.create("idb-get",{originalErrorMessage:null===(et=st)||void 0===et?void 0:et.message});ie.warn(Wt.message)}}})).apply(this,arguments)}function br(Ze,et){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,u.Z)(function*(Ze,et){var st;try{const tn=(yield Sr()).transaction(Cn,"readwrite");return yield tn.objectStore(Cn).put(et,Kn(Ze)),tn.done}catch(Wt){if(Wt instanceof Be.ZR)ie.warn(Wt.message);else{const tn=An.create("idb-set",{originalErrorMessage:null===(st=Wt)||void 0===st?void 0:st.message});ie.warn(tn.message)}}})).apply(this,arguments)}function Kn(Ze){return`${Ze.name}!${Ze.options.appId}`}class Ui{constructor(et){this.container=et,this._heartbeatsCache=null;const st=this.container.getProvider("app").getImmediate();this._storage=new qn(st),this._heartbeatsCachePromise=this._storage.read().then(Wt=>(this._heartbeatsCache=Wt,Wt))}triggerHeartbeat(){var et=this;return(0,u.Z)(function*(){const Wt=et.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),tn=Un();if(null===et._heartbeatsCache&&(et._heartbeatsCache=yield et._heartbeatsCachePromise),et._heartbeatsCache.lastSentHeartbeatDate!==tn&&!et._heartbeatsCache.heartbeats.some(gn=>gn.date===tn))return et._heartbeatsCache.heartbeats.push({date:tn,agent:Wt}),et._heartbeatsCache.heartbeats=et._heartbeatsCache.heartbeats.filter(gn=>{const dr=new Date(gn.date).valueOf();return Date.now()-dr<=2592e6}),et._storage.overwrite(et._heartbeatsCache)})()}getHeartbeatsHeader(){var et=this;return(0,u.Z)(function*(){if(null===et._heartbeatsCache&&(yield et._heartbeatsCachePromise),null===et._heartbeatsCache||0===et._heartbeatsCache.heartbeats.length)return"";const st=Un(),{heartbeatsToSend:Wt,unsentEntries:tn}=function Xr(Ze,et=1024){const st=[];let Wt=Ze.slice();for(const tn of Ze){const gn=st.find(dr=>dr.agent===tn.agent);if(gn){if(gn.dates.push(tn.date),ot(st)>et){gn.dates.pop();break}}else if(st.push({agent:tn.agent,dates:[tn.date]}),ot(st)>et){st.pop();break}Wt=Wt.slice(1)}return{heartbeatsToSend:st,unsentEntries:Wt}}(et._heartbeatsCache.heartbeats),gn=(0,Be.L)(JSON.stringify({version:2,heartbeats:Wt}));return et._heartbeatsCache.lastSentHeartbeatDate=st,tn.length>0?(et._heartbeatsCache.heartbeats=tn,yield et._storage.overwrite(et._heartbeatsCache)):(et._heartbeatsCache.heartbeats=[],et._storage.overwrite(et._heartbeatsCache)),gn})()}}function Un(){return(new Date).toISOString().substring(0,10)}class qn{constructor(et){this.app=et,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,Be.hl)()&&(0,Be.eu)().then(()=>!0).catch(()=>!1)})()}read(){var et=this;return(0,u.Z)(function*(){return(yield et._canUseIndexedDBPromise)&&(yield function En(Ze){return In.apply(this,arguments)}(et.app))||{heartbeats:[]}})()}overwrite(et){var st=this;return(0,u.Z)(function*(){var Wt;if(yield st._canUseIndexedDBPromise){const gn=yield st.read();return br(st.app,{lastSentHeartbeatDate:null!==(Wt=et.lastSentHeartbeatDate)&&void 0!==Wt?Wt:gn.lastSentHeartbeatDate,heartbeats:et.heartbeats})}})()}add(et){var st=this;return(0,u.Z)(function*(){var Wt;if(yield st._canUseIndexedDBPromise){const gn=yield st.read();return br(st.app,{lastSentHeartbeatDate:null!==(Wt=et.lastSentHeartbeatDate)&&void 0!==Wt?Wt:gn.lastSentHeartbeatDate,heartbeats:[...gn.heartbeats,...et.heartbeats]})}})()}}function ot(Ze){return(0,Be.L)(JSON.stringify({version:2,heartbeats:Ze})).length}!function tt(Ze){Rt(new X.wA("platform-logger",et=>new J(et),"PRIVATE")),Rt(new X.wA("heartbeat",et=>new Ui(et),"PRIVATE")),zt(ve,"0.7.33",Ze),zt(ve,"0.7.33","esm2017"),zt("fire-js","")}("")},4859:(ln,pt,O)=>{"use strict";O.d(pt,{H0:()=>ve,wA:()=>W});var u=O(5861),X=O(2090);class W{constructor(ie,ae,ne){this.name=ie,this.instanceFactory=ae,this.type=ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ie){return this.instantiationMode=ie,this}setMultipleInstances(ie){return this.multipleInstances=ie,this}setServiceProps(ie){return this.serviceProps=ie,this}setInstanceCreatedCallback(ie){return this.onInstanceCreated=ie,this}}const Be="[DEFAULT]";class Ne{constructor(ie,ae){this.name=ie,this.container=ae,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ie){const ae=this.normalizeInstanceIdentifier(ie);if(!this.instancesDeferred.has(ae)){const ne=new X.BH;if(this.instancesDeferred.set(ae,ne),this.isInitialized(ae)||this.shouldAutoInitialize())try{const pe=this.getOrInitializeService({instanceIdentifier:ae});pe&&ne.resolve(pe)}catch{}}return this.instancesDeferred.get(ae).promise}getImmediate(ie){var ae;const ne=this.normalizeInstanceIdentifier(ie?.identifier),pe=null!==(ae=ie?.optional)&&void 0!==ae&&ae;if(!this.isInitialized(ne)&&!this.shouldAutoInitialize()){if(pe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ne})}catch(He){if(pe)return null;throw He}}getComponent(){return this.component}setComponent(ie){if(ie.name!==this.name)throw Error(`Mismatching Component ${ie.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ie,this.shouldAutoInitialize()){if(function fe(Ee){return"EAGER"===Ee.instantiationMode}(ie))try{this.getOrInitializeService({instanceIdentifier:Be})}catch{}for(const[ae,ne]of this.instancesDeferred.entries()){const pe=this.normalizeInstanceIdentifier(ae);try{const He=this.getOrInitializeService({instanceIdentifier:pe});ne.resolve(He)}catch{}}}}clearInstance(ie=Be){this.instancesDeferred.delete(ie),this.instancesOptions.delete(ie),this.instances.delete(ie)}delete(){var ie=this;return(0,u.Z)(function*(){const ae=Array.from(ie.instances.values());yield Promise.all([...ae.filter(ne=>"INTERNAL"in ne).map(ne=>ne.INTERNAL.delete()),...ae.filter(ne=>"_delete"in ne).map(ne=>ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ie=Be){return this.instances.has(ie)}getOptions(ie=Be){return this.instancesOptions.get(ie)||{}}initialize(ie={}){const{options:ae={}}=ie,ne=this.normalizeInstanceIdentifier(ie.instanceIdentifier);if(this.isInitialized(ne))throw Error(`${this.name}(${ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const pe=this.getOrInitializeService({instanceIdentifier:ne,options:ae});for(const[He,Qe]of this.instancesDeferred.entries())ne===this.normalizeInstanceIdentifier(He)&&Qe.resolve(pe);return pe}onInit(ie,ae){var ne;const pe=this.normalizeInstanceIdentifier(ae),He=null!==(ne=this.onInitCallbacks.get(pe))&&void 0!==ne?ne:new Set;He.add(ie),this.onInitCallbacks.set(pe,He);const Qe=this.instances.get(pe);return Qe&&ie(Qe,pe),()=>{He.delete(ie)}}invokeOnInitCallbacks(ie,ae){const ne=this.onInitCallbacks.get(ae);if(ne)for(const pe of ne)try{pe(ie,ae)}catch{}}getOrInitializeService({instanceIdentifier:ie,options:ae={}}){let ne=this.instances.get(ie);if(!ne&&this.component&&(ne=this.component.instanceFactory(this.container,{instanceIdentifier:(Ee=ie,Ee===Be?void 0:Ee),options:ae}),this.instances.set(ie,ne),this.instancesOptions.set(ie,ae),this.invokeOnInitCallbacks(ne,ie),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ie,ne)}catch{}var Ee;return ne||null}normalizeInstanceIdentifier(ie=Be){return this.component?this.component.multipleInstances?ie:Be:ie}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ve{constructor(ie){this.name=ie,this.providers=new Map}addComponent(ie){const ae=this.getProvider(ie.name);if(ae.isComponentSet())throw new Error(`Component ${ie.name} has already been registered with ${this.name}`);ae.setComponent(ie)}addOrOverwriteComponent(ie){this.getProvider(ie.name).isComponentSet()&&this.providers.delete(ie.name),this.addComponent(ie)}getProvider(ie){if(this.providers.has(ie))return this.providers.get(ie);const ae=new Ne(ie,this);return this.providers.set(ie,ae),ae}getProviders(){return Array.from(this.providers.values())}}},1877:(ln,pt,O)=>{"use strict";O.d(pt,{Am:()=>Ee,Ub:()=>ve,Yd:()=>fe,in:()=>X});const u=[];var X=(()=>{return(ie=X||(X={}))[ie.DEBUG=0]="DEBUG",ie[ie.VERBOSE=1]="VERBOSE",ie[ie.INFO=2]="INFO",ie[ie.WARN=3]="WARN",ie[ie.ERROR=4]="ERROR",ie[ie.SILENT=5]="SILENT",X;var ie})();const W={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},Be=X.INFO,Ne={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},J=(ie,ae,...ne)=>{if(ae<ie.logLevel)return;const pe=(new Date).toISOString(),He=Ne[ae];if(!He)throw new Error(`Attempted to log a message with an invalid logType (value: ${ae})`);console[He](`[${pe}]  ${ie.name}:`,...ne)};class fe{constructor(ae){this.name=ae,this._logLevel=Be,this._logHandler=J,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(ae){if(!(ae in X))throw new TypeError(`Invalid value "${ae}" assigned to \`logLevel\``);this._logLevel=ae}setLogLevel(ae){this._logLevel="string"==typeof ae?W[ae]:ae}get logHandler(){return this._logHandler}set logHandler(ae){if("function"!=typeof ae)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ae}get userLogHandler(){return this._userLogHandler}set userLogHandler(ae){this._userLogHandler=ae}debug(...ae){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...ae),this._logHandler(this,X.DEBUG,...ae)}log(...ae){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...ae),this._logHandler(this,X.VERBOSE,...ae)}info(...ae){this._userLogHandler&&this._userLogHandler(this,X.INFO,...ae),this._logHandler(this,X.INFO,...ae)}warn(...ae){this._userLogHandler&&this._userLogHandler(this,X.WARN,...ae),this._logHandler(this,X.WARN,...ae)}error(...ae){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...ae),this._logHandler(this,X.ERROR,...ae)}}function ve(ie){u.forEach(ae=>{ae.setLogLevel(ie)})}function Ee(ie,ae){for(const ne of u){let pe=null;ae&&ae.level&&(pe=W[ae.level]),ne.userLogHandler=null===ie?null:(He,Qe,...Ve)=>{const ke=Ve.map(ze=>{if(null==ze)return null;if("string"==typeof ze)return ze;if("number"==typeof ze||"boolean"==typeof ze)return ze.toString();if(ze instanceof Error)return ze.message;try{return JSON.stringify(ze)}catch{return null}}).filter(ze=>ze).join(" ");Qe>=(pe??He.logLevel)&&ie({level:X[Qe].toLowerCase(),message:ke,args:Ve,type:He.name})}}}},8766:(ln,pt,O)=>{"use strict";O.d(pt,{Lj:()=>Dt,X3:()=>Se});var u=O(5861);let W,Be;const fe=new WeakMap,ve=new WeakMap,Ee=new WeakMap,ie=new WeakMap,ae=new WeakMap;let He={get(Me,Ge,Ce){if(Me instanceof IDBTransaction){if("done"===Ge)return ve.get(Me);if("objectStoreNames"===Ge)return Me.objectStoreNames||Ee.get(Me);if("store"===Ge)return Ce.objectStoreNames[1]?void 0:Ce.objectStore(Ce.objectStoreNames[0])}return ze(Me[Ge])},set:(Me,Ge,Ce)=>(Me[Ge]=Ce,!0),has:(Me,Ge)=>Me instanceof IDBTransaction&&("done"===Ge||"store"===Ge)||Ge in Me};function ke(Me){return"function"==typeof Me?function Ve(Me){return Me!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function J(){return Be||(Be=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Me)?function(...Ge){return Me.apply(St(this),Ge),ze(fe.get(this))}:function(...Ge){return ze(Me.apply(St(this),Ge))}:function(Ge,...Ce){const ce=Me.call(St(this),Ge,...Ce);return Ee.set(ce,Ge.sort?Ge.sort():[Ge]),ze(ce)}}(Me):(Me instanceof IDBTransaction&&function pe(Me){if(ve.has(Me))return;const Ge=new Promise((Ce,ce)=>{const xe=()=>{Me.removeEventListener("complete",oe),Me.removeEventListener("error",Oe),Me.removeEventListener("abort",Oe)},oe=()=>{Ce(),xe()},Oe=()=>{ce(Me.error||new DOMException("AbortError","AbortError")),xe()};Me.addEventListener("complete",oe),Me.addEventListener("error",Oe),Me.addEventListener("abort",Oe)});ve.set(Me,Ge)}(Me),((Me,Ge)=>Ge.some(Ce=>Me instanceof Ce))(Me,function Ne(){return W||(W=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Me,He):Me)}function ze(Me){if(Me instanceof IDBRequest)return function ne(Me){const Ge=new Promise((Ce,ce)=>{const xe=()=>{Me.removeEventListener("success",oe),Me.removeEventListener("error",Oe)},oe=()=>{Ce(ze(Me.result)),xe()},Oe=()=>{ce(Me.error),xe()};Me.addEventListener("success",oe),Me.addEventListener("error",Oe)});return Ge.then(Ce=>{Ce instanceof IDBCursor&&fe.set(Ce,Me)}).catch(()=>{}),ae.set(Ge,Me),Ge}(Me);if(ie.has(Me))return ie.get(Me);const Ge=ke(Me);return Ge!==Me&&(ie.set(Me,Ge),ae.set(Ge,Me)),Ge}const St=Me=>ae.get(Me);function Se(Me,Ge,{blocked:Ce,upgrade:ce,blocking:xe,terminated:oe}={}){const Oe=indexedDB.open(Me,Ge),re=ze(Oe);return ce&&Oe.addEventListener("upgradeneeded",be=>{ce(ze(Oe.result),be.oldVersion,be.newVersion,ze(Oe.transaction))}),Ce&&Oe.addEventListener("blocked",()=>Ce()),re.then(be=>{oe&&be.addEventListener("close",()=>oe()),xe&&be.addEventListener("versionchange",()=>xe())}).catch(()=>{}),re}function Dt(Me,{blocked:Ge}={}){const Ce=indexedDB.deleteDatabase(Me);return Ge&&Ce.addEventListener("blocked",()=>Ge()),ze(Ce).then(()=>{})}const bt=["get","getKey","getAll","getAllKeys","count"],Mt=["put","add","delete","clear"],rt=new Map;function _t(Me,Ge){if(!(Me instanceof IDBDatabase)||Ge in Me||"string"!=typeof Ge)return;if(rt.get(Ge))return rt.get(Ge);const Ce=Ge.replace(/FromIndex$/,""),ce=Ge!==Ce,xe=Mt.includes(Ce);if(!(Ce in(ce?IDBIndex:IDBObjectStore).prototype)||!xe&&!bt.includes(Ce))return;const oe=function(){var Oe=(0,u.Z)(function*(re,...be){const me=this.transaction(re,xe?"readwrite":"readonly");let Re=me.store;return ce&&(Re=Re.index(be.shift())),(yield Promise.all([Re[Ce](...be),xe&&me.done]))[0]});return function(be){return Oe.apply(this,arguments)}}();return rt.set(Ge,oe),oe}!function Qe(Me){He=Me(He)}(Me=>({...Me,get:(Ge,Ce,ce)=>_t(Ge,Ce)||Me.get(Ge,Ce,ce),has:(Ge,Ce)=>!!_t(Ge,Ce)||Me.has(Ge,Ce)}))},5861:(ln,pt,O)=>{"use strict";function u(W,Be,Ne,J,fe,ve,Ee){try{var ie=W[ve](Ee),ae=ie.value}catch(ne){return void Ne(ne)}ie.done?Be(ae):Promise.resolve(ae).then(J,fe)}function X(W){return function(){var Be=this,Ne=arguments;return new Promise(function(J,fe){var ve=W.apply(Be,Ne);function Ee(ae){u(ve,J,fe,Ee,ie,"next",ae)}function ie(ae){u(ve,J,fe,Ee,ie,"throw",ae)}Ee(void 0)})}}O.d(pt,{Z:()=>X})}},ln=>{ln(ln.s=2567)}]);