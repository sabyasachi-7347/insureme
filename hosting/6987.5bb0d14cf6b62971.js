"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6987],{6987:(Q,l,a)=>{a.r(l),a.d(l,{AddbusinessPageModule:()=>O});var u=a(6895),o=a(4719),r=a(191),c=a(5181),m=a(5861),e=a(4650),g=a(4941),p=a(2796);function _(s,i){if(1&s&&(e.ynx(0),e.TgZ(1,"small",33),e._uU(2),e.qZA(),e.BQk()),2&s){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function f(s,i){if(1&s&&(e.TgZ(0,"div"),e.YNc(1,_,3,1,"ng-container",28),e.qZA()),2&s){const t=i.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.typeOfBorrow.hasError(t.type))}}function Z(s,i){if(1&s&&(e.ynx(0),e.TgZ(1,"small",33),e._uU(2),e.qZA(),e.BQk()),2&s){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function A(s,i){if(1&s&&(e.TgZ(0,"div"),e.YNc(1,Z,3,1,"ng-container",28),e.qZA()),2&s){const t=i.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.bankName.hasError(t.type))}}function b(s,i){if(1&s&&(e.ynx(0),e.TgZ(1,"small",33),e._uU(2),e.qZA(),e.BQk()),2&s){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function v(s,i){if(1&s&&(e.TgZ(0,"div"),e.YNc(1,b,3,1,"ng-container",28),e.qZA()),2&s){const t=i.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.lanNo.hasError(t.type))}}function T(s,i){if(1&s&&(e.ynx(0),e.TgZ(1,"small",33),e._uU(2),e.qZA(),e.BQk()),2&s){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function x(s,i){if(1&s&&(e.TgZ(0,"div"),e.YNc(1,T,3,1,"ng-container",28),e.qZA()),2&s){const t=i.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.name.hasError(t.type))}}function q(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"ion-input",34),e.NdJ("click",function(){e.CHM(t);const d=e.oxw();return e.KtG(d.openDatetime())}),e.qZA()}if(2&s){const t=e.oxw();e.s9C("value",t.selectedDate),e.Q6J("readonly",!0)}}function h(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"div")(1,"ion-datetime",35),e.NdJ("ngModelChange",function(d){e.CHM(t);const J=e.oxw();return e.KtG(J.selectedDate=d)}),e.qZA(),e.TgZ(2,"ion-button",36),e.NdJ("click",function(){e.CHM(t);const d=e.oxw();return e.KtG(d.hideDatetime())}),e._uU(3,"OK"),e.qZA()()}if(2&s){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.selectedDate)}}function y(s,i){if(1&s&&(e.ynx(0),e.TgZ(1,"small",33),e._uU(2),e.qZA(),e.BQk()),2&s){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function B(s,i){if(1&s&&(e.TgZ(0,"div"),e.YNc(1,y,3,1,"ng-container",28),e.qZA()),2&s){const t=i.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.disburseDate.hasError(t.type))}}function N(s,i){if(1&s&&(e.ynx(0),e.TgZ(1,"small",33),e._uU(2),e.qZA(),e.BQk()),2&s){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function k(s,i){if(1&s&&(e.TgZ(0,"div"),e.YNc(1,N,3,1,"ng-container",28),e.qZA()),2&s){const t=i.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.disbursedAmount.hasError(t.type))}}function P(s,i){if(1&s&&(e.ynx(0),e.TgZ(1,"small",33),e._uU(2),e.qZA(),e.BQk()),2&s){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function U(s,i){if(1&s&&(e.TgZ(0,"div"),e.YNc(1,P,3,1,"ng-container",28),e.qZA()),2&s){const t=i.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.remarks.hasError(t.type))}}const F=[{path:"",component:(()=>{class s{constructor(t,n,d){this.formBuilder=t,this.auth=n,this.firestore=d,this.openDatetimeField=!1,this.selectedDate="",this.addBusinessForm=this.formBuilder.group({typeOfBorrow:["",[o.kI.required]],bankName:["",[o.kI.required]],lanNo:["",[o.kI.required]],name:["",[o.kI.required,o.kI.pattern("^[a-zA-Z ]+$")]],disburseDate:["",[o.kI.required]],disbursedAmount:["",[o.kI.required,o.kI.pattern("^[0-9]{1,7}")]],remarks:["",[o.kI.required]]}),this.errorMessages={typeOfBorrow:[{type:"required",message:"Please\xa0select type of borrow"}],bankName:[{type:"required",message:"Please\xa0select bank name"}],lanNo:[{type:"required",message:"Please\xa0enter LAN number"}],name:[{type:"required",message:"Please\xa0enter customer name"},{type:"pattern",message:"Please\xa0enter valid name"}],disburseDate:[{type:"required",message:"please select disbursed date"}],disbursedAmount:[{type:"required",message:"Please\xa0enter disbursed amount"},{type:"pattern",message:"Please\xa0enter valid amount"}],remarks:[{type:"required",message:"Please\xa0enter remarks"}]}}get errorControl(){return this.addBusinessForm.controls}get typeOfBorrow(){return this.addBusinessForm.get("typeOfBorrow")}get bankName(){return this.addBusinessForm.get("bankName")}get lanNo(){return this.addBusinessForm.get("lanNo")}get name(){return this.addBusinessForm.get("name")}get disburseDate(){return this.addBusinessForm.get("disburseDate")}get disbursedAmount(){return this.addBusinessForm.get("disbursedAmount")}get remarks(){return this.addBusinessForm.get("remarks")}ngOnInit(){}openDatetime(){this.openDatetimeField=!0}hideDatetime(){if(this.openDatetimeField=!1,this.selectedDate){this.selectedDate=this.selectedDate.split("T")[0];var t=this.selectedDate.split("-")[2]+"-"+this.selectedDate.split("-")[1]+"-"+this.selectedDate.split("-")[0];this.selectedDate=t}}addNewBusiness(){var t=this;return(0,m.Z)(function*(){t.curentUser=JSON.parse(localStorage.userData),yield t.firestore.collection("business").doc().set({typeOfBorrow:t.addBusinessForm.value.typeOfBorrow.trim(),bankName:t.addBusinessForm.value.bankName.trim(),lanNo:t.addBusinessForm.value.lanNo.trim(),name:t.addBusinessForm.value.name.trim(),disburseDate:t.selectedDate.trim(),disbursedAmount:t.addBusinessForm.value.disbursedAmount.trim(),approvedbyadmin:"P",remarks:t.addBusinessForm.value.remarks.trim(),createdBy:t.curentUser.email,agent:t.curentUser.enrolledby}).catch(n=>{console.log(n),alert("Unable to process request")}).then(n=>{console.log(n),alert("Business added sucessfully"),t.addBusinessForm.reset()})})()}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(o.qu),e.Y36(g.zQ),e.Y36(p.ST))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-addbusiness"]],decls:82,vars:11,consts:[[1,"header-color"],["slot","start"],["src","../../assets/imgs/addmembers.png","height","35%","width","100%"],["novalidate","",3,"formGroup"],["position","floating"],["placeholder","Type of Loans","interface","action-sheet","formControlName","typeOfBorrow"],["value","home"],["value","personal"],["value","mortgage"],["value","business"],[4,"ngFor","ngForOf"],["placeholder","Bank Name","interface","action-sheet","formControlName","bankName"],["value","hdfc"],["value","icic"],["value","idfc"],["value","adityabirla"],["value","incred"],["value","kotak"],["value","flutron"],["value","bajajfinance"],["value","yesbank"],["value","axisfinance"],["value","axisbank"],["value","standardchartered"],["value","tatacapital"],["formControlName","lanNo"],["formControlName","name"],[3,"readonly","value","click",4,"ngIf"],[4,"ngIf"],["formControlName","disbursedAmount"],["formControlName","remarks"],[1,"buttonCont"],[1,"loginButton",3,"disabled","click"],[1,"serror-message"],[3,"readonly","value","click"],["placeholder","Select Date","displayFormat","DD-MM-YYYY","formControlName","disburseDate",3,"ngModel","ngModelChange"],[3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),e._UZ(3,"ion-back-button"),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"Add Business"),e.qZA()()(),e.TgZ(6,"ion-content"),e._UZ(7,"img",2),e.TgZ(8,"form",3)(9,"ion-item")(10,"ion-label",4),e._uU(11,"Type of Loans"),e.qZA(),e.TgZ(12,"ion-select",5)(13,"ion-select-option",6),e._uU(14,"Home"),e.qZA(),e.TgZ(15,"ion-select-option",7),e._uU(16,"Personal"),e.qZA(),e.TgZ(17,"ion-select-option",8),e._uU(18,"Mortgage"),e.qZA(),e.TgZ(19,"ion-select-option",9),e._uU(20,"Business"),e.qZA()()(),e.YNc(21,f,2,1,"div",10),e.TgZ(22,"ion-item")(23,"ion-label",4),e._uU(24,"Bank Name"),e.qZA(),e.TgZ(25,"ion-select",11)(26,"ion-select-option",12),e._uU(27,"HDFC"),e.qZA(),e.TgZ(28,"ion-select-option",13),e._uU(29,"ICICI"),e.qZA(),e.TgZ(30,"ion-select-option",14),e._uU(31,"IDFC"),e.qZA(),e.TgZ(32,"ion-select-option",15),e._uU(33,"Aditya Birla"),e.qZA(),e.TgZ(34,"ion-select-option",16),e._uU(35,"Incred"),e.qZA(),e.TgZ(36,"ion-select-option",17),e._uU(37,"Kotak"),e.qZA(),e.TgZ(38,"ion-select-option",18),e._uU(39,"Flutron"),e.qZA(),e.TgZ(40,"ion-select-option",19),e._uU(41,"Bajaj Finance"),e.qZA(),e.TgZ(42,"ion-select-option",20),e._uU(43,"Yes bank"),e.qZA(),e.TgZ(44,"ion-select-option",21),e._uU(45,"Axis finance"),e.qZA(),e.TgZ(46,"ion-select-option",22),e._uU(47,"Axis bank"),e.qZA(),e.TgZ(48,"ion-select-option",23),e._uU(49,"Standard chartered"),e.qZA(),e.TgZ(50,"ion-select-option",24),e._uU(51,"Tata Capital"),e.qZA()()(),e.YNc(52,A,2,1,"div",10),e.TgZ(53,"ion-item")(54,"ion-label",4),e._uU(55,"Aplication / LAN ID Number "),e.qZA(),e._UZ(56,"ion-input",25),e.qZA(),e.YNc(57,v,2,1,"div",10),e.TgZ(58,"ion-item")(59,"ion-label",4),e._uU(60,"Customer Name"),e.qZA(),e._UZ(61,"ion-input",26),e.qZA(),e.YNc(62,x,2,1,"div",10),e.TgZ(63,"ion-item")(64,"ion-label",4),e._uU(65,"Disbursed Date"),e.qZA(),e.YNc(66,q,1,2,"ion-input",27),e.YNc(67,h,4,1,"div",28),e.qZA(),e.YNc(68,B,2,1,"div",10),e.TgZ(69,"ion-item")(70,"ion-label",4),e._uU(71,"Disbursed Amount "),e.qZA(),e._UZ(72,"ion-input",29),e.qZA(),e.YNc(73,k,2,1,"div",10),e.TgZ(74,"ion-item")(75,"ion-label",4),e._uU(76,"Remarks"),e.qZA(),e._UZ(77,"ion-input",30),e.qZA(),e.YNc(78,U,2,1,"div",10),e.qZA(),e.TgZ(79,"div",31)(80,"ion-button",32),e.NdJ("click",function(){return n.addNewBusiness()}),e._uU(81,"Book Business"),e.qZA()()()),2&t&&(e.xp6(8),e.Q6J("formGroup",n.addBusinessForm),e.xp6(13),e.Q6J("ngForOf",n.errorMessages.typeOfBorrow),e.xp6(31),e.Q6J("ngForOf",n.errorMessages.bankName),e.xp6(5),e.Q6J("ngForOf",n.errorMessages.lanNo),e.xp6(5),e.Q6J("ngForOf",n.errorMessages.name),e.xp6(4),e.Q6J("ngIf",!n.openDatetimeField),e.xp6(1),e.Q6J("ngIf",n.openDatetimeField),e.xp6(1),e.Q6J("ngForOf",n.errorMessages.disburseDate),e.xp6(5),e.Q6J("ngForOf",n.errorMessages.disbursedAmount),e.xp6(5),e.Q6J("ngForOf",n.errorMessages.remarks),e.xp6(2),e.Q6J("disabled",!n.addBusinessForm.valid))},dependencies:[u.sg,u.O5,o._Y,o.JJ,o.JL,r.oU,r.YG,r.Sm,r.W2,r.x4,r.Gu,r.pK,r.Ie,r.Q$,r.t9,r.n0,r.wd,r.sr,r.QI,r.j9,r.cs,o.sg,o.u],styles:[".loginButton[_ngcontent-%COMP%], .buttonCont[_ngcontent-%COMP%]{text-align:center}.serror-message[_ngcontent-%COMP%]{color:#f20e0e}"]}),s})()}];let D=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[c.Bz.forChild(F),c.Bz]}),s})(),O=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[u.ez,o.u5,r.Pc,D,o.UX]}),s})()}}]);