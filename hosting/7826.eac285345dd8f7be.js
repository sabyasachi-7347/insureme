"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7826],{7826:(B,p,g)=>{g.r(p),g.d(p,{RegisterPageModule:()=>C});var c=g(6895),i=g(4719),l=g(191),d=g(5181),m=g(5861),e=g(4650),h=g(5827),_=g(4941),f=g(2796);function v(a,o){if(1&a&&(e.ynx(0),e.TgZ(1,"small",18),e._uU(2),e.qZA(),e.BQk()),2&a){const r=e.oxw().$implicit;e.xp6(2),e.Oqu(r.message)}}function Z(a,o){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,v,3,1,"ng-container",17),e.qZA()),2&a){const r=o.$implicit,t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.name.hasError(r.type))}}function y(a,o){if(1&a&&(e.ynx(0),e.TgZ(1,"small",18),e._uU(2),e.qZA(),e.BQk()),2&a){const r=e.oxw().$implicit;e.xp6(2),e.Oqu(r.message)}}function F(a,o){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,y,3,1,"ng-container",17),e.qZA()),2&a){const r=o.$implicit,t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.email.hasError(r.type))}}function P(a,o){if(1&a&&(e.ynx(0),e.TgZ(1,"small",18),e._uU(2),e.qZA(),e.BQk()),2&a){const r=e.oxw().$implicit;e.xp6(2),e.Oqu(r.message)}}function w(a,o){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,P,3,1,"ng-container",17),e.qZA()),2&a){const r=o.$implicit,t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.mobile.hasError(r.type))}}function x(a,o){if(1&a&&(e.ynx(0),e.TgZ(1,"small",18),e._uU(2),e.qZA(),e.BQk()),2&a){const r=e.oxw().$implicit;e.xp6(2),e.Oqu(r.message)}}function b(a,o){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,x,3,1,"ng-container",17),e.qZA()),2&a){const r=o.$implicit,t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.aadhaarno.hasError(r.type))}}function T(a,o){if(1&a&&(e.ynx(0),e.TgZ(1,"small",18),e._uU(2),e.qZA(),e.BQk()),2&a){const r=e.oxw().$implicit;e.xp6(2),e.Oqu(r.message)}}function k(a,o){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,T,3,1,"ng-container",17),e.qZA()),2&a){const r=o.$implicit,t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.password.hasError(r.type))}}function I(a,o){if(1&a&&(e.ynx(0),e.TgZ(1,"small",18),e._uU(2),e.qZA(),e.BQk()),2&a){const r=e.oxw().$implicit;e.xp6(2),e.Oqu(r.message)}}function U(a,o){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,I,3,1,"ng-container",17),e.qZA()),2&a){const r=o.$implicit,t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.cpassword.hasError(r.type))}}const A=[{path:"",component:(()=>{class a{constructor(r,t,s,n,u,S,R){this.router=r,this.modalCtrl=t,this.actionSheetController=s,this.pluginServices=n,this.auth=u,this.firestore=S,this.formBuilder=R,this.aadharFrontImg="",this.aadharBackImg="",this.passwordShow=!1,this.passwordShowType="password",this.isExist=!1,this.registerForm=this.formBuilder.group({name:["",[i.kI.required,i.kI.pattern("^[a-zA-Z ]+$")]],email:["",[i.kI.required,i.kI.pattern("[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,3}$")]],mobile:["",[i.kI.required,i.kI.pattern("^[0-9]{10}"),i.kI.minLength(10),i.kI.maxLength(10)]],aadhaarno:["",[i.kI.required,i.kI.pattern("^[0-9]{12}"),i.kI.maxLength(12),i.kI.minLength(12)]],password:["",[i.kI.required]],cpassword:["",[i.kI.required]],passwordShow:[!1,[]]}),this.errorMessages={name:[{type:"required",message:"Please\xa0enter name"},{type:"pattern",message:"Please\xa0enter valid name"}],email:[{type:"required",message:"Please\xa0enter email"},{type:"pattern",message:"Please\xa0enter valid email"}],mobile:[{type:"required",message:"Please\xa0enter mobile number"},{type:"pattern",message:"Please\xa0enter valid number"},{type:"minLength",message:"Phone number should be 10 digits"},{type:"maxLength",message:"Phone number should be 10 digits"}],aadhaarno:[{type:"required",message:"Please\xa0enter aadhaar number"},{type:"pattern",message:"Please\xa0enter valid number"},{type:"minLength",message:"Aadhaar number should be 12 digits"},{type:"maxLength",message:"Aadhaar number should be 12 digits"}],password:[{type:"required",message:"Please\xa0enter password"}],cpassword:[{type:"required",message:"Please\xa0enter password"}]}}ngOnInit(){}get errorControl(){return this.registerForm.controls}get name(){return this.registerForm.get("name")}get email(){return this.registerForm.get("email")}get mobile(){return this.registerForm.get("mobile")}get aadhaarno(){return this.registerForm.get("aadhaarno")}get password(){return this.registerForm.get("password")}get cpassword(){return this.registerForm.get("cpassword")}goto(r){this.router.navigate([r])}imageOptionPopup(r){var t=this;return(0,m.Z)(function*(){var n;console.log(r),t.imageName=r,yield(yield t.actionSheetController.create({cssClass:"small-togglePopup",buttons:[{cssClass:"camera-icon",text:"camera",icon:"camera",handler:(n=(0,m.Z)(function*(){console.log("Delete clicked"),yield t.pluginServices.captureImage().then(u=>{t.clickedimage=t.pluginServices.clickedImage,"Aadhaar Front"==r?t.aadharFrontImg=t.clickedimage:t.aadharBackImg=t.clickedimage})}),function(){return n.apply(this,arguments)})},{cssClass:"gallery-icon",text:"Gallery",icon:"images",handler:()=>{t.pluginServices.selectFromDevice().then(n=>{t.clickedimage=t.pluginServices.clickedImage,"Aadhaar Front"==r?t.aadharFrontImg=t.clickedimage:t.aadharBackImg=t.clickedimage})}},{text:"Cancel",role:"cancel",handler:()=>{console.log("Cancel clicked")}}]})).present()})()}signup(){var r=this;return(0,m.Z)(function*(){if(console.log("singup"),r.isExist=!1,""!=r.registerForm.value.password.trim()&&""!=r.registerForm.value.cpassword.trim()&&r.registerForm.value.password.trim()==r.registerForm.value.cpassword.trim())if(""!=r.aadharFrontImg&&""!=r.aadharBackImg){console.log("singup check1");try{yield r.firestore.collection("users").get().subscribe(function(){var t=(0,m.Z)(function*(s){s.docs.length?(s.docs.forEach(n=>{if(console.log(n.data()),n.data().email==r.registerForm.value.email.trim()||n.data().mobile==r.registerForm.value.mobile.toString().trim())return alert("User is already exist"),void(r.isExist=!0)}),r.isExist||(yield r.firestore.collection("users").doc(r.registerForm.value.email.trim()).set({name:r.registerForm.value.name.trim(),email:r.registerForm.value.email.trim(),mobile:r.registerForm.value.mobile.toString().trim(),aadhaar:r.registerForm.value.aadhaarno.toString().trim(),aadhaarFront:r.aadharFrontImg,aadhaarBack:r.aadharBackImg,enrolledby:r.registerForm.value.email.trim(),enrolledbyName:r.registerForm.value.name.trim(),approvedbyadmin:"false",role:"agent"}).catch(n=>{console.log(n),alert("Unable to process request")}).then(n=>{console.log(n),alert("User registered sucessfully"),r.registerForm.reset(),r.aadharFrontImg="",r.aadharBackImg=""}))):yield r.firestore.collection("users").doc(r.registerForm.value.email.trim()).set({name:r.registerForm.value.name.trim(),email:r.registerForm.value.email.trim(),mobile:r.registerForm.value.mobile.toString().trim(),aadhaar:r.registerForm.value.aadhaarno.toString().trim(),aadhaarFront:r.aadharFrontImg,aadhaarBack:r.aadharBackImg,enrolledby:r.registerForm.value.email.trim(),enrolledbyName:r.registerForm.value.name.trim(),approvedbyadmin:"false",role:"agent"}).catch(n=>{console.log(n),alert("Unable to process request")}).then(n=>{console.log(n),alert("User registered sucessfully"),r.registerForm.reset(),r.aadharFrontImg="",r.aadharBackImg=""})});return function(s){return t.apply(this,arguments)}}())}catch{yield r.firestore.collection("users").doc(r.registerForm.value.email.trim()).set({name:r.registerForm.value.name.trim(),email:r.registerForm.value.email.trim(),mobile:r.registerForm.value.mobile.toString().trim(),aadhaar:r.registerForm.value.aadhaarno.toString().trim(),aadhaarFront:r.aadharFrontImg,aadhaarBack:r.aadharBackImg,enrolledby:r.registerForm.value.email.trim(),enrolledbyName:r.registerForm.value.name.trim(),approvedbyadmin:"false",role:"agent"}).catch(s=>{console.log(s),alert("Unable to process request")}).then(s=>{console.log(s),alert("User registered sucessfully"),r.registerForm.reset(),r.aadharFrontImg="",r.aadharBackImg=""})}}else alert("Please attach aadhaar card picture");else alert("Password and Confirm Password field should not be empty and should be same")})()}showPassword(){this.passwordShowType=this.passwordShow?"text":"password"}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(d.F0),e.Y36(l.IN),e.Y36(l.BX),e.Y36(h.N),e.Y36(_.zQ),e.Y36(f.ST),e.Y36(i.qu))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-register"]],decls:74,vars:13,consts:[["src","../../assets/imgs/loginscreen.PNG","height","50%","width","100%"],[1,"buttonCont"],["novalidate","",3,"formGroup"],["position","floating"],["color","danger"],["formControlName","name"],[4,"ngFor","ngForOf"],["formControlName","email"],["formControlName","mobile","type","number"],["formControlName","aadhaarno","type","number"],["formControlName","password",3,"type"],["formControlName","cpassword",3,"type"],["formControlName","passwordShow","slot","start",3,"ngModel","ngModelChange","ionChange"],["size","6",1,"loginButton",3,"click"],[3,"src"],["shape","round",1,"loginButton",3,"disabled","click"],[3,"click"],[4,"ngIf"],[1,"serror-message"]],template:function(r,t){1&r&&(e.TgZ(0,"ion-content"),e._UZ(1,"img",0),e.TgZ(2,"h3",1),e._uU(3,"Register"),e.qZA(),e.TgZ(4,"h5",1),e._uU(5,"Let's help with some details."),e.qZA(),e.TgZ(6,"form",2)(7,"ion-item")(8,"ion-label",3),e._uU(9,"Enter Your Full Name "),e.TgZ(10,"ion-text",4),e._uU(11,"*"),e.qZA()(),e._UZ(12,"ion-input",5),e.qZA(),e.YNc(13,Z,2,1,"div",6),e.TgZ(14,"ion-item")(15,"ion-label",3),e._uU(16,"Email ID "),e.TgZ(17,"ion-text",4),e._uU(18,"*"),e.qZA()(),e._UZ(19,"ion-input",7),e.qZA(),e.YNc(20,F,2,1,"div",6),e.TgZ(21,"ion-item")(22,"ion-label",3),e._uU(23,"Mobile Number "),e.TgZ(24,"ion-text",4),e._uU(25,"*"),e.qZA()(),e._UZ(26,"ion-input",8),e.qZA(),e.YNc(27,w,2,1,"div",6),e.TgZ(28,"ion-item")(29,"ion-label",3),e._uU(30,"Aadhaar Number "),e.TgZ(31,"ion-text",4),e._uU(32,"*"),e.qZA()(),e._UZ(33,"ion-input",9),e.qZA(),e.YNc(34,b,2,1,"div",6),e.TgZ(35,"ion-item")(36,"ion-label",3),e._uU(37,"Password "),e.TgZ(38,"ion-text",4),e._uU(39,"*"),e.qZA()(),e._UZ(40,"ion-input",10),e.qZA(),e.YNc(41,k,2,1,"div",6),e.TgZ(42,"ion-item")(43,"ion-label",3),e._uU(44,"Confirm Password "),e.TgZ(45,"ion-text",4),e._uU(46,"*"),e.qZA()(),e._UZ(47,"ion-input",11),e.qZA(),e.YNc(48,U,2,1,"div",6),e.TgZ(49,"ion-item")(50,"ion-checkbox",12),e.NdJ("ngModelChange",function(n){return t.passwordShow=n})("ionChange",function(){return t.showPassword()}),e.qZA(),e.TgZ(51,"ion-label"),e._uU(52,"Show Password"),e.qZA()(),e.TgZ(53,"ion-row")(54,"ion-col",13),e.NdJ("click",function(){return t.imageOptionPopup("Aadhaar Front")}),e._UZ(55,"img",14),e.TgZ(56,"p"),e._uU(57,"Adhar Front "),e.TgZ(58,"ion-text",4),e._uU(59,"*"),e.qZA()()(),e.TgZ(60,"ion-col",13),e.NdJ("click",function(){return t.imageOptionPopup("Aadhaar Back")}),e._UZ(61,"img",14),e.TgZ(62,"p"),e._uU(63,"Adhar Back "),e.TgZ(64,"ion-text",4),e._uU(65,"*"),e.qZA()()()(),e.TgZ(66,"div",1)(67,"ion-button",15),e.NdJ("click",function(){return t.signup()}),e._uU(68,"Sign Up"),e.qZA()(),e._UZ(69,"br"),e.TgZ(70,"div",1)(71,"a",16),e.NdJ("click",function(){return t.goto("login")}),e._uU(72,"Already have an account ? Sign In"),e.qZA()(),e._UZ(73,"br"),e.qZA()()),2&r&&(e.xp6(6),e.Q6J("formGroup",t.registerForm),e.xp6(7),e.Q6J("ngForOf",t.errorMessages.name),e.xp6(7),e.Q6J("ngForOf",t.errorMessages.email),e.xp6(7),e.Q6J("ngForOf",t.errorMessages.mobile),e.xp6(7),e.Q6J("ngForOf",t.errorMessages.aadhaarno),e.xp6(6),e.s9C("type",t.passwordShowType),e.xp6(1),e.Q6J("ngForOf",t.errorMessages.password),e.xp6(6),e.s9C("type",t.passwordShowType),e.xp6(1),e.Q6J("ngForOf",t.errorMessages.cpassword),e.xp6(2),e.Q6J("ngModel",t.passwordShow),e.xp6(5),e.Q6J("src",""==t.aadharFrontImg?"../../assets/imgs/logo.png":t.aadharFrontImg,e.LSH),e.xp6(6),e.Q6J("src",""==t.aadharBackImg?"../../assets/imgs/logo.png":t.aadharBackImg,e.LSH),e.xp6(6),e.Q6J("disabled",!t.registerForm.valid))},dependencies:[c.sg,c.O5,i._Y,i.JJ,i.JL,l.YG,l.nz,l.wI,l.W2,l.pK,l.Ie,l.Q$,l.Nd,l.yW,l.w,l.as,l.j9,i.sg,i.u],styles:[".loginButton[_ngcontent-%COMP%], .buttonCont[_ngcontent-%COMP%]{text-align:center}.rrr[_ngcontent-%COMP%]{height:13%;margin-top:168%}.form-bg[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:#a39f9f}.form-bg[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{color:#424242}.form-bg[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{margin-bottom:10px}.item-inner[_ngcontent-%COMP%]{flex-direction:row-reverse!important}.icon-uplod[_ngcontent-%COMP%]{color:#5c46f2!important;margin:17px -13px -33px 0!important;background-color:transparent;font-size:27px;padding:0 0 12px}.uplod-file-name[_ngcontent-%COMP%]{color:#5c46f2!important}.serror-message[_ngcontent-%COMP%]{color:#f20e0e}"]}),a})()}];let q=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[d.Bz.forChild(A),d.Bz]}),a})(),C=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[c.ez,i.u5,l.Pc,q,i.UX]}),a})()}}]);