{"version":3,"file":"src_app_adminpendingagents_adminpendingagents_module_ts.js","mappings":"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","sources":["./src/app/adminpendingagents/adminpendingagents-routing.module.ts","./src/app/adminpendingagents/adminpendingagents.module.ts","./src/app/adminpendingagents/adminpendingagents.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AdminpendingagentsPage } from './adminpendingagents.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AdminpendingagentsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AdminpendingagentsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AdminpendingagentsPageRoutingModule } from './adminpendingagents-routing.module';\n\nimport { AdminpendingagentsPage } from './adminpendingagents.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    AdminpendingagentsPageRoutingModule\n  ],\n  declarations: [AdminpendingagentsPage]\n})\nexport class AdminpendingagentsPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { AngularFireAuth } from '@angular/fire/compat/auth';\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\nimport { CommondataService } from '../services/commondata.service';\n\n@Component({\n  selector: 'app-adminpendingagents',\n  templateUrl: './adminpendingagents.page.html',\n  styleUrls: ['./adminpendingagents.page.scss'],\n})\nexport class AdminpendingagentsPage implements OnInit {\n  users: any=[];\n  allMembers: any;\n\n  constructor(public firestore:AngularFirestore,public commondataService:CommondataService,public auth:AngularFireAuth) { }\n\n  ngOnInit() {\n    \n  }\n\n  ionViewWillEnter(){\n    this.users = this.commondataService.allPendingAgents;\n  }\n\n async reject(email,i){\nconsole.log(email,i);\nfor(var j = 0;j<this.users.length;j++)\nif(this.users[j].email == email){\n  await this.firestore.collection(\"users\").doc(email).update({\n    \"approvedbyadmin\":'disabled',\n             }).catch((error) => {\n              console.log(error);\n              alert(\"Unable to process request\");\n              return;\n             }).then((userResult) => {\n              console.log(userResult);\n              this.users.splice(i,1)\n              // this.commondataService.allPendingAgents.splice(i,1)\n              //  this.goto('login');\n              return;\n             })\n}\n  }\n\n  async approve(email,i){\n    console.log(email,i);\n    for(var j = 0;j<this.users.length;j++)\n    if(this.users[j].email == email){\n      await this.firestore.collection(\"users\").doc(email).update({\n        \"approvedbyadmin\":'true',\n                 }).catch((error) => {\n                  console.log(error);\n                  alert(\"Unable to process request\");\n                  return;\n                 }).then((userResult) => {\n                  console.log(userResult);\n                  this.users.splice(i,1)\n                  // this.commondataService.allPendingAgents.splice(i,1)\n                  this.auth.createUserWithEmailAndPassword(email.trim(),'123456').then(async (data)=>{\n        console.log(data);  \n                }\n        ).catch((err) => {\n          console.log(err);\n          console.log(JSON.parse(JSON.stringify(err)));\n          \n          var errMsg:any = JSON.parse(JSON.stringify(err))\n          errMsg = errMsg.code;\n          if(errMsg == 'auth/email-already-in-use'){\n            alert(\"The email address is already in use by another account.\")\n          }\n        })\n                  //  this.goto('login');\n                  return;\n                 })\n    }\n      }\n\n}\n"],"names":["Component","AngularFireAuth","AngularFirestore","CommondataService","AdminpendingagentsPage","constructor","firestore","commondataService","auth","ngOnInit","ionViewWillEnter","users","allPendingAgents","reject","email","i","console","log","j","length","collection","doc","update","catch","error","alert","then","userResult","splice","approve","createUserWithEmailAndPassword","trim","data","err","JSON","parse","stringify","errMsg","code","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}