{"version":3,"file":"src_app_dashboard_dashboard_module_ts.js","mappings":"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","sources":["./src/app/dashboard/dashboard-routing.module.ts","./src/app/dashboard/dashboard.module.ts","./src/app/dashboard/dashboard.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DashboardPage } from './dashboard.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DashboardPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DashboardPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DashboardPageRoutingModule } from './dashboard-routing.module';\n\nimport { DashboardPage } from './dashboard.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    DashboardPageRoutingModule\n  ],\n  declarations: [DashboardPage]\n})\nexport class DashboardPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\nimport { Router } from '@angular/router';\nimport { CommondataService } from '../services/commondata.service';\nimport { map } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.page.html',\n  styleUrls: ['./dashboard.page.scss'],\n})\nexport class DashboardPage implements OnInit {\n  yearValues = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30];\n  dashboard:any ={};\n  userRole: any;\n  top5Records:any = [];\n  top5 = true\n  businessRef: any;\n  reportData: any;\n  downloaddata: any = [];\n  top5RecordsSaved: any=[];\n  paidAmount: number;\n  pendingAmount: any;\n  constructor(public router:Router,public firestore:AngularFirestore,public commondataService:CommondataService) {\n    this.dashboard.totalredeem = \"0\";\n    this.dashboard.invalidcases = \"0\";\n    this.dashboard.totalcases = \"0\";\n    this.dashboard.totalpaid =\"0\";\n    this.dashboard.totalpending =\"0\";\n    this.userRole = JSON.parse(localStorage.userData)['role'];\n    if(this.userRole == 'agent'){\n      this.top5 = true\n      this.firestore.collection(\"business\", ref => ref.where('agent', \"==\", JSON.parse(localStorage.userData)['email']).limit(5)).get().subscribe((doc:any)=>{\n        console.log(\"Top 5 docs here\");      \n        console.log(doc);\n        // this.dashboard.top5 = doc.docs.length;\n        doc.docs.forEach((snapDoc)=>{\n          console.log(snapDoc.data());\n          var temp:any = snapDoc.data();\n          console.log(temp);\n          temp.id = snapDoc.id;\n          this.top5Records.push(temp);\n          this.top5RecordsSaved.push(temp);\n          // this.commondataService.allPendingBusiness.push(temp);\n        })\n        // this.curentUser.email\n       })\n       console.log(this.commondataService.allPendingBusiness);\n\n      this.firestore.collection(\"business\", ref => ref.where('agent', \"==\", JSON.parse(localStorage.userData)['email'])).get().subscribe((doc:any)=>{\n        console.log(\"all docs here\");      \n        console.log(doc);\n        this.paidAmount = 0;\n        this.pendingAmount = 0;\n        this.dashboard.totalcases = doc.docs.length;\n        doc.docs.forEach((snapDoc)=>{\n          console.log(snapDoc.data());\n          var temp:any = snapDoc.data();\n          console.log(temp);\n          temp.id = snapDoc.id;\n          if(temp.agentPaid == 'true'){\n            this.paidAmount = this.paidAmount + temp.amountToPayAgent?temp.amountToPayAgent:0;\n          }else if(temp.agentPaid == 'false'){\n            this.pendingAmount = this.pendingAmount + temp.amountToPayAgent?temp.amountToPayAgent:0;\n          }\n          this.commondataService.allPendingBusiness.push(temp);\n        })\n        this.dashboard.totalpaid = this.paidAmount;\n        this.dashboard.totalpending = this.pendingAmount;\n        // this.curentUser.email\n       })\n       \n       console.log(this.commondataService.allPendingBusiness);\n\n       this.firestore.collection(\"business\", ref => ref.where('agent', \"==\", JSON.parse(localStorage.userData)['email']).where('approvedbyadmin',\"==\",'R')).get().subscribe((doc:any)=>{\n        console.log(\"all docs here\");      \n        console.log(doc);\n        this.dashboard.invalidcases = doc.docs.length;\n        doc.docs.forEach((snapDoc)=>{\n          console.log(snapDoc.data());\n          var temp:any = snapDoc.data();\n          console.log(temp);\n          temp.id = snapDoc.id;\n          this.commondataService.allInvalidBusiness.push(temp);\n        })\n        // this.curentUser.email\n       })\n       console.log(this.commondataService.allInvalidBusiness);\n    }else{\n      this.top5 = false;\n      this.firestore.collection(\"business\", ref => ref.where('createdBy', \"==\", JSON.parse(localStorage.userData)['email'])).get().subscribe((doc:any)=>{\n        console.log(\"all docs here\");      \n        console.log(doc);\n        this.paidAmount = 0;\n        this.pendingAmount = 0;\n        this.dashboard.totalcases = doc.docs.length;\n        doc.docs.forEach((snapDoc)=>{\n          console.log(snapDoc.data());\n          var temp:any = snapDoc.data();\n          console.log(temp);\n          temp.id = snapDoc.id;\n          if(temp.amountToPaySubAgent == 'true'){\n            this.paidAmount = this.paidAmount + temp.amountToPaySubAgent?temp.amountToPaySubAgent:0;\n          }else if(temp.amountToPaySubAgent == 'false'){\n            this.pendingAmount = this.pendingAmount + temp.amountToPaySubAgent?temp.amountToPaySubAgent:0;\n          }\n          this.commondataService.allPendingBusiness.push(temp);\n        })\n        this.dashboard.totalpaid = this.paidAmount;\n        this.dashboard.totalpending = this.pendingAmount;\n        // this.curentUser.email\n       })\n       console.log(this.commondataService.allPendingBusiness);\n\n       this.firestore.collection(\"business\", ref => ref.where('createdBy', \"==\", JSON.parse(localStorage.userData)['email']).where('approvedbyadmin',\"==\",'R')).get().subscribe((doc:any)=>{\n        console.log(\"all docs here\");      \n        console.log(doc);\n        this.dashboard.invalidcases = doc.docs.length;\n        doc.docs.forEach((snapDoc)=>{\n          console.log(snapDoc.data());\n          var temp:any = snapDoc.data();\n          console.log(temp);\n          temp.id = snapDoc.id;\n          this.commondataService.allInvalidBusiness.push(temp);\n        })\n\n        // this.curentUser.email\n       })\n       console.log(this.commondataService.allInvalidBusiness);\n\n    }\n\n   }\ngoto(page){\n  this.router.navigate([page]);\n}\nsearchBusiness(input){\n  console.log(input);\nthis.top5Records = this.top5RecordsSaved.filter((user:any)=>{\n  if((user.name.toString()).includes(input.target.value)){\n    return user;\n  }else if((user.lanNo.toString()).includes(input.target.value.toString())){\n    return user;\n  }\n})\n  // this.firestore.collection(\"business\", ref => ref.where('name', \"==\", input || 'lanNo', \"==\", input || 'createdBy', \"==\", input)).get().subscribe((doc:any)=>{\n  //   console.log(\"Top 5 docs here\");      \n  //   console.log(doc);\n  //   // this.dashboard.top5 = doc.docs.length;\n  //   doc.docs.forEach((snapDoc)=>{\n  //     console.log(snapDoc.data());\n  //     var temp:any = snapDoc.data();\n  //     console.log(temp);\n  //     temp.id = snapDoc.id;\n  //     this.top5Records.push(temp);\n  //     // this.commondataService.allPendingBusiness.push(temp);\n  //   })\n  //   // this.curentUser.email\n  //  })\n}\n  ngOnInit() {\n  }\n  async exportReport(){\n\n   await this.firestore.collection(\"business\", ref => ref.where('createdBy', \"==\", JSON.parse(localStorage.userData)['email'])).get().subscribe((doc:any)=>{ \n      this.reportData = doc.docs;\n      doc.docs.forEach((row) => {\n      console.log(row.data());\n      \n      this.downloaddata.push({\n        \"Business Name\":row.data().name?row.data().name:'',\n        \"Lan Number\":row.data().lanNo?row.data().lanNo:'',\n        \"Created By Email\":row.data().createdBy?row.data().createdBy:'',\n        \"Created By Name\":row.data().createdByName?row.data().createdByName:'',\n        \"Disbused Amount\":row.data().disbursedAmount?row.data().disbursedAmount:'',\n        \"Disbused Date\":row.data().disburseDate?row.data().disburseDate:'',\n        \"QC Status\":row.data().approvedbyadmin == 'R'?'Reject':row.data().approvedbyadmin == 'P'?'Pending':row.data().approvedbyadmin == 'H'?'Hold':row.data().approvedbyadmin == 'Paid'?'Paid':'NA',\n        \"Agent Paymet\":row.data().amountToPayAgent?row.data().amountToPayAgent:'',\n        \"Sub Agent Payment\":row.data().amountToPaySubAgent?row.data().amountToPaySubAgent:''\n}) \n      })\n      const csvData = this.objectToCsv(this.downloaddata);\n      console.log(csvData);\n      \n    this.download(csvData);\n    })\n\n    \n\n    //  const downloaddata = this.reportData.map(row => ({\n    //   Data:'yes'\n    // }))\n    \n  }\n\n  objectToCsv(data) {\n    if (data.length != 0) {\n      const CsvRows = []\n      //get header\n      const headers = Object.keys(data[0]);\n      CsvRows.push(headers.join(','));\n      for (const row of data) {\n        const values = headers.map(header => {\n          const escaped = ('' + row[header]).replace(/\"/g, '\\\\\"');\n          return `\"${escaped}\"`;\n        })\n        CsvRows.push(values.join(','))\n      }\n      return CsvRows.join('\\n');\n    } else {\n      alert(\"No Data Found\")\n      return\n    }\n  }\n\n  download(data) {\n    console.log(data);\n    \n    const blob = new Blob([data], { type: 'text/csv' });\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.setAttribute('hidden', '');\n    a.setAttribute('href', url);\n    a.setAttribute('download', 'download.csv');\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n  }\n}\n"],"names":["Component","AngularFirestore","Router","CommondataService","DashboardPage","constructor","router","firestore","commondataService","dashboard","totalredeem","invalidcases","totalcases","totalpaid","totalpending","userRole","JSON","parse","localStorage","userData","top5","collection","ref","where","limit","get","subscribe","doc","console","log","docs","forEach","snapDoc","data","temp","id","top5Records","push","top5RecordsSaved","allPendingBusiness","paidAmount","pendingAmount","length","agentPaid","amountToPayAgent","allInvalidBusiness","amountToPaySubAgent","goto","page","navigate","searchBusiness","input","filter","user","name","toString","includes","target","value","lanNo","ngOnInit","exportReport","reportData","row","downloaddata","createdBy","createdByName","disbursedAmount","disburseDate","approvedbyadmin","csvData","objectToCsv","download","CsvRows","headers","Object","keys","join","values","map","header","escaped","replace","alert","blob","Blob","type","url","window","URL","createObjectURL","a","document","createElement","setAttribute","body","appendChild","click","removeChild","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}