"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7141],{7141:(M,d,r)=>{r.r(d),r.d(d,{AddmemberPageModule:()=>A});var c=r(6895),m=r(4719),i=r(191),u=r(5181),g=r(5861),e=r(4650),h=r(4941),b=r(2796);const p=[{path:"",component:(()=>{class t{constructor(n,o){this.auth=n,this.firestore=o,this.addbtn=!0,this.name="",this.email="",this.mobile="",this.phoneReg="/^[0-9]+${10}/"}ngOnInit(){}showBtn(){this.addbtn=""==this.name||""==this.email||""==this.mobile,console.log(this.addbtn)}addMember(){var n=this;return(0,g.Z)(function*(){/^[0-9]+$/.test(n.mobile)&&10==n.mobile.toString().length?/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$/.test(n.email)?/^[a-zA-Z ]+$/.test(n.name)?(n.curentUser=JSON.parse(localStorage.userData),console.log(n.curentUser),console.log(n.curentUser.email),n.auth.createUserWithEmailAndPassword(n.email.trim(),n.mobile.toString().trim()).then(function(){var o=(0,g.Z)(function*(a){console.log(a),a.user.uid&&(yield n.firestore.collection("users").doc(n.email.trim()).set({name:n.name.trim(),email:n.email.trim(),mobile:n.mobile,enrolledby:n.curentUser.email,role:"subagent"}).catch(l=>{console.log(l),alert("Unable to process request")}).then(l=>{console.log(l),alert("Sub Agent registered sucessfully"),n.name="",n.email="",n.mobile=""}))});return function(a){return o.apply(this,arguments)}}()).catch(o=>{console.log(o),console.log(JSON.parse(JSON.stringify(o)));var a=JSON.parse(JSON.stringify(o));"auth/email-already-in-use"==(a=a.code)&&alert("The email address is already in use by another account.")})):alert("Please enter a valid name"):alert("Please enter a valid email id"):alert("Please enter a valid mobile number")})()}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(h.zQ),e.Y36(b.ST))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-addmember"]],decls:29,vars:4,consts:[[1,"header-color"],["slot","start"],["src","../../assets/imgs/addmembers.png","height","35%","width","100%"],["position","floating"],["color","danger"],["requred","",3,"ngModel","ngModelChange","ionChange"],["type","number","requred","",3,"ngModel","ngModelChange","ionChange"],[1,"buttonCont"],[1,"loginButton",3,"disabled","click"]],template:function(n,o){1&n&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),e._UZ(3,"ion-back-button"),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"Add Member"),e.qZA()()(),e.TgZ(6,"ion-content"),e._UZ(7,"img",2),e.TgZ(8,"ion-item")(9,"ion-label",3),e._uU(10,"Enter Your Full Name "),e.TgZ(11,"ion-text",4),e._uU(12,"*"),e.qZA()(),e.TgZ(13,"ion-input",5),e.NdJ("ngModelChange",function(l){return o.name=l})("ionChange",function(){return o.showBtn()}),e.qZA()(),e.TgZ(14,"ion-item")(15,"ion-label",3),e._uU(16,"Email ID "),e.TgZ(17,"ion-text",4),e._uU(18,"*"),e.qZA()(),e.TgZ(19,"ion-input",5),e.NdJ("ngModelChange",function(l){return o.email=l})("ionChange",function(){return o.showBtn()}),e.qZA()(),e.TgZ(20,"ion-item")(21,"ion-label",3),e._uU(22,"Mobile Number "),e.TgZ(23,"ion-text",4),e._uU(24,"*"),e.qZA()(),e.TgZ(25,"ion-input",6),e.NdJ("ngModelChange",function(l){return o.mobile=l})("ionChange",function(){return o.showBtn()}),e.qZA()(),e.TgZ(26,"div",7)(27,"ion-button",8),e.NdJ("click",function(){return o.addMember()}),e._uU(28,"Add Member"),e.qZA()()()),2&n&&(e.xp6(13),e.Q6J("ngModel",o.name),e.xp6(6),e.Q6J("ngModel",o.email),e.xp6(6),e.Q6J("ngModel",o.mobile),e.xp6(2),e.Q6J("disabled",o.addbtn))},dependencies:[m.JJ,m.On,i.oU,i.YG,i.Sm,i.W2,i.Gu,i.pK,i.Ie,i.Q$,i.yW,i.wd,i.sr,i.as,i.j9,i.cs],styles:[".loginButton[_ngcontent-%COMP%], .buttonCont[_ngcontent-%COMP%]{text-align:center}"]}),t})()}];let f=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[u.Bz.forChild(p),u.Bz]}),t})(),A=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[c.ez,m.u5,i.Pc,f]}),t})()}}]);