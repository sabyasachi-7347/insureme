"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7826],{7826:(O,u,s)=>{s.r(u),s.d(u,{RegisterPageModule:()=>U});var m=s(6895),n=s(4719),i=s(191),c=s(5181),d=s(5861),e=s(4650),h=s(5827),_=s(4941),f=s(2796);function Z(a,o){if(1&a&&(e.ynx(0),e.TgZ(1,"small",18),e._uU(2),e.qZA(),e.BQk()),2&a){const r=e.oxw().$implicit;e.xp6(2),e.Oqu(r.message)}}function P(a,o){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,Z,3,1,"ng-container",17),e.qZA()),2&a){const r=o.$implicit,t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.name.hasError(r.type))}}function v(a,o){if(1&a&&(e.ynx(0),e.TgZ(1,"small",18),e._uU(2),e.qZA(),e.BQk()),2&a){const r=e.oxw().$implicit;e.xp6(2),e.Oqu(r.message)}}function w(a,o){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,v,3,1,"ng-container",17),e.qZA()),2&a){const r=o.$implicit,t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.email.hasError(r.type))}}function T(a,o){if(1&a&&(e.ynx(0),e.TgZ(1,"small",18),e._uU(2),e.qZA(),e.BQk()),2&a){const r=e.oxw().$implicit;e.xp6(2),e.Oqu(r.message)}}function x(a,o){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,T,3,1,"ng-container",17),e.qZA()),2&a){const r=o.$implicit,t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.mobile.hasError(r.type))}}function y(a,o){if(1&a&&(e.ynx(0),e.TgZ(1,"small",18),e._uU(2),e.qZA(),e.BQk()),2&a){const r=e.oxw().$implicit;e.xp6(2),e.Oqu(r.message)}}function b(a,o){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,y,3,1,"ng-container",17),e.qZA()),2&a){const r=o.$implicit,t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.aadhaarno.hasError(r.type))}}function k(a,o){if(1&a&&(e.ynx(0),e.TgZ(1,"small",18),e._uU(2),e.qZA(),e.BQk()),2&a){const r=e.oxw().$implicit;e.xp6(2),e.Oqu(r.message)}}function F(a,o){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,k,3,1,"ng-container",17),e.qZA()),2&a){const r=o.$implicit,t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.password.hasError(r.type))}}function A(a,o){if(1&a&&(e.ynx(0),e.TgZ(1,"small",18),e._uU(2),e.qZA(),e.BQk()),2&a){const r=e.oxw().$implicit;e.xp6(2),e.Oqu(r.message)}}function I(a,o){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,A,3,1,"ng-container",17),e.qZA()),2&a){const r=o.$implicit,t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.cpassword.hasError(r.type))}}const C=[{path:"",component:(()=>{class a{constructor(r,t,g,l,p,R,M){this.router=r,this.modalCtrl=t,this.actionSheetController=g,this.pluginServices=l,this.auth=p,this.firestore=R,this.formBuilder=M,this.aadharFrontImg="",this.aadharBackImg="",this.passwordShow=!1,this.passwordShowType="password",this.registerForm=this.formBuilder.group({name:["",[n.kI.required,n.kI.pattern("^[a-zA-Z ]+$")]],email:["",[n.kI.required,n.kI.pattern("[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,3}$")]],mobile:["",[n.kI.required,n.kI.pattern("^[0-9]{10}"),n.kI.minLength(10),n.kI.maxLength(10)]],aadhaarno:["",[n.kI.required,n.kI.pattern("^[0-9]{12}"),n.kI.maxLength(12),n.kI.minLength(12)]],password:["",[n.kI.required]],cpassword:["",[n.kI.required]],passwordShow:[!1,[]]}),this.errorMessages={name:[{type:"required",message:"Please\xa0enter name"},{type:"pattern",message:"Please\xa0enter valid name"}],email:[{type:"required",message:"Please\xa0enter email"},{type:"pattern",message:"Please\xa0enter valid email"}],mobile:[{type:"required",message:"Please\xa0enter mobile number"},{type:"pattern",message:"Please\xa0enter valid number"},{type:"minLength",message:"Phone number should be 10 digits"},{type:"maxLength",message:"Phone number should be 10 digits"}],aadhaarno:[{type:"required",message:"Please\xa0enter aadhaar number"},{type:"pattern",message:"Please\xa0enter valid number"},{type:"minLength",message:"Aadhaar number should be 12 digits"},{type:"maxLength",message:"Aadhaar number should be 12 digits"}],password:[{type:"required",message:"Please\xa0enter password"}],cpassword:[{type:"required",message:"Please\xa0enter password"}]}}ngOnInit(){}get errorControl(){return this.registerForm.controls}get name(){return this.registerForm.get("name")}get email(){return this.registerForm.get("email")}get mobile(){return this.registerForm.get("mobile")}get aadhaarno(){return this.registerForm.get("aadhaarno")}get password(){return this.registerForm.get("password")}get cpassword(){return this.registerForm.get("cpassword")}goto(r){this.router.navigate([r])}imageOptionPopup(r){var t=this;return(0,d.Z)(function*(){var l;console.log(r),t.imageName=r,yield(yield t.actionSheetController.create({cssClass:"small-togglePopup",buttons:[{cssClass:"camera-icon",text:"camera",icon:"camera",handler:(l=(0,d.Z)(function*(){console.log("Delete clicked"),yield t.pluginServices.captureImage().then(p=>{t.clickedimage=t.pluginServices.clickedImage,"Aadhaar Front"==r?t.aadharFrontImg=t.clickedimage:t.aadharBackImg=t.clickedimage})}),function(){return l.apply(this,arguments)})},{cssClass:"gallery-icon",text:"Gallery",icon:"images",handler:()=>{t.pluginServices.selectFromDevice().then(l=>{t.clickedimage=t.pluginServices.clickedImage,"Aadhaar Front"==r?t.aadharFrontImg=t.clickedimage:t.aadharBackImg=t.clickedimage})}},{text:"Cancel",role:"cancel",handler:()=>{console.log("Cancel clicked")}}]})).present()})()}signup(){var r=this;return(0,d.Z)(function*(){""!=r.registerForm.value.password.trim()&&""!=r.registerForm.value.cpassword.trim()&&r.registerForm.value.password.trim()==r.registerForm.value.cpassword.trim()?""!=r.aadharFrontImg&&""!=r.aadharBackImg?yield r.firestore.collection("users").doc(r.registerForm.value.email.trim()).set({name:r.registerForm.value.name.trim(),email:r.registerForm.value.email.trim(),mobile:r.registerForm.value.mobile.toString().trim(),aadhaar:r.registerForm.value.aadhaarno.toString().trim(),aadhaarFront:r.aadharFrontImg,aadhaarBack:r.aadharBackImg,enrolledby:r.registerForm.value.email.trim(),enrolledbyName:r.registerForm.value.name.trim(),approvedbyadmin:"false",role:"agent"}).catch(t=>{console.log(t),alert("Unable to process request")}).then(t=>{console.log(t),alert("User registered sucessfully"),r.registerForm.reset(),r.aadharFrontImg="",r.aadharBackImg=""}):alert("Please attach aadhaar card picture"):alert("Password and Confirm Password field should not be empty and should be same")})()}showPassword(){this.passwordShowType=this.passwordShow?"text":"password"}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(c.F0),e.Y36(i.IN),e.Y36(i.BX),e.Y36(h.N),e.Y36(_.zQ),e.Y36(f.ST),e.Y36(n.qu))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-register"]],decls:74,vars:13,consts:[["src","../../assets/imgs/loginscreen.PNG","height","50%","width","100%"],[1,"buttonCont"],["novalidate","",3,"formGroup"],["position","floating"],["color","danger"],["formControlName","name"],[4,"ngFor","ngForOf"],["formControlName","email"],["formControlName","mobile","type","number"],["formControlName","aadhaarno","type","number"],["formControlName","password",3,"type"],["formControlName","cpassword",3,"type"],["formControlName","passwordShow","slot","start",3,"ngModel","ngModelChange","ionChange"],["size","6",1,"loginButton",3,"click"],[3,"src"],[1,"loginButton",3,"disabled","click"],[3,"click"],[4,"ngIf"],[1,"serror-message"]],template:function(r,t){1&r&&(e.TgZ(0,"ion-content"),e._UZ(1,"img",0),e.TgZ(2,"h3",1),e._uU(3,"Register"),e.qZA(),e.TgZ(4,"h5",1),e._uU(5,"Let's help with some details."),e.qZA(),e.TgZ(6,"form",2)(7,"ion-item")(8,"ion-label",3),e._uU(9,"Enter Your Full Name "),e.TgZ(10,"ion-text",4),e._uU(11,"*"),e.qZA()(),e._UZ(12,"ion-input",5),e.qZA(),e.YNc(13,P,2,1,"div",6),e.TgZ(14,"ion-item")(15,"ion-label",3),e._uU(16,"Email ID "),e.TgZ(17,"ion-text",4),e._uU(18,"*"),e.qZA()(),e._UZ(19,"ion-input",7),e.qZA(),e.YNc(20,w,2,1,"div",6),e.TgZ(21,"ion-item")(22,"ion-label",3),e._uU(23,"Mobile Number "),e.TgZ(24,"ion-text",4),e._uU(25,"*"),e.qZA()(),e._UZ(26,"ion-input",8),e.qZA(),e.YNc(27,x,2,1,"div",6),e.TgZ(28,"ion-item")(29,"ion-label",3),e._uU(30,"Aadhaar Number "),e.TgZ(31,"ion-text",4),e._uU(32,"*"),e.qZA()(),e._UZ(33,"ion-input",9),e.qZA(),e.YNc(34,b,2,1,"div",6),e.TgZ(35,"ion-item")(36,"ion-label",3),e._uU(37,"Password "),e.TgZ(38,"ion-text",4),e._uU(39,"*"),e.qZA()(),e._UZ(40,"ion-input",10),e.qZA(),e.YNc(41,F,2,1,"div",6),e.TgZ(42,"ion-item")(43,"ion-label",3),e._uU(44,"Confirm Password "),e.TgZ(45,"ion-text",4),e._uU(46,"*"),e.qZA()(),e._UZ(47,"ion-input",11),e.qZA(),e.YNc(48,I,2,1,"div",6),e.TgZ(49,"ion-item")(50,"ion-checkbox",12),e.NdJ("ngModelChange",function(l){return t.passwordShow=l})("ionChange",function(){return t.showPassword()}),e.qZA(),e.TgZ(51,"ion-label"),e._uU(52,"Show Password"),e.qZA()(),e.TgZ(53,"ion-row")(54,"ion-col",13),e.NdJ("click",function(){return t.imageOptionPopup("Aadhaar Front")}),e._UZ(55,"img",14),e.TgZ(56,"p"),e._uU(57,"Adhar Front "),e.TgZ(58,"ion-text",4),e._uU(59,"*"),e.qZA()()(),e.TgZ(60,"ion-col",13),e.NdJ("click",function(){return t.imageOptionPopup("Aadhaar Back")}),e._UZ(61,"img",14),e.TgZ(62,"p"),e._uU(63,"Adhar Back "),e.TgZ(64,"ion-text",4),e._uU(65,"*"),e.qZA()()()(),e.TgZ(66,"div",1)(67,"ion-button",15),e.NdJ("click",function(){return t.signup()}),e._uU(68,"Sign Up"),e.qZA()(),e._UZ(69,"br"),e.TgZ(70,"div",1)(71,"a",16),e.NdJ("click",function(){return t.goto("login")}),e._uU(72,"Already have an account ? Sign In"),e.qZA()(),e._UZ(73,"br"),e.qZA()()),2&r&&(e.xp6(6),e.Q6J("formGroup",t.registerForm),e.xp6(7),e.Q6J("ngForOf",t.errorMessages.name),e.xp6(7),e.Q6J("ngForOf",t.errorMessages.email),e.xp6(7),e.Q6J("ngForOf",t.errorMessages.mobile),e.xp6(7),e.Q6J("ngForOf",t.errorMessages.aadhaarno),e.xp6(6),e.s9C("type",t.passwordShowType),e.xp6(1),e.Q6J("ngForOf",t.errorMessages.password),e.xp6(6),e.s9C("type",t.passwordShowType),e.xp6(1),e.Q6J("ngForOf",t.errorMessages.cpassword),e.xp6(2),e.Q6J("ngModel",t.passwordShow),e.xp6(5),e.Q6J("src",""==t.aadharFrontImg?"../../assets/imgs/logo.png":t.aadharFrontImg,e.LSH),e.xp6(6),e.Q6J("src",""==t.aadharBackImg?"../../assets/imgs/logo.png":t.aadharBackImg,e.LSH),e.xp6(6),e.Q6J("disabled",!t.registerForm.valid))},dependencies:[m.sg,m.O5,n._Y,n.JJ,n.JL,i.YG,i.nz,i.wI,i.W2,i.pK,i.Ie,i.Q$,i.Nd,i.yW,i.w,i.as,i.j9,n.sg,n.u],styles:[".loginButton[_ngcontent-%COMP%], .buttonCont[_ngcontent-%COMP%]{text-align:center}.rrr[_ngcontent-%COMP%]{height:13%;margin-top:168%}.form-bg[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:#a39f9f}.form-bg[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{color:#424242}.form-bg[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{margin-bottom:10px}.item-inner[_ngcontent-%COMP%]{flex-direction:row-reverse!important}.icon-uplod[_ngcontent-%COMP%]{color:#5c46f2!important;margin:17px -13px -33px 0!important;background-color:transparent;font-size:27px;padding:0 0 12px}.uplod-file-name[_ngcontent-%COMP%]{color:#5c46f2!important}.serror-message[_ngcontent-%COMP%]{color:#f20e0e}"]}),a})()}];let q=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[c.Bz.forChild(C),c.Bz]}),a})(),U=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[m.ez,n.u5,i.Pc,q,n.UX]}),a})()}}]);