{"version":3,"file":"src_app_addmember_addmember_module_ts.js","mappings":"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","sources":["./src/app/addmember/addmember-routing.module.ts","./src/app/addmember/addmember.module.ts","./src/app/addmember/addmember.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AddmemberPage } from './addmember.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AddmemberPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AddmemberPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AddmemberPageRoutingModule } from './addmember-routing.module';\n\nimport { AddmemberPage } from './addmember.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    AddmemberPageRoutingModule\n  ],\n  declarations: [AddmemberPage]\n})\nexport class AddmemberPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { AngularFireAuth } from '@angular/fire/compat/auth';\nimport {\n  AngularFirestore,\n  AngularFirestoreDocument,\n} from '@angular/fire/compat/firestore';\n@Component({\n  selector: 'app-addmember',\n  templateUrl: './addmember.page.html',\n  styleUrls: ['./addmember.page.scss'],\n})\nexport class AddmemberPage implements OnInit {\n  addbtn: any = true;\n  name: any = \"\";\n  email: any = \"\";\n  mobile: any = \"\";\nphoneReg:any = '/^[0-9]+${10}/';\n  curentUser: any;\n  constructor(public auth:AngularFireAuth,public firestore:AngularFirestore,) { }\n\n  ngOnInit() {\n  }\n\n  showBtn(){\n\n    if(this.name == \"\" || this.email == \"\" || this.mobile == \"\"){\n      this.addbtn = true;\n    }else{\n      this.addbtn = false;\n    }\n    console.log(this.addbtn);\n    \n    \n  }\n  async addMember(){\n    if(!(/^[0-9]+$/.test(this.mobile)) || !(this.mobile.length == 10)){\n      alert(\"Please enter a valid mobile number\");\n      return;\n    }else if(!(/[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,3}$/.test(this.email))){\n      alert(\"Please enter a valid email id\");\n      return;\n    }else if(!(/^[a-zA-Z ]+$/.test(this.name))){\n      alert(\"Please enter a valid name\");\n      return;\n    }else\n    {\n     this.curentUser = JSON.parse(localStorage.userData);\n     console.log(this.curentUser);\n     console.log(this.curentUser.email);\n     \n     \n      this.auth.createUserWithEmailAndPassword(this.email.trim(),this.mobile.toString().trim()).then(async (data)=>{\n        console.log(data);\n        if(data.user.uid)\n        {\n          await this.firestore.collection(\"users\").doc(this.email.trim()).set({\n\"name\":this.name.trim(),\n\"email\":this.email.trim(),\n\"mobile\":this.mobile.trim(),\n\"enrolledby\":this.curentUser.email,\n\"role\":'subagent'\n         }).catch((error) => {\n          console.log(error);\n          alert(\"Unable to process request\");\n          return;\n         }).then((userResult) => {\n          console.log(userResult);\n          alert(\"Sub Agent registered sucessfully\");\n          this.name = \"\";\n          this.email = \"\";\n          this.mobile = \"\";\n          //  this.goto('login');\n          return;\n         })\n        }}).catch((err) => {\n          console.log(err);\n          console.log(JSON.parse(JSON.stringify(err)));\n          \n          var errMsg:any = JSON.parse(JSON.stringify(err))\n          errMsg = errMsg.code;\n          if(errMsg == 'auth/email-already-in-use'){\n            alert(\"The email address is already in use by another account.\")\n          }\n        })\n    }\n  }\n}\n"],"names":["Component","AngularFireAuth","AngularFirestore","AddmemberPage","constructor","auth","firestore","ngOnInit","showBtn","name","email","mobile","addbtn","console","log","addMember","test","length","alert","curentUser","JSON","parse","localStorage","userData","createUserWithEmailAndPassword","trim","toString","then","data","user","uid","collection","doc","set","catch","error","userResult","err","stringify","errMsg","code","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}